var __jsV="0204",listedmotorsBanner=function(n){this.date_format="YYYY-MM-DD, h:mm a";this.key_store="__banner_meta_data";this.id=n.id;this.name=n.name?n.name:"BANNER_"+this.id;this.banner_data=n;var t=this._get_meta_data();t&&t.id===this.id?this.banner_meta=t:(this.banner_meta={id:this.id,dismissed:!1,show_count:0},this._set_meta_data(this.banner_meta))},__listedmotors_banner;listedmotorsBanner.prototype._set_meta_data=function(n){$.jStorage.set(this.key_store,n)};listedmotorsBanner.prototype._get_meta_data=function(){return $.jStorage.get(this.key_store)};listedmotorsBanner.prototype.get_banner_data=function(){return this.banner_data};listedmotorsBanner.prototype.show_conditions_met=function(){if(!this.banner_data.id||!this.banner_data.message&&!this.banner_data.cta)return!1;if(this.banner_data.period){period=this.banner_data.period;var t=moment.utc(period.start_time,this.date_format),i=moment.utc(period.end_time,this.date_format),n=moment().utc();if(n.isBefore(t)||n.isAfter(i))return!1}return this.banner_meta.dismissed?!1:this.banner_meta.show_count>=this.banner_data.auto_hide_count?!1:!0};listedmotorsBanner.prototype.init_analytics=function(n){this.bannerAnalytics=n};listedmotorsBanner.prototype.get_show_count=function(){return this.banner_meta.show_count};listedmotorsBanner.prototype.update_show_count=function(){this.banner_meta.show_count+=1;this._set_meta_data(this.banner_meta)};listedmotorsBanner.prototype.dismissed=function(){this.banner_meta.dismissed=!0;this._set_meta_data(this.banner_meta)};typeof __listedmotors_banner_data!="undefined"&&(__listedmotors_banner=new listedmotorsBanner(__listedmotors_banner_data));$(document).ready(function(){if(__listedmotors_banner){var t=function(){var n=__listedmotors_banner.get_banner_data(),i=n.click_redirect,u=$(".listedmotors-banner"),t=$(".banner-message"),r=$(".banner-icon"),f=$(".banner-text"),e=$(".banner-cta"),o=$(".banner-mobile-cta"),s=$(".banner-action"),h=$(".banner-dismiss");f.html(n.message);e.html(n.cta);o.html(n.mobilecta);i&&(i==="download_app"?t.click(function(){DownloadAppModal.show_modal()}):t.attr("href",n.click_redirect));n.bgColor&&u.css("background",n.bgColor);n.target&&t.attr("target",n.target);n.icon?r.css("background-image","url('"+n.icon+"')"):r.hide();n.cta||(t.css("cursor","default"),s.hide());n.dismiss||h.hide()},n=function(n){__listedmotors_banner.show_conditions_met()&&(t(),setTimeout(function(){__listedmotors_banner.update_show_count();$(".listedmotors-banner").show().toggleClass("closed")},n))};$(".banner-dismiss").click(function(){__listedmotors_banner.dismissed();$(".listedmotors-banner").toggleClass("closed")});listedmotorsPageLocator.isHomePage()?($(".listedmotors-banner").addClass("banner-slide"),n(2e3)):listedmotorsPageLocator.isBuyPage()&&($(".listedmotors-banner").addClass("banner-slide"),n(4e3))}})