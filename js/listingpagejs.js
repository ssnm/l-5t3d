function SearchQuery(n){n||(n={});this.userID=n.userID||null;this.make=n.make||null;this.model=n.model||null;this.years=n.years||[];this.bodyTypes=n.bodyTypes||[];this.colors=n.colors||[];this.minPrice=n.minPrice||null;this.maxPrice=n.maxPrice||null;this.minMiles=n.minMiles||null;this.maxMiles=n.maxMiles||null;this.sort=n.sort||null;this.priceType=n.priceType||null;this.transmissionType=n.transmissionType||null;this.powertrains=n.powertrains||null;this.prices=n.prices||null;this.driveTrains=n.driveTrains||[];this.numberOfDoors=n.numberOfDoors||[];this.generalOptions=n.generalOptions||[];this.minAverageMPG=n.minAverageMPG||null;this.minHorsePower=n.minHorsePower||null;this.isFreeDeliveryFirst=n.isFreeDeliveryFirst||!1;this.isLeasingFirst=n.isLeasingFirst||!1;this.showOnSaleOnly=n.showOnSaleOnly||!1;this.showLeasableOnly=n.showLeasableOnly||!1;this.searchResults=null;this.pageId=1;this.getUrl=function(){function n(n,r){r&&(t+=i+n+"="+r,i="&")}var t="/buy",i="?";return this.showOnSaleOnly&&(t+="/onsale"),this.showLeasableOnly&&(t+="/leases"),this.modelUrl?t+="/"+this.modelUrl:this.makesUrl&&(t+="/"+this.makesUrl),n("years",this.years.join("_")),n("bodyTypes",this.bodyTypes.join("_")),n("colors",this.colors.join("_")),n("minPrice",this.minPrice),n("maxPrice",this.maxPrice),n("minMiles",this.minMiles),n("maxMiles",this.maxMiles),n("makeIds",this.makeIdsUrl),n("modelIds",this.modelIdsUrl),this.trimIds&&n("trimIds",this.trimIds.join("_")),n("sort",this.sort),n("pricetype",this.priceType),n("tt",this.transmissionType),n("drivetrains",this.driveTrains.join("_")),this.powertrains&&n("powertrains",this.powertrains.join("_")),this.prices&&n("prices",this.prices.join("_")),n("numberOfDoors",this.numberOfDoors.join("_")),n("generalOptions",this.generalOptions.join("_")),n("minAverageMPG",this.minAverageMPG),n("minHorsePower",this.minHorsePower),this.isFreeDeliveryFirst?n("sort_b","free_delivery"):this.isLeasingFirst&&n("sort_b","leasing_first"),t}}function SearchResult(){this.metaData={totalResults:null,pageCounts:null,isExactMatch:null,searchQueryId:null}}var __jsV="0204",Utilities=function(){function t(n){var s=["","thousand","million","billion","trillion"],e=["zero","one","two","three","four","five","six","seven","eight","nine"],h=["ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],c=["twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],i,o,t;if(n=n.toString(),n=n.replace(/[\, ]/g,""),n!=parseFloat(n))return"not a number";if(i=n.indexOf("."),i==-1&&(i=n.length),i>15)return"too big";var u=n.split(""),r="",f=0;for(t=0;t<i;t++)(i-t)%3==2?u[t]=="1"?(r+=h[Number(u[t+1])]+" ",t++,f=1):u[t]!=0&&(r+=c[u[t]-2]+" ",f=1):u[t]!=0&&(r+=e[u[t]]+" ",(i-t)%3==0&&(r+="hundred "),f=1),(i-t)%3==1&&(f&&(r+=s[(i-t-1)/3]+" "),f=0);if(i!=n.length)for(o=n.length,r+="point ",t=i+1;t<o;t++)r+=e[u[t]]+" ";return r.replace(/\s+/g," ")}var n={};return n.numberWithCommas=function(n){return n?n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""},n.preloadImages=function(n){$(n).each(function(){$("<img />").attr("src",this).appendTo("body").css("display","none")})},n.validateZip=function(n){return/^[0-9]{5}(-[0-9]{4})?$/.test(n)},n.validateEmail=function(n){return/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(n.trim())},n.isMobile=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))},n.roundNumToXPlaces=function(n,t){var i=Math.pow(10,t);return Math.round(n*i)/i},n.getQueryParameters=function(){return document.location.search.replace(/(^\?)/,"").split("&").map(function(n){return n=n.split("="),this[n[0]]=n[1],this}.bind({}))[0]},n.debounce=function(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}},n.moneyToWords=function(n){var i,r,u;typeof n=="string"&&(n=parseFloat(n));var f=n.toFixed(2).toString(),o=parseInt(f.split(".")[0]),e=t(o);return e+=" dollars",i=parseInt(f.split(".")[1]),r=e,i&&(u=t(i),u+=i>1?" cents":" cent",r+=" and "+u),r.charAt(0).toUpperCase()+r.slice(1)},n.shuffleArray=function(n){for(var t=n.length,r,i;0!==t;)i=Math.floor(Math.random()*t),t-=1,r=n[t],n[t]=n[i],n[i]=r;return n},n.formatDate=function(n){var r=new Date(n),t=r.getDate(),i=r.getMonth()+1,u=r.getFullYear();return t<10&&(t="0"+t),i<10&&(i="0"+i),i+"/"+t+"/"+u},n.capitalizeFirstLetter=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},n}(),listedmotorsUser,extend,hasProp;if(!function(n,t,i,r){"use strict";function f(n){return("string"==typeof n||n instanceof String)&&(n=n.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),n}var e=function(t){for(var i=t.length,r=n("head");i--;)0===r.has("."+t[i]).length&&r.append('<meta class="'+t[i]+'" />')};e(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]);n(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof i.body&&FastClick.attach(i.body)});var u=function(t,r){if("string"==typeof t){if(r){var u;if(r.jquery){if(u=r[0],!u)return r}else
u=r;return n(u.querySelectorAll(t))}return n(i.querySelectorAll(t))}return n(t,r)},o=function(n){var t=[];return n||t.push("data"),this.namespace.length>0&&t.push(this.namespace),t.push(this.name),t.join("-")},s=function(n){for(var i=n.split("-"),t=i.length,r=[];t--;)0!==t?r.push(i[t]):this.namespace.length>0?r.push(this.namespace,i[t]):r.push(i[t]);return r.reverse().join("-")},h=function(t,i){var r=this,f=function(){var f=u(this),e=!f.data(r.attr_name(!0)+"-init");f.data(r.attr_name(!0)+"-init",n.extend({},r.settings,i||t,r.data_options(f)));e&&r.events(this)};return u(this.scope).is("["+this.attr_name()+"]")?f.call(this.scope):u("["+this.attr_name()+"]",this.scope).each(f),"string"==typeof t?this[t].call(this,i):void 0},c=function(n,t){function i(){t(n[0])}function r(){if(this.one("load",i),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var n=this.attr("src"),t=n.match(/\?/)?"&":"?";t+="random="+(new Date).getTime();this.attr("src",n+t)}}return n.attr("src")?void(n[0].complete||4===n[0].readyState?i():r.call(n)):void i()};t.matchMedia||(t.matchMedia=function(){var r=t.styleMedia||t.media;if(!r){var n=i.createElement("style"),u=i.getElementsByTagName("script")[0],f=null;n.type="text/css";n.id="matchmediajs-test";u.parentNode.insertBefore(n,u);f="getComputedStyle"in t&&t.getComputedStyle(n,null)||n.currentStyle;r={matchMedium:function(t){var i="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return n.styleSheet?n.styleSheet.cssText=i:n.textContent=i,"1px"===f.width}}}return function(n){return{matches:r.matchMedium(n||"all"),media:n||"all"}}}()),function(n){function o(){u&&(r(o),s&&n.fx.tick())}for(var u,i=0,f=["webkit","moz"],r=t.requestAnimationFrame,e=t.cancelAnimationFrame,s="undefined"!=typeof n.fx;i<f.length&&!r;i++)r=t[f[i]+"RequestAnimationFrame"],e=e||t[f[i]+"CancelAnimationFrame"]||t[f[i]+"CancelRequestAnimationFrame"];r?(t.requestAnimationFrame=r,t.cancelAnimationFrame=e,s&&(n.fx.timer=function(t){t()&&n.timers.push(t)&&!u&&(u=!0,o())},n.fx.stop=function(){u=!1})):(t.requestAnimationFrame=function(n){var r=(new Date).getTime(),u=Math.max(0,16-(r-i)),f=t.setTimeout(function(){n(r+u)},u);return i=r+u,f},t.cancelAnimationFrame=function(n){clearTimeout(n)})}(n);t.Foundation={name:"Foundation",version:"5.5.2",media_queries:{small:u(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"small-only":u(".foundation-mq-small-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:u(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"medium-only":u(".foundation-mq-medium-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:u(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"large-only":u(".foundation-mq-large-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:u(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"xlarge-only":u(".foundation-mq-xlarge-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:u(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:n("<style><\/style>").appendTo("head")[0].sheet,global:{namespace:r},init:function(n,i,r,f,e){var h=[n,r,f,e],o=[],s;if(this.rtl=/rtl/i.test(u("html").attr("dir")),this.scope=n||this.scope,this.set_namespace(),i&&"string"==typeof i&&!/reflow/i.test(i))this.libs.hasOwnProperty(i)&&o.push(this.init_lib(i,h));else
for(s in this.libs)o.push(this.init_lib(s,i));return u(t).load(function(){u(t).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),n},init_lib:function(t,i){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),i&&i.hasOwnProperty(t)?("undefined"!=typeof this.libs[t].settings?n.extend(!0,this.libs[t].settings,i[t]):"undefined"!=typeof this.libs[t].defaults&&n.extend(!0,this.libs[t].defaults,i[t]),this.libs[t].init.apply(this.libs[t],[this.scope,i[t]])):(i=i instanceof Array?i:new Array(i),this.libs[t].init.apply(this.libs[t],i))):function(){}},patch:function(n){n.scope=this.scope;n.namespace=this.global.namespace;n.rtl=this.rtl;n.data_options=this.utils.data_options;n.attr_name=o;n.add_namespace=s;n.bindings=h;n.S=this.utils.S},inherit:function(n,t){for(var i=t.split(" "),r=i.length;r--;)this.utils.hasOwnProperty(i[r])&&(n[i[r]]=this.utils[i[r]])},set_namespace:function(){var t=this.global.namespace===r?n(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=t===r||/false/i.test(t)?"":t},libs:{},utils:{S:u,throttle:function(n,t){var i=null;return function(){var r=this,u=arguments;null==i&&(i=setTimeout(function(){n.apply(r,u);i=null},t))}},debounce:function(n,t,i){var r,u;return function(){var f=this,e=arguments,o=function(){r=null;i||(u=n.apply(f,e))},s=i&&!r;return clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}},data_options:function(t,i){function h(n){return!isNaN(+n)&&null!==n&&""!==n&&n!==!1&&n!==!0}function o(t){return"string"==typeof t?n.trim(t):t}i=i||"options";var u,r,f,s={},c=function(n){var t=Foundation.global.namespace;return n.data(t.length>0?t+"-"+i:i)},e=c(t);if("object"==typeof e)return e;for(f=(e||":").split(";"),u=f.length;u--;)r=f[u].split(":"),r=[r[0],r.slice(1).join(":")],/true/i.test(r[1])&&(r[1]=!0),/false/i.test(r[1])&&(r[1]=!1),h(r[1])&&(r[1]=-1===r[1].indexOf(".")?parseInt(r[1],10):parseFloat(r[1])),2===r.length&&r[0].length>0&&(s[o(r[0])]=o(r[1]));return s},register_media:function(t,i){Foundation.media_queries[t]===r&&(n("head").append('<meta class="'+i+'"/>'),Foundation.media_queries[t]=f(n("."+i).css("font-family")))},add_custom_rule:function(n,t){if(t===r&&Foundation.stylesheet)Foundation.stylesheet.insertRule(n,Foundation.stylesheet.cssRules.length);else{var i=Foundation.media_queries[t];i!==r&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[t]+"{ "+n+" }",Foundation.stylesheet.cssRules.length)}},image_loaded:function(n,t){function u(n){for(var i=n.length,t=i-1;t>=0;t--)if(n.attr("height")===r)return!1;return!0}var f=this,i=n.length;(0===i||u(n))&&t(n);n.each(function(){c(f.S(this),function(){i-=1;0===i&&t(n)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(n){return t.matchMedia(n).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}};n.fn.foundation=function(){var n=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(n)),this})}}(jQuery,window,window.document),function(n,t,i){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.5.2",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:!1,hover_timeout:150,opened:function(){},closed:function(){}},init:function(t,i,r){Foundation.inherit(this,"throttle");n.extend(!0,this.settings,i,r);this.bindings(i,r)},events:function(){var r=this,u=r.S;u(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(t){var i=u(this).data(r.attr_name(!0)+"-init")||r.settings;(!i.is_hover||Modernizr.touch)&&(t.preventDefault(),u(this).parent("[data-reveal-id]").length&&t.stopPropagation(),r.toggle(n(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(n){var t,i,f=u(this),e;clearTimeout(r.timeout);f.data(r.data_attr())?(t=u("#"+f.data(r.data_attr())),i=f):(t=f,i=u("["+r.attr_name()+'="'+t.attr("id")+'"]'));e=i.data(r.attr_name(!0)+"-init")||r.settings;u(n.currentTarget).data(r.data_attr())&&e.is_hover&&r.closeall.call(r);e.is_hover&&r.open.apply(r,[t,i])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var t=u(this),i,n;t.data(r.data_attr())?n=t.data(r.data_attr(!0)+"-init")||r.settings:(i=u("["+r.attr_name()+'="'+u(this).attr("id")+'"]'),n=i.data(r.attr_name(!0)+"-init")||r.settings);r.timeout=setTimeout(function(){t.data(r.data_attr())?n.is_hover&&r.close.call(r,u("#"+t.data(r.data_attr()))):n.is_hover&&r.close.call(r,t)}.bind(this),n.hover_timeout)}).on("click.fndtn.dropdown",function(t){var f=u(t.target).closest("["+r.attr_name()+"-content]"),e=f.find("a");return e.length>0&&"false"!==f.attr("aria-autoclose")&&r.close.call(r,u("["+r.attr_name()+"-content]")),t.target!==i&&!n.contains(i.documentElement,t.target)||u(t.target).closest("["+r.attr_name()+"]").length>0?void 0:!u(t.target).data("revealId")&&f.length>0&&(u(t.target).is("["+r.attr_name()+"-content]")||n.contains(f.first()[0],t.target))?void t.stopPropagation():void r.close.call(r,u("["+r.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+r.attr_name()+"-content]",function(){r.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+r.attr_name()+"-content]",function(){r.settings.closed.call(this)});u(t).off(".dropdown").on("resize.fndtn.dropdown",r.throttle(function(){r.resize.call(r)},50));this.resize()},close:function(t){var i=this;t.each(function(r){var u=n("["+i.attr_name()+"="+t[r].id+"]")||n("aria-controls="+t[r].id+"]");u.attr("aria-expanded","false");i.S(this).hasClass(i.settings.active_class)&&(i.S(this).css(Foundation.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(i.settings.active_class).prev("["+i.attr_name()+"]").removeClass(i.settings.active_class).removeData("target"),i.S(this).trigger("closed.fndtn.dropdown",[t]))});t.removeClass("f-open-"+this.attr_name(!0))},closeall:function(){var t=this;n.each(t.S(".f-open-"+this.attr_name(!0)),function(){t.close.call(t,t.S(this))})},open:function(n,t){this.css(n.addClass(this.settings.active_class),t);n.prev("["+this.attr_name()+"]").addClass(this.settings.active_class);n.data("target",t.get(0)).trigger("opened.fndtn.dropdown",[n,t]);n.attr("aria-hidden","false");t.attr("aria-expanded","true");n.focus();n.addClass("f-open-"+this.attr_name(!0))},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(n){if(!n.hasClass(this.settings.disabled_class)){var t=this.S("#"+n.data(this.data_attr()));0!==t.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(t)),t.hasClass(this.settings.active_class)?(this.close.call(this,t),t.data("target")!==n.get(0)&&this.open.call(this,t,n)):this.open.call(this,t,n))}},resize:function(){var t=this.S("["+this.attr_name()+"-content].open"),i=n(t.data("target"));t.length&&i.length&&this.css(t,i)},css:function(n,t){var i=Math.max((t.width()-n.width())/2,8),r=t.data(this.attr_name(!0)+"-init")||this.settings,e=n.parent().css("overflow-y")||n.parent().css("overflow"),u,f;return(this.clear_idx(),this.small())?(u=this.dirs.bottom.call(n,t,r),n.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:u.top}),n.css(Foundation.rtl?"right":"left",i)):"visible"!==e?(f=t[0].offsetTop+t[0].offsetHeight,n.attr("style","").css({position:"absolute",top:f}),n.css(Foundation.rtl?"right":"left",i)):this.style(n,t,r),n},style:function(t,i,r){var u=n.extend({position:"absolute"},this.dirs[r.align].call(t,i,r));t.attr("style","").css(u)},dirs:{_base:function(n){var s=this.offsetParent(),e=s.offset(),r=n.offset(),f,u,o;return r.top-=e.top,r.left-=e.left,r.missRight=!1,r.missTop=!1,r.missLeft=!1,r.leftRightFlag=!1,f=i.getElementsByClassName("row")[0]?i.getElementsByClassName("row")[0].clientWidth:t.innerWidth,u=(t.innerWidth-f)/2,o=f,this.hasClass("mega")||(n.offset().top<=this.outerHeight()&&(r.missTop=!0,o=t.innerWidth-u,r.leftRightFlag=!0),n.offset().left+this.outerWidth()>n.offset().left+u&&n.offset().left-u>this.outerWidth()&&(r.missRight=!0,r.missLeft=!1),n.offset().left-this.outerWidth()<=0&&(r.missLeft=!0,r.missRight=!1)),r},top:function(n,t){var r=Foundation.libs.dropdown,i=r.dirs._base.call(this,n);return this.addClass("drop-top"),1==i.missTop&&(i.top=i.top+n.outerHeight()+this.outerHeight(),this.removeClass("drop-top")),1==i.missRight&&(i.left=i.left-this.outerWidth()+n.outerWidth()),(n.outerWidth()<this.outerWidth()||r.small()||this.hasClass(t.mega_menu))&&r.adjust_pip(this,n,t,i),Foundation.rtl?{left:i.left-this.outerWidth()+n.outerWidth(),top:i.top-this.outerHeight()}:{left:i.left,top:i.top-this.outerHeight()}},bottom:function(n,t){var r=Foundation.libs.dropdown,i=r.dirs._base.call(this,n);return 1==i.missRight&&(i.left=i.left-this.outerWidth()+n.outerWidth()),(n.outerWidth()<this.outerWidth()||r.small()||this.hasClass(t.mega_menu))&&r.adjust_pip(this,n,t,i),r.rtl?{left:i.left-this.outerWidth()+n.outerWidth(),top:i.top+n.outerHeight()}:{left:i.left,top:i.top+n.outerHeight()}},left:function(n){var t=Foundation.libs.dropdown.dirs._base.call(this,n);return this.addClass("drop-left"),1==t.missLeft&&(t.left=t.left+this.outerWidth(),t.top=t.top+n.outerHeight(),this.removeClass("drop-left")),{left:t.left-this.outerWidth(),top:t.top}},right:function(n,t){var i=Foundation.libs.dropdown.dirs._base.call(this,n),r;return this.addClass("drop-right"),1==i.missRight?(i.left=i.left-this.outerWidth(),i.top=i.top+n.outerHeight(),this.removeClass("drop-right")):i.triggeredRight=!0,r=Foundation.libs.dropdown,(n.outerWidth()<this.outerWidth()||r.small()||this.hasClass(t.mega_menu))&&r.adjust_pip(this,n,t,i),{left:i.left+n.outerWidth(),top:i.top}}},adjust_pip:function(n,t,i,r){var f=Foundation.stylesheet,u=8;n.hasClass(i.mega_class)?u=r.left+t.outerWidth()/2-8:this.small()&&(u+=r.left-8);this.rule_idx=f.cssRules.length;var e=".f-dropdown.open:before",o=".f-dropdown.open:after",s="left: "+u+"px;",h="left: "+(u-1)+"px;";1==r.missRight&&(u=n.outerWidth()-23,e=".f-dropdown.open:before",o=".f-dropdown.open:after",s="left: "+u+"px;",h="left: "+(u-1)+"px;");1==r.triggeredRight&&(e=".f-dropdown.open:before",o=".f-dropdown.open:after",s="left:-12px;",h="left:-14px;");f.insertRule?(f.insertRule([e,"{",s,"}"].join(" "),this.rule_idx),f.insertRule([o,"{",h,"}"].join(" "),this.rule_idx+1)):(f.addRule(e,s,this.rule_idx),f.addRule(o,h,this.rule_idx+1))},clear_idx:function(){var n=Foundation.stylesheet;"undefined"!=typeof this.rule_idx&&(n.deleteRule(this.rule_idx),n.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown");this.S("html, body").off(".fndtn.dropdown");this.S(t).off(".fndtn.dropdown");this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document),function(n,t,i,r){"use strict";function u(n){var t=/fade/i.test(n),i=/pop/i.test(n);return{animate:t||i,pop:i,fade:t}}Foundation.libs.reveal={name:"reveal",version:"5.5.2",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",multiple_opened:!1,bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},on_ajax_error:n.noop,bg:n(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(t,i,r){n.extend(!0,this.settings,i,r);this.bindings(i,r)},events:function(){var n=this,t=n.S;return t(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(i){var f;if(i.preventDefault(),!n.locked){var r=t(this),u=r.data(n.data_attr("reveal-ajax")),e=r.data(n.data_attr("reveal-replace-content"));(n.locked=!0,"undefined"==typeof u)?n.open.call(n,r):(f=u===!0?r.attr("href"):u,n.open.call(n,r,{url:f},{replaceContentSel:e}))}}),t(i).on("click.fndtn.reveal",this.close_targets(),function(i){if(i.preventDefault(),!n.locked){var r=t("["+n.attr_name()+"].open").data(n.attr_name(!0)+"-init")||n.settings,u=t(i.target)[0]===t("."+r.bg_class)[0];if(u){if(!r.close_on_background_click)return;i.stopPropagation()}n.locked=!0;n.close.call(n,u?t("["+n.attr_name()+"].open:not(.toback)"):t(this).closest("["+n.attr_name()+"]"))}}),t("["+n.attr_name()+"]",this.scope).length>0?t(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):t(this.scope).on("open.fndtn.reveal","["+n.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+n.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+n.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+n.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+n.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+n.attr_name()+"]",this.close_video),!0},key_up_on:function(){var n=this;return n.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(t){var i=n.S("["+n.attr_name()+"].open"),r=i.data(n.attr_name(!0)+"-init")||n.settings;r&&27===t.which&&r.close_on_esc&&!n.locked&&n.close.call(n,i)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(i,r){var u,f=this,e,o,s;if(i?"undefined"!=typeof i.selector?u=f.S("#"+i.data(f.data_attr("reveal-id"))).first():(u=f.S(this.scope),r=i):u=f.S(this.scope),e=u.data(f.attr_name(!0)+"-init"),e=e||this.settings,u.hasClass("open")&&i.attr("data-reveal-id")==u.attr("id"))return f.close(u);u.hasClass("open")||(o=f.S("["+f.attr_name()+"].open"),("undefined"==typeof u.data("css-top")&&u.data("css-top",parseInt(u.css("top"),10)).data("offset",this.cache_offset(u)),u.attr("tabindex","0").attr("aria-hidden","false"),this.key_up_on(u),u.on("open.fndtn.reveal",function(n){"fndtn.reveal"!==n.namespace}),u.on("open.fndtn.reveal").trigger("open.fndtn.reveal"),o.length<1&&this.toggle_bg(u,!0),"string"==typeof r&&(r={url:r}),"undefined"!=typeof r&&r.url)?(s="undefined"!=typeof r.success?r.success:null,n.extend(r,{success:function(t,i,r){if(n.isFunction(s)){var h=s(t,i,r);"string"==typeof h&&(t=h)}"undefined"!=typeof options&&"undefined"!=typeof options.replaceContentSel?u.find(options.replaceContentSel).html(t):u.html(t);f.S(u).foundation("section","reflow");f.S(u).children().foundation();o.length>0&&(e.multiple_opened?f.to_back(o):f.hide(o,e.css.close));f.show(u,e.css.open)}}),e.on_ajax_error!==n.noop&&n.extend(r,{error:e.on_ajax_error}),n.ajax(r)):(o.length>0&&(e.multiple_opened?f.to_back(o):f.hide(o,e.css.close)),this.show(u,e.css.open)));f.S(t).trigger("resize")},close:function(t){var t=t&&t.length?t:this.S(this.scope),u=this.S("["+this.attr_name()+"].open"),i=t.data(this.attr_name(!0)+"-init")||this.settings,r=this;u.length>0&&(t.removeAttr("tabindex","0").attr("aria-hidden","true"),this.locked=!0,this.key_up_off(t),t.trigger("close.fndtn.reveal"),(i.multiple_opened&&1===u.length||!i.multiple_opened||t.length>1)&&(r.toggle_bg(t,!1),r.to_front(t)),i.multiple_opened?(r.hide(t,i.css.close,i),r.to_front(n(n.makeArray(u).reverse()[1]))):r.hide(u,i.css.close,i))},close_targets:function(){var n="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?n+", ."+this.settings.bg_class:n},toggle_bg:function(t,i){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=n("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var u=this.settings.bg.filter(":visible").length>0;i!=u&&((i==r?u:!i)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(i,r){var c,o,e,f;if(r){var f=i.data(this.attr_name(!0)+"-init")||this.settings,s=f.root_element,h=this;return(0===i.parent(s).length&&(c=i.wrap('<div style="display: none;" />').parent(),i.on("closed.fndtn.reveal.wrapped",function(){i.detach().appendTo(c);i.unwrap().unbind("closed.fndtn.reveal.wrapped")}),i.detach().appendTo(s)),o=u(f.animation),o.animate||(this.locked=!1),o.pop)?(r.top=n(t).scrollTop()-i.data("offset")+"px",e={top:n(t).scrollTop()+i.data("css-top")+"px",opacity:1},setTimeout(function(){return i.css(r).animate(e,f.animation_speed,"linear",function(){h.locked=!1;i.trigger("opened.fndtn.reveal")}).addClass("open")},f.animation_speed/2)):o.fade?(r.top=n(t).scrollTop()+i.data("css-top")+"px",e={opacity:1},setTimeout(function(){return i.css(r).animate(e,f.animation_speed,"linear",function(){h.locked=!1;i.trigger("opened.fndtn.reveal")}).addClass("open")},f.animation_speed/2)):i.css(r).show().css({opacity:1}).addClass("open").trigger("opened.fndtn.reveal")}return f=this.settings,u(f.animation).fade?i.fadeIn(f.animation_speed/2):(this.locked=!1,i.show())},to_back:function(n){n.addClass("toback")},to_front:function(n){n.removeClass("toback")},hide:function(i,r){var s,o,e,f;return r?(f=i.data(this.attr_name(!0)+"-init"),s=this,f=f||this.settings,o=u(f.animation),o.animate||(this.locked=!1),o.pop)?(e={top:-n(t).scrollTop()-i.data("offset")+"px",opacity:0},setTimeout(function(){return i.animate(e,f.animation_speed,"linear",function(){s.locked=!1;i.css(r).trigger("closed.fndtn.reveal")}).removeClass("open")},f.animation_speed/2)):o.fade?(e={opacity:0},setTimeout(function(){return i.animate(e,f.animation_speed,"linear",function(){s.locked=!1;i.css(r).trigger("closed.fndtn.reveal")}).removeClass("open")},f.animation_speed/2)):i.hide().css(r).removeClass("open").trigger("closed.fndtn.reveal"):(f=this.settings,u(f.animation).fade?i.fadeOut(f.animation_speed/2):i.hide())},close_video:function(t){var r=n(".flex-video",t.target),i=n("iframe",r);i.length>0&&(i.attr("data-src",i[0].src),i.attr("src",i.attr("src")),r.hide())},open_video:function(t){var u=n(".flex-video",t.target),i=u.find("iframe"),f,e;i.length>0&&(f=i.attr("data-src"),"string"==typeof f?i[0].src=i.attr("data-src"):(e=i[0].src,i[0].src=r,i[0].src=e),u.show())},data_attr:function(n){return this.namespace.length>0?this.namespace+"-"+n:n},cache_offset:function(n){var t=n.show().height()+parseInt(n.css("top"),10)+n.scrollY;return n.hide(),t},off:function(){n(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document),function(n,t){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.5.2",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(n,t){return'<span data-selector="'+n+'" id="'+n+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+t+'<span class="nub"><\/span><\/span>'}},cache:{},init:function(n,t,i){Foundation.inherit(this,"random_str");this.bindings(t,i)},should_show:function(t){var i=n.extend({},this.settings,this.data_options(t));return"all"===i.show_on?!0:this.small()&&"small"===i.show_on?!0:this.medium()&&"medium"===i.show_on?!0:this.large()&&"large"===i.show_on?!0:!1},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(t){function f(n,t,r){n.timer||(r?(n.timer=null,i.showTip(t)):n.timer=setTimeout(function(){n.timer=null;i.showTip(t)}.bind(n),i.settings.hover_delay))}function u(n,t){n.timer&&(clearTimeout(n.timer),n.timer=null);i.hide(t)}var i=this,r=i.S;i.create(this.S(t));n(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(t){var e=r(this),o=n.extend({},i.settings,i.data_options(e)),h=!1,s;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&r(t.target).is("a")||/mouse/i.test(t.type)&&i.ie_touch(t))return!1;if(e.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&t.preventDefault(),i.hide(e);else{if(o.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type))return;!o.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&(t.preventDefault(),r(o.tooltip_class+".open").hide(),h=!0,n(".open["+i.attr_name()+"]").length>0)&&(s=r(n(".open["+i.attr_name()+"]")[0]),i.hide(s));/enter|over/i.test(t.type)?f(this,e):"mouseout"===t.type||"mouseleave"===t.type?u(this,e):f(this,e,!0)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(t){return/mouse/i.test(t.type)&&i.ie_touch(t)?!1:void(("touch"!=n(this).data("tooltip-open-event-type")||"mouseleave"!=t.type)&&("mouse"==n(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(t.type)?i.convert_to_touch(n(this)):u(this,n(this))))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(){u(this,r(this))})},ie_touch:function(){return!1},showTip:function(n){var t=this.getTip(n);if(this.should_show(n,t))return this.show(n)},getTip:function(t){var r=this.selector(t),u=n.extend({},this.settings,this.data_options(t)),i=null;return r&&(i=this.S('span[data-selector="'+r+'"]'+u.tooltip_class)),"object"==typeof i?i:!1},selector:function(n){var t=n.attr(this.attr_name())||n.attr("data-selector");return"string"!=typeof t&&(t=this.random_str(6),n.attr("data-selector",t).attr("aria-describedby",t)),t},create:function(i){var o=this,r=n.extend({},this.settings,this.data_options(i)),f=this.settings.tip_template,u,e;"string"==typeof r.tip_template&&t.hasOwnProperty(r.tip_template)&&(f=t[r.tip_template]);u=n(f(this.selector(i),n("<div><\/div>").html(i.attr("title")).html()));e=this.inheritable_classes(i);u.addClass(e).appendTo(r.append_to);Modernizr.touch&&(u.append('<span class="tap-to-close">'+r.touch_close_text+"<\/span>"),u.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(){o.hide(i)}));i.removeAttr("title").attr("title","")},reposition:function(t,i,r){var s,u,e,h,f,o;(i.css("visibility","hidden").show(),s=t.data("width"),u=i.children(".nub"),e=u.outerHeight(),h=u.outerHeight(),i.css(this.small()?{width:"100%"}:{width:s?s:"auto"}),f=function(n,t,i,r,u){return n.css({top:t?t:"auto",bottom:r?r:"auto",left:u?u:"auto",right:i?i:"auto"}).end()},f(i,t.offset().top+t.outerHeight()+10,"auto","auto",t.offset().left),this.small())?(f(i,t.offset().top+t.outerHeight()+10,"auto","auto",12.5,n(this.scope).width()),i.addClass("tip-override"),f(u,-e,"auto","auto",t.offset().left)):(o=t.offset().left,Foundation.rtl&&(u.addClass("rtl"),o=t.offset().left+t.outerWidth()-i.outerWidth()),f(i,t.offset().top+t.outerHeight()+10,"auto","auto",o),u.attr("style")&&u.removeAttr("style"),i.removeClass("tip-override"),r&&r.indexOf("tip-top")>-1?(Foundation.rtl&&u.addClass("rtl"),f(i,t.offset().top-i.outerHeight(),"auto","auto",o).removeClass("tip-override")):r&&r.indexOf("tip-left")>-1?(f(i,t.offset().top+t.outerHeight()/2-i.outerHeight()/2,"auto","auto",t.offset().left-i.outerWidth()-e).removeClass("tip-override"),u.removeClass("rtl")):r&&r.indexOf("tip-right")>-1&&(f(i,t.offset().top+t.outerHeight()/2-i.outerHeight()/2,"auto","auto",t.offset().left+t.outerWidth()+e).removeClass("tip-override"),u.removeClass("rtl")));i.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(t){var r=n.extend({},this.settings,this.data_options(t)),u=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(r.additional_inheritable_classes),i=t.attr("class"),f=i?n.map(i.split(" "),function(t){if(-1!==n.inArray(t,u))return t}).join(" "):"";return n.trim(f)},convert_to_touch:function(t){var i=this,r=i.getTip(t),u=n.extend({},i.settings,i.data_options(t));0===r.find(".tap-to-close").length&&(r.append('<span class="tap-to-close">'+u.touch_close_text+"<\/span>"),r.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(){i.hide(t)}));t.data("tooltip-open-event-type","touch")},show:function(n){var t=this.getTip(n);"touch"==n.data("tooltip-open-event-type")&&this.convert_to_touch(n);this.reposition(n,t,n.attr("class"));n.addClass("open");t.fadeIn(150)},hide:function(n){var t=this.getTip(n);t.fadeOut(150,function(){t.find(".tap-to-close").remove();t.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose");n.removeClass("open")})},off:function(){var t=this;this.S(this.scope).off(".fndtn.tooltip");this.S(this.settings.tooltip_class).each(function(i){n("["+t.attr_name()+"]").eq(i).attr("title",n(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document),typeof jQuery=="undefined")throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||t[0]==1&&t[1]==9&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher");}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(i.style[n]!==undefined)return{end:t[n]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){(n.support.transition=t(),n.support.transition)&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));typeof i=="string"&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.5";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;(u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,"")),r=n(u),i&&i.preventDefault(),r.length||(r=f.closest(".alert")),r.trigger(i=n.Event("close.bs.alert")),i.isDefaultPrevented())||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f=typeof i=="object"&&i;r||u.data("bs.button",r=new t(this,f));i=="toggle"?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.5";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var r="disabled",i=this.$element,f=i.is("input")?"val":"html",u=i.data();t+="Text";u.resetText==null&&i.data("resetText",i[f]());setTimeout(n.proxy(function(){i[f](u[t]==null?this.options[t]:u[t]);t=="loadingText"?(this.isLoading=!0,i.addClass(r).attr(r,r)):this.isLoading&&(this.isLoading=!1,i.removeClass(r).removeAttr(r))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),n.prop("type")=="radio"?(n.prop("checked")&&(t=!1),i.find(".active").removeClass("active"),this.$element.addClass("active")):n.prop("type")=="checkbox"&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active"))};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target);r.hasClass("btn")||(r=r.closest(".btn"));i.call(r,"toggle");n(t.target).is('input[type="radio"]')||n(t.target).is('input[type="checkbox"]')||t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),typeof i=="object"&&i),e=typeof i=="string"?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));typeof i=="number"?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));this.options.pause!="hover"||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.5";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i=this.getItemIndex(t),f=n=="prev"&&i===0||n=="next"&&i==this.$items.length-1,r,u;return f&&!this.options.wrap?t:(r=n=="prev"?-1:1,u=(i+r)%this.$items.length,this.$items.eq(u))};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1)&&!(n<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f=i=="next"?"left":"right",a=this,o,s,h,c;return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),this.$element.trigger(s),s.isDefaultPrevented())?void 0:(this.sliding=!0,l&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),typeof i=="object"&&i);!r&&f.toggle&&/show|hide/.test(i)&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));typeof i=="string"&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.5";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing"),!r||!r.length||(f=r.data("bs.collapse"),!f||!f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented())){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented())){if(i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},!n.support.transition)return u.call(this);this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":u.data();i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function u(t){t&&t.which===3||(n(e).remove(),n(i).each(function(){var u=n(this),i=r(u),f={relatedTarget:this};i.hasClass("open")&&(t&&t.type=="click"&&/input|textarea/i.test(t.target.tagName)&&n.contains(i[0],t.target)||(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented())||(u.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function o(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));typeof i=="string"&&u[i].call(r)})}var e=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.5";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=r(f),o=i.hasClass("open"),u(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length)n(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n(this)).on("click",u);if(e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger("shown.bs.dropdown",e)}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,u;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=r(e),s=o.hasClass("open"),!s&&t.which!=27||s&&t.which==27)return t.which==27&&o.find(i).trigger("focus"),e.trigger("click");(h=" li:not(.disabled):visible a",f=o.find(".dropdown-menu"+h),f.length)&&(u=f.index(t.target),t.which==38&&u>0&&u--,t.which==40&&u<f.length-1&&u++,~u||(u=0),f.eq(u).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=o;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",u).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),typeof i=="object"&&i);u||f.data("bs.modal",u=new t(this,e));typeof i=="string"?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.5";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});if(this.$element.trigger(u),!this.isShown&&!u.isDefaultPrevented()){this.isShown=!0;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){n(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})});this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in");r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)})}};t.prototype.hide=function(i){(i&&i.preventDefault(),i=n.Event("hide.bs.modal"),this.$element.trigger(i),this.isShown&&!i.isDefaultPrevented())&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){n.which==27&&this.hide()},this));else
this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){if(this.isShown)n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this));else
n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){r=n.support.transition&&f;this.$backdrop=n(document.createElement("div")).addClass("modal-backdrop "+f).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}n.target===n.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus():this.hide())},this));if(r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var n=window.innerWidth,t;n||(t=document.documentElement.getBoundingClientRect(),n=t.right-Math.abs(t.left));this.bodyIsOverflowing=document.body.clientWidth<n;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){if(!n.isDefaultPrevented())u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f=typeof i=="object"&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.tooltip",r=new t(this,f)),typeof i=="string"&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.5";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(n.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],u=="click")this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else if(u!="manual"){o=u=="hover"?"mouseenter":"focusin";s=u=="hover"?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this));this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this))}this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState[t.type=="focusin"?"focus":"hover"]=!0),i.tip().hasClass("in")||i.hoverState=="in"){i.hoverState="in";return}if(clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)};t.prototype.isInStateTrue=function(){for(var n in this.inState)if(this.inState[n])return!0;return!1};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState[t.type=="focusout"?"focus":"hover"]=!1),!i.isInStateTrue()){if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){i.hoverState=="out"&&i.hide()},i.options.delay.hide)}};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,e,w,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i=typeof this.options.placement=="function"?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;y&&(p=i,e=this.getPosition(this.$viewport),i=i=="bottom"&&f.bottom+s>e.bottom?"top":i=="top"&&f.top-s<e.top?"bottom":i=="right"&&f.right+o>e.width?"left":i=="left"&&f.left-o<e.left?"right":i,r.removeClass(p).addClass(i));w=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(w,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;n=="out"&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top+=o;t.left+=s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;i=="top"&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?u.left*2-l+h:u.top*2-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function e(){u.hoverState!="in"&&r.detach();u.$element.removeAttr("aria-describedby").trigger("hidden.bs."+u.type);i&&i()}var u=this,r=n(this.$tip),f=n.Event("hide.bs."+this.type);if(this.$element.trigger(f),!f.isDefaultPrevented())return r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e(),this.hoverState=null,this};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||typeof n.attr("data-original-title")!="string")&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var u=t[0],r=u.tagName=="BODY",i=u.getBoundingClientRect();i.width==null&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=r?{top:0,left:0}:t.offset(),e={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},o=r?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,e,o,f)};t.prototype.getCalculatedOffset=function(n,t,i,r){return n=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-i/2}:n=="top"?{top:t.top-r,left:t.left+t.width/2-i/2}:n=="left"?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.right&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do
n+=~~(Math.random()*1e6);while(document.getElementById(n));return n};t.prototype.tip=function(){if(!this.$tip&&(this.$tip=n(this.options.template),this.$tip.length!=1))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type);n.$tip&&n.$tip.detach();n.$tip=null;n.$arrow=null;n.$viewport=null})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f=typeof i=="object"&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.popover",r=new t(this,f)),typeof i=="string"&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.5";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?typeof t=="string"?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){this.$body=n(document.body);this.$scrollElement=n(i).is(document.body)?n(window):n(i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",n.proxy(this.process,this));this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f=typeof i=="object"&&i;r||u.data("bs.scrollspy",r=new t(this,f));typeof i=="string"&&r[i]()})}t.VERSION="3.3.5";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget,n;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(t[n+1]===undefined||i<t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));typeof i=="string"&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.5";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function o(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);e?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),e=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&e?f.one("bsTransitionEnd",o).emulateTransitionEnd(t.TRANSITION_DURATION):o();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f=typeof i=="object"&&i;r||u.data("bs.affix",r=new t(this,f));typeof i=="string"&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.5";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(i!=null&&this.affixed=="top")return u<i?"top":!1;if(this.affixed=="bottom")return i!=null?u+this.unpin<=f.top?!1:"bottom":u+e<=n-r?!1:"bottom";var o=this.affixed==null,s=o?u:f.top,h=o?e:t;return i!=null&&u<=i?"top":r!=null&&s+h>=n-r?"bottom":!1};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=Math.max(n(document).height(),n(document.body).height());if(typeof r!="object"&&(u=f=r),typeof f=="function"&&(f=r.top(this.$element)),typeof u=="function"&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(this.unpin!=null&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin=i=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}i=="bottom"&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};t.offsetBottom!=null&&(t.offset.bottom=t.offsetBottom);t.offsetTop!=null&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery),function(n,t,i,r){var e=0,u=function(){var t=r.userAgent,i=/msie\s\d+/i;return 0<t.search(i)&&(t=i.exec(t).toString(),t=t.split(" ")[1],9>t)?(n("html").addClass("lt-ie9"),!0):!1}(),f;Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i=[].slice,r,u;if("function"!=typeof t)throw new TypeError;return r=i.call(arguments,1),u=function(){var f,e;return this instanceof u?(f=function(){},f.prototype=t.prototype,f=new f,e=t.apply(f,r.concat(i.call(arguments))),Object(e)===e?e:f):t.apply(n,r.concat(i.call(arguments)))},u});Array.prototype.indexOf||(Array.prototype.indexOf=function(n,t){var i,u,r;if(null==this)throw new TypeError('"this" is null or not defined');if((u=Object(this),r=u.length>>>0,0===r)||(i=+t||0,Infinity===Math.abs(i)&&(i=0),i>=r))return-1;for(i=Math.max(0<=i?i:r-Math.abs(i),0);i<r;){if(i in u&&u[i]===n)return i;i++}return-1});f=function(r,u,f){this.VERSION="2.0.10";this.input=r;this.plugin_count=f;this.old_to=this.old_from=this.update_tm=this.calc_count=this.current_plugin=0;this.raf_id=null;this.is_update=this.is_key=this.force_redraw=this.dragging=!1;this.is_start=!0;this.is_click=this.is_resize=this.is_active=!1;this.$cache={win:n(i),body:n(t.body),input:n(r),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,grid:null,grid_labels:[]};f=this.$cache.input;r={type:f.data("type"),min:f.data("min"),max:f.data("max"),from:f.data("from"),to:f.data("to"),step:f.data("step"),min_interval:f.data("minInterval"),max_interval:f.data("maxInterval"),drag_interval:f.data("dragInterval"),values:f.data("values"),from_fixed:f.data("fromFixed"),from_min:f.data("fromMin"),from_max:f.data("fromMax"),from_shadow:f.data("fromShadow"),to_fixed:f.data("toFixed"),to_min:f.data("toMin"),to_max:f.data("toMax"),to_shadow:f.data("toShadow"),prettify_enabled:f.data("prettifyEnabled"),prettify_separator:f.data("prettifySeparator"),force_edges:f.data("forceEdges"),keyboard:f.data("keyboard"),keyboard_step:f.data("keyboardStep"),grid:f.data("grid"),grid_margin:f.data("gridMargin"),grid_num:f.data("gridNum"),grid_snap:f.data("gridSnap"),hide_min_max:f.data("hideMinMax"),hide_from_to:f.data("hideFromTo"),prefix:f.data("prefix"),postfix:f.data("postfix"),max_postfix:f.data("maxPostfix"),decorate_both:f.data("decorateBoth"),values_separator:f.data("valuesSeparator"),disable:f.data("disable")};r.values=r.values&&r.values.split(",");(f=f.prop("value"))&&(f=f.split(";"),f[0]&&f[0]==+f[0]&&(f[0]=+f[0]),f[1]&&f[1]==+f[1]&&(f[1]=+f[1]),u&&u.values&&u.values.length?(r.from=f[0]&&u.values.indexOf(f[0]),r.to=f[1]&&u.values.indexOf(f[1])):(r.from=f[0]&&+f[0],r.to=f[1]&&+f[1]));u=n.extend(r,u);this.options=n.extend({type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!1,keyboard_step:5,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:"  ",disable:!1,onStart:null,onChange:null,onFinish:null,onUpdate:null},u);this.validate();this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null};this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single:0,p_single_real:0,p_from:0,p_from_real:0,p_to:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]};this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from:0,p_from_left:0,p_to:0,p_to_left:0,p_single:0,p_single_left:0};this.init()};f.prototype={init:function(n){if(this.coords.p_step=this.options.step/((this.options.max-this.options.min)/100),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),n){if(this.force_redraw=!0,this.calc(!0),this.options.onUpdate&&"function"==typeof this.options.onUpdate)this.options.onUpdate(this.result)}else if(this.force_redraw=!0,this.calc(!0),this.options.onStart&&"function"==typeof this.options.onStart)this.options.onStart(this.result);this.updateScene()},append:function(){this.$cache.input.before('<span class="irs js-irs-'+this.plugin_count+'"><\/span>');this.$cache.input.prop("readonly",!0);this.$cache.cont=this.$cache.input.prev();this.result.slider=this.$cache.cont;this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="-1"><span class="irs-line-left"><\/span><span class="irs-line-mid"><\/span><span class="irs-line-right"><\/span><\/span><span class="irs-min">0<\/span><span class="irs-max">1<\/span><span class="irs-from">0<\/span><span class="irs-to">0<\/span><span class="irs-single">0<\/span><\/span><span class="irs-grid"><\/span><span class="irs-bar"><\/span>');this.$cache.rs=this.$cache.cont.find(".irs");this.$cache.min=this.$cache.cont.find(".irs-min");this.$cache.max=this.$cache.cont.find(".irs-max");this.$cache.from=this.$cache.cont.find(".irs-from");this.$cache.to=this.$cache.cont.find(".irs-to");this.$cache.single=this.$cache.cont.find(".irs-single");this.$cache.bar=this.$cache.cont.find(".irs-bar");this.$cache.line=this.$cache.cont.find(".irs-line");this.$cache.grid=this.$cache.cont.find(".irs-grid");"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar-edge"><\/span><span class="irs-shadow shadow-single"><\/span><span class="irs-slider single"><\/span>'),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-shadow shadow-from"><\/span><span class="irs-shadow shadow-to"><\/span><span class="irs-slider from"><\/span><span class="irs-slider to"><\/span>'),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler());this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none");this.appendGrid();this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.cont.removeClass("irs-disabled"),this.$cache.input[0].disabled=!1,this.bindEvents())},setTopHandler:function(){var n=this.options.max,t=this.options.to;this.options.from>this.options.min&&t===n?this.$cache.s_from.addClass("type_last"):t<n&&this.$cache.s_to.addClass("type_last")},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"><\/span>');this.$cache.cont.addClass("irs-disabled")},remove:function(){this.$cache.cont.remove();this.$cache.cont=null;this.$cache.line.off("keydown.irs_"+this.plugin_count);this.$cache.body.off("touchmove.irs_"+this.plugin_count);this.$cache.body.off("mousemove.irs_"+this.plugin_count);this.$cache.win.off("touchend.irs_"+this.plugin_count);this.$cache.win.off("mouseup.irs_"+this.plugin_count);u&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count));this.$cache.grid_labels=[];this.coords.big=[];this.coords.big_w=[];this.coords.big_p=[];this.coords.big_x=[];cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));if(this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard)this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard"));u&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this)))},pointerMove:function(n){this.dragging&&(this.coords.x_pointer=(n.pageX||n.originalEvent.touches&&n.originalEvent.touches[0].pageX)-this.coords.x_gap,this.calc())},pointerUp:function(t){if(this.current_plugin===this.plugin_count&&this.is_active){this.is_active=!1;var i=this.options.onFinish&&"function"==typeof this.options.onFinish;if(t=n.contains(this.$cache.cont[0],t.target)||this.dragging,i&&t)this.options.onFinish(this.result);this.$cache.cont.find(".state_hover").removeClass("state_hover");this.force_redraw=!0;this.dragging=!1;u&&n("*").prop("unselectable",!1);this.updateScene()}},pointerDown:function(t,i){i.preventDefault();var r=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;if(2!==i.button){this.current_plugin=this.plugin_count;this.target=t;this.dragging=this.is_active=!0;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=r-this.coords.x_gap;this.calcPointer();switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from);this.$cache.s_from.addClass("state_hover");this.$cache.s_from.addClass("type_last");this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to);this.$cache.s_to.addClass("state_hover");this.$cache.s_to.addClass("type_last");this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from);this.coords.p_gap_right=this.toFixed(this.coords.p_to-this.coords.p_pointer);this.$cache.s_to.removeClass("type_last");this.$cache.s_from.removeClass("type_last")}u&&n("*").prop("unselectable",!0);this.$cache.line.trigger("focus");this.updateScene()}},pointerClick:function(n,t){t.preventDefault();var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;2!==t.button&&(this.current_plugin=this.plugin_count,this.target=n,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(n,t){if(!(this.current_plugin!==this.plugin_count||t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)){switch(t.which){case 83:case 65:case 40:case 37:t.preventDefault();this.moveByKey(!1);break;case 87:case 68:case 38:case 39:t.preventDefault();this.moveByKey(!0)}return!0}},moveByKey:function(n){var t=this.coords.p_pointer,t=n?t+this.options.keyboard_step:t-this.options.keyboard_step;this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*t);this.is_key=!0;this.calc()},setMinMax:function(){this.options&&(this.options.hide_min_max?(this.$cache.min[0].style.display="none",this.$cache.max[0].style.display="none"):(this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min)),this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)))},calc:function(n){if(this.options&&(this.calc_count++,(10===this.calc_count||n)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1)),this.coords.w_rs)){this.calcPointer();this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100);n=100-this.coords.p_handle;var t=this.toFixed(this.coords.p_pointer-this.coords.p_gap);"click"===this.target&&(t=this.toFixed(this.coords.p_pointer-this.coords.p_handle/2),this.target=this.chooseHandle(t));0>t?t=0:t>n&&(t=n);switch(this.target){case"base":t=(this.options.max-this.options.min)/100;n=(this.result.from-this.options.min)/t;t=(this.result.to-this.options.min)/t;this.coords.p_single_real=this.toFixed(n);this.coords.p_from_real=this.toFixed(n);this.coords.p_to_real=this.toFixed(t);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_single=this.toFixed(n-this.coords.p_handle/100*n);this.coords.p_from=this.toFixed(n-this.coords.p_handle/100*n);this.coords.p_to=this.toFixed(t-this.coords.p_handle/100*t);this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.calcWithStep(t/n*100);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_single=this.toFixed(this.coords.p_single_real/100*n);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.calcWithStep(t/n*100);this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from=this.toFixed(this.coords.p_from_real/100*n);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.calcWithStep(t/n*100);this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to=this.toFixed(this.coords.p_to_real/100*n);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;t=this.toFixed(t+.1*this.coords.p_handle);this.coords.p_from_real=this.calcWithStep((t-this.coords.p_gap_left)/n*100);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from=this.toFixed(this.coords.p_from_real/100*n);this.coords.p_to_real=this.calcWithStep((t+this.coords.p_gap_right)/n*100);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to=this.toFixed(this.coords.p_to_real/100*n)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single,this.result.from_percent=this.coords.p_single_real,this.result.from=this.calcReal(this.coords.p_single_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to-this.coords.p_from),this.result.from_percent=this.coords.p_from_real,this.result.from=this.calcReal(this.coords.p_from_real),this.result.to_percent=this.coords.p_to_real,this.result.to=this.calcReal(this.coords.p_to_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to]));this.calcMinMax();this.calcLabels()}},calcPointer:function(){this.coords.w_rs?(0>this.coords.x_pointer||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},chooseHandle:function(n){return"single"===this.options.type?"single":n>=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single+this.coords.p_handle/2-this.labels.p_single/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from+this.coords.p_handle/2-this.labels.p_from/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to+this.coords.p_handle/2-this.labels.p_to/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to)/2-this.labels.p_single/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null);clearTimeout(this.update_tm);this.update_tm=null;this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){if(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key))){if(this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key){if(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.s_single[0].style.left=this.coords.p_single+"%",this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?(this.$cache.input.prop("value",this.result.from_value),this.$cache.input.data("from",this.result.from_value)):(this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from))):(this.$cache.s_from[0].style.left=this.coords.p_from+"%",this.$cache.s_to[0].style.left=this.coords.p_to+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%"),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?(this.$cache.input.prop("value",this.result.from_value+";"+this.result.to_value),this.$cache.input.data("from",this.result.from_value),this.$cache.input.data("to",this.result.to_value)):(this.$cache.input.prop("value",this.result.from+";"+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||this.$cache.input.trigger("change"),this.old_from=this.result.from,this.old_to=this.result.to,this.options.onChange&&"function"==typeof this.options.onChange&&!this.is_resize&&!this.is_update&&!this.is_start)this.options.onChange(this.result);if(this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.is_key||this.is_click))this.options.onFinish(this.result);this.is_resize=this.is_update=!1}this.force_redraw=this.is_click=this.is_key=this.is_start=!1}},drawLabels:function(){var n,t,i,r;this.options&&(n=this.options.values.length,t=this.options.p_values,this.options.hide_from_to||("single"===this.options.type?(n=n?this.decorate(t[this.result.from]):this.decorate(this._prettify(this.result.from),this.result.from),this.$cache.single.html(n),this.calcLabels(),this.$cache.min[0].style.visibility=this.labels.p_single_left<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=this.labels.p_single_left+this.labels.p_single>99-this.labels.p_max?"hidden":"visible"):(n?(this.options.decorate_both?(n=this.decorate(t[this.result.from]),n+=this.options.values_separator,n+=this.decorate(t[this.result.to])):n=this.decorate(t[this.result.from]+this.options.values_separator+t[this.result.to]),i=this.decorate(t[this.result.from]),t=this.decorate(t[this.result.to])):(this.options.decorate_both?(n=this.decorate(this._prettify(this.result.from),this.result.from),n+=this.options.values_separator,n+=this.decorate(this._prettify(this.result.to),this.result.to)):n=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.to),i=this.decorate(this._prettify(this.result.from),this.result.from),t=this.decorate(this._prettify(this.result.to),this.result.to)),this.$cache.single.html(n),this.$cache.from.html(i),this.$cache.to.html(t),this.calcLabels(),t=Math.min(this.labels.p_single_left,this.labels.p_from_left),n=this.labels.p_single_left+this.labels.p_single,i=this.labels.p_to_left+this.labels.p_to,r=Math.max(n,i),this.labels.p_from_left+this.labels.p_from>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?(this.$cache.from[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden",r=i):(this.$cache.from[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",r=Math.max(n,i))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),this.$cache.min[0].style.visibility=t<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=r>99-this.labels.p_max?"hidden":"visible")))},drawShadow:function(){var n=this.options,i=this.$cache,t="number"==typeof n.from_min&&!isNaN(n.from_min),r="number"==typeof n.from_max&&!isNaN(n.from_max),u="number"==typeof n.to_min&&!isNaN(n.to_min),f="number"==typeof n.to_max&&!isNaN(n.to_max);"single"===n.type?n.from_shadow&&(t||r)?(t=this.calcPercent(n.from_min||n.min),r=this.calcPercent(n.from_max||n.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),r=this.toFixed(r-this.coords.p_handle/100*r),t+=this.coords.p_handle/2,i.shad_single[0].style.display="block",i.shad_single[0].style.left=t+"%",i.shad_single[0].style.width=r+"%"):i.shad_single[0].style.display="none":(n.from_shadow&&(t||r)?(t=this.calcPercent(n.from_min||n.min),r=this.calcPercent(n.from_max||n.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),r=this.toFixed(r-this.coords.p_handle/100*r),t+=this.coords.p_handle/2,i.shad_from[0].style.display="block",i.shad_from[0].style.left=t+"%",i.shad_from[0].style.width=r+"%"):i.shad_from[0].style.display="none",n.to_shadow&&(u||f)?(u=this.calcPercent(n.to_min||n.min),n=this.calcPercent(n.to_max||n.max)-u,u=this.toFixed(u-this.coords.p_handle/100*u),n=this.toFixed(n-this.coords.p_handle/100*n),u+=this.coords.p_handle/2,i.shad_to[0].style.display="block",i.shad_to[0].style.left=u+"%",i.shad_to[0].style.width=n+"%"):i.shad_to[0].style.display="none")},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input")},calcPercent:function(n){return this.toFixed((n-this.options.min)/((this.options.max-this.options.min)/100))},calcReal:function(n){var t=this.options.min,i=this.options.max,u=t.toString().split(".")[1],s=i.toString().split(".")[1],e,o,r=0,f=0;return u&&(r=e=u.length),s&&(r=o=s.length),e&&o&&(r=e>=o?e:o),0>t&&(f=Math.abs(t),t=+(t+f).toFixed(r),i=+(i+f).toFixed(r)),n=(i-t)/100*n+t,(u=this.options.step.toString().split(".")[1])?n=n!==t&&n!==i?+n.toFixed(u.length):+n.toFixed(r):(n/=this.options.step,n*=this.options.step,n=+n.toFixed(0)),f&&(n-=f,t=this.options.min,i=this.options.max),t=u?n!==t&&n!==i?+n.toFixed(u.length):+n.toFixed(r):this.toFixed(n),t<this.options.min?t=this.options.min:t>this.options.max&&(t=this.options.max),t},calcWithStep:function(n){var t=Math.round(n/this.coords.p_step)*this.coords.p_step;return 100<t&&(t=100),100===n&&(t=100),this.toFixed(t)},checkMinInterval:function(n,t,i){var r=this.options;return r.min_interval?(n=this.calcReal(n),t=this.calcReal(t),"from"===i?t-n<r.min_interval&&(n=t-r.min_interval):n-t<r.min_interval&&(n=t+r.min_interval),this.calcPercent(n)):n},checkMaxInterval:function(n,t,i){var r=this.options;return r.max_interval?(n=this.calcReal(n),t=this.calcReal(t),"from"===i?t-n>r.max_interval&&(n=t-r.max_interval):n-t>r.max_interval&&(n=t+r.max_interval),this.calcPercent(n)):n},checkDiapason:function(n,t,i){n=this.calcReal(n);var r=this.options;return t&&"number"==typeof t||(t=r.min),i&&"number"==typeof i||(i=r.max),n<t&&(n=t),n>i&&(n=i),this.calcPercent(n)},toFixed:function(n){return n=n.toFixed(5),+n},_prettify:function(n){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(n):this.prettify(n):n},prettify:function(n){return n.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(n,t){return this.options.force_edges?(0>n?n=0:n>100-t&&(n=100-t),this.toFixed(n)):this.toFixed(n)},validate:function(){var n=this.options,t=this.result,u=n.values,f=u.length,i,r;if("string"==typeof n.min&&(n.min=+n.min),"string"==typeof n.max&&(n.max=+n.max),"string"==typeof n.from&&(n.from=+n.from),"string"==typeof n.to&&(n.to=+n.to),"string"==typeof n.step&&(n.step=+n.step),"string"==typeof n.from_min&&(n.from_min=+n.from_min),"string"==typeof n.from_max&&(n.from_max=+n.from_max),"string"==typeof n.to_min&&(n.to_min=+n.to_min),"string"==typeof n.to_max&&(n.to_max=+n.to_max),"string"==typeof n.keyboard_step&&(n.keyboard_step=+n.keyboard_step),"string"==typeof n.grid_num&&(n.grid_num=+n.grid_num),n.max<=n.min&&(n.max=n.min?2*n.min:n.min+1,n.step=1),f)for(n.p_values=[],n.min=0,n.max=f-1,n.step=1,n.grid_num=n.max,n.grid_snap=!0,r=0;r<f;r++)i=+u[r],isNaN(i)?i=u[r]:(u[r]=i,i=this._prettify(i)),n.p_values.push(i);("number"!=typeof n.from||isNaN(n.from))&&(n.from=n.min);("number"!=typeof n.to||isNaN(n.from))&&(n.to=n.max);"single"===n.type?(n.from<n.min&&(n.from=n.min),n.from>n.max&&(n.from=n.max)):((n.from<n.min||n.from>n.max)&&(n.from=n.min),(n.to>n.max||n.to<n.min)&&(n.to=n.max),n.from>n.to&&(n.from=n.to));("number"!=typeof n.step||isNaN(n.step)||!n.step||0>n.step)&&(n.step=1);("number"!=typeof n.keyboard_step||isNaN(n.keyboard_step)||!n.keyboard_step||0>n.keyboard_step)&&(n.keyboard_step=5);n.from_min&&n.from<n.from_min&&(n.from=n.from_min);n.from_max&&n.from>n.from_max&&(n.from=n.from_max);n.to_min&&n.to<n.to_min&&(n.to=n.to_min);n.to_max&&n.from>n.to_max&&(n.to=n.to_max);t&&(t.min!==n.min&&(t.min=n.min),t.max!==n.max&&(t.max=n.max),(t.from<t.min||t.from>t.max)&&(t.from=n.from),(t.to<t.min||t.to>t.max)&&(t.to=n.to));("number"!=typeof n.min_interval||isNaN(n.min_interval)||!n.min_interval||0>n.min_interval)&&(n.min_interval=0);("number"!=typeof n.max_interval||isNaN(n.max_interval)||!n.max_interval||0>n.max_interval)&&(n.max_interval=0);n.min_interval&&n.min_interval>n.max-n.min&&(n.min_interval=n.max-n.min);n.max_interval&&n.max_interval>n.max-n.min&&(n.max_interval=n.max-n.min)},decorate:function(n,t){var r="",i=this.options;return i.prefix&&(r+=i.prefix),r+=n,i.max_postfix&&(i.values.length&&n===i.p_values[i.max]?(r+=i.max_postfix,i.postfix&&(r+=" ")):t===i.max&&(r+=i.max_postfix,i.postfix&&(r+=" "))),i.postfix&&(r+=i.postfix),r},updateFrom:function(){this.result.from=this.options.from;this.result.from_percent=this.calcPercent(this.result.from);this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to;this.result.to_percent=this.calcPercent(this.result.to);this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min;this.result.max=this.options.max;this.updateFrom();this.updateTo()},appendGrid:function(){var i,n,o;if(this.options.grid){i=this.options;n=i.max-i.min;var r=i.grid_num,s=0,t=0,e=4,f,c,u=0,h="";for(this.calcGridMargin(),i.grid_snap?(r=n/i.step,s=this.toFixed(i.step/(n/100))):s=this.toFixed(100/r),4<r&&(e=3),7<r&&(e=2),14<r&&(e=1),28<r&&(e=0),n=0;n<r+1;n++){for(f=e,t=this.toFixed(s*n),100<t&&(t=100,f-=2,0>f&&(f=0)),this.coords.big[n]=t,c=(t-s*(n-1))/(f+1),o=1;o<=f&&0!==t;o++)u=this.toFixed(t-c*o),h+='<span class="irs-grid-pol small" style="left: '+u+'%"><\/span>';h+='<span class="irs-grid-pol" style="left: '+t+'%"><\/span>';u=this.calcReal(t);u=i.values.length?i.p_values[u]:this._prettify(u);h+='<span class="irs-grid-text js-grid-text-'+n+'" style="left: '+t+'%">'+u+"<\/span>"}this.coords.big_num=Math.ceil(r+1);this.$cache.cont.addClass("irs-with-grid");this.$cache.grid.html(h);this.cacheGridLabels()}},cacheGridLabels:function(){for(var t,i=this.coords.big_num,n=0;n<i;n++)t=this.$cache.grid.find(".js-grid-text-"+n),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var n,t,r,i;for(t=[],r=[],i=this.coords.big_num,n=0;n<i;n++)this.coords.big_w[n]=this.$cache.grid_labels[n].outerWidth(!1),this.coords.big_p[n]=this.toFixed(this.coords.big_w[n]/this.coords.w_rs*100),this.coords.big_x[n]=this.toFixed(this.coords.big_p[n]/2),t[n]=this.toFixed(this.coords.big[n]-this.coords.big_x[n]),r[n]=this.toFixed(t[n]+this.coords.big_p[n]);for(this.options.force_edges&&(t[0]<-this.coords.grid_gap&&(t[0]=-this.coords.grid_gap,r[0]=this.toFixed(t[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),r[i-1]>100+this.coords.grid_gap&&(r[i-1]=100+this.coords.grid_gap,t[i-1]=this.toFixed(r[i-1]-this.coords.big_p[i-1]),this.coords.big_x[i-1]=this.toFixed(this.coords.big_p[i-1]-this.coords.grid_gap))),this.calcGridCollision(2,t,r),this.calcGridCollision(4,t,r),n=0;n<i;n++)t=this.$cache.grid_labels[n][0],t.style.marginLeft=-this.coords.big_x[n]+"%"},calcGridCollision:function(n,t,i){for(var u,f,e=this.coords.big_num,r=0;r<e;r+=n){if(u=r+n/2,u>=e)break;f=this.$cache.grid_labels[u][0];f.style.visibility=i[r]<=t[u]?"visible":"hidden"}},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(t){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.options=n.extend(this.options,t),this.validate(),this.updateResult(t),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),n.data(this.input,"ionRangeSlider",null),this.remove(),this.options=this.input=null)}};n.fn.ionRangeSlider=function(t){return this.each(function(){n.data(this,"ionRangeSlider")||n.data(this,"ionRangeSlider",new f(this,t,e++))})},function(){for(var r=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!i.requestAnimationFrame;++n)i.requestAnimationFrame=i[t[n]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[t[n]+"CancelAnimationFrame"]||i[t[n]+"CancelRequestAnimationFrame"];i.requestAnimationFrame||(i.requestAnimationFrame=function(n){var t=(new Date).getTime(),u=Math.max(0,16-(t-r)),f=i.setTimeout(function(){n(t+u)},u);return r=t+u,f});i.cancelAnimationFrame||(i.cancelAnimationFrame=function(n){clearTimeout(n)})}()}(jQuery,document,window,navigator),function(n,t){typeof exports=="object"&&exports?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):t(n.Mustache={})}(this,function(n){function u(n){return typeof n=="function"}function o(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function l(n,t){return c.call(n,t)}function v(n){return!l(a,n)}function p(n){return String(n).replace(/[&<>"'\/]/g,function(n){return y[n]})}function g(t,i){function lt(){if(ft&&!g)while(p.length)delete a[p.pop()];else
p=[];ft=!1;g=!1}function ht(n){if(typeof n=="string"&&(n=n.split(b,2)),!e(n)||n.length!==2)throw new Error("Invalid tags: "+n);et=new RegExp(o(n[0])+"\\s*");y=new RegExp("\\s*"+o(n[1]));st=new RegExp("\\s*"+o("}"+n[1]))}var et,y,st,u,c,f,h,it,ot,l,rt,ct;if(!t)return[];var ut=[],a=[],p=[],ft=!1,g=!1;for(ht(i||n.tags),u=new r(t);!u.eos();){if(c=u.pos,h=u.scanUntil(et),h)for(rt=0,ct=h.length;rt<ct;++rt)it=h.charAt(rt),v(it)?p.push(a.length):g=!0,a.push(["text",it,c,c+1]),c+=1,it==="\n"&&lt();if(!u.scan(et))break;if(ft=!0,f=u.scan(d)||"name",u.scan(w),f==="="?(h=u.scanUntil(s),u.scan(s),u.scanUntil(y)):f==="{"?(h=u.scanUntil(st),u.scan(k),u.scanUntil(y),f="&"):h=u.scanUntil(y),!u.scan(y))throw new Error("Unclosed tag at "+u.pos);if(ot=[f,h,c,u.pos],a.push(ot),f==="#"||f==="^")ut.push(ot);else if(f==="/"){if(l=ut.pop(),!l)throw new Error('Unopened section "'+h+'" at '+c);if(l[1]!==h)throw new Error('Unclosed section "'+l[1]+'" at '+c);}else
f==="name"||f==="{"||f==="&"?g=!0:f==="="&&ht(h)}if(l=ut.pop(),l)throw new Error('Unclosed section "'+l[1]+'" at '+u.pos);return tt(nt(a))}function nt(n){for(var u=[],t,i,r=0,f=n.length;r<f;++r)t=n[r],t&&(t[0]==="text"&&i&&i[0]==="text"?(i[1]+=t[1],i[3]=t[3]):(u.push(t),i=t));return u}function tt(n){for(var f=[],r=f,i=[],t,e,u=0,o=n.length;u<o;++u){t=n[u];switch(t[0]){case"#":case"^":r.push(t);i.push(t);r=t[4]=[];break;case"/":e=i.pop();e[5]=t[2];r=i.length>0?i[i.length-1][4]:f;break;default:r.push(t)}}return f}function r(n){this.string=n;this.tail=n;this.pos=0}function i(n,t){this.view=n;this.cache={".":this.view};this.parent=t}function t(){this.cache={}}var h=Object.prototype.toString,e=Array.isArray||function(n){return h.call(n)==="[object Array]"},c=RegExp.prototype.test,a=/\S/,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},w=/\s*/,b=/\s+/,s=/\s*=/,k=/\s*\}/,d=/#|\^|\/|>|\{|&|=|!/,f;r.prototype.eos=function(){return this.tail===""};r.prototype.scan=function(n){var i=this.tail.match(n),t;return!i||i.index!==0?"":(t=i[0],this.tail=this.tail.substring(t.length),this.pos+=t.length,t)};r.prototype.scanUntil=function(n){var i=this.tail.search(n),t;switch(i){case-1:t=this.tail;this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i);this.tail=this.tail.substring(i)}return this.pos+=t.length,t};i.prototype.push=function(n){return new i(n,this)};i.prototype.lookup=function(n){var o=this.cache,t,i,r,f,e;if(n in o)t=o[n];else{for(i=this,e=!1;i;){if(n.indexOf(".")>0)for(t=i.view,r=n.split("."),f=0;t!=null&&f<r.length;)f===r.length-1&&t!=null&&(e=typeof t=="object"&&t.hasOwnProperty(r[f])),t=t[r[f++]];else
i.view!=null&&typeof i.view=="object"&&(t=i.view[n],e=i.view.hasOwnProperty(n));if(e)break;i=i.parent}o[n]=t}return u(t)&&(t=t.call(this.view)),t};t.prototype.clearCache=function(){this.cache={}};t.prototype.parse=function(n,t){var r=this.cache,i=r[n];return i==null&&(i=r[n]=g(n,t)),i};t.prototype.render=function(n,t,r){var u=this.parse(n),f=t instanceof i?t:new i(t);return this.renderTokens(u,f,r,n)};t.prototype.renderTokens=function(n,t,i,r){for(var s="",f,e,u,o=0,h=n.length;o<h;++o)u=undefined,f=n[o],e=f[0],e==="#"?u=this._renderSection(f,t,i,r):e==="^"?u=this._renderInverted(f,t,i,r):e===">"?u=this._renderPartial(f,t,i,r):e==="&"?u=this._unescapedValue(f,t):e==="name"?u=this._escapedValue(f,t):e==="text"&&(u=this._rawValue(f)),u!==undefined&&(s+=u);return s};t.prototype._renderSection=function(n,t,i,r){function l(n){return c.render(n,t,i)}var c=this,o="",f=t.lookup(n[1]),s,h;if(f){if(e(f))for(s=0,h=f.length;s<h;++s)o+=this.renderTokens(n[4],t.push(f[s]),i,r);else if(typeof f=="object"||typeof f=="string"||typeof f=="number")o+=this.renderTokens(n[4],t.push(f),i,r);else if(u(f)){if(typeof r!="string")throw new Error("Cannot use higher-order sections without the original template");f=f.call(t.view,r.slice(n[3],n[5]),l);f!=null&&(o+=f)}else
o+=this.renderTokens(n[4],t,i,r);return o}};t.prototype._renderInverted=function(n,t,i,r){var u=t.lookup(n[1]);if(!u||e(u)&&u.length===0)return this.renderTokens(n[4],t,i,r)};t.prototype._renderPartial=function(n,t,i){if(i){var r=u(i)?i(n[1]):i[n[1]];if(r!=null)return this.renderTokens(this.parse(r),t,i,r)}};t.prototype._unescapedValue=function(n,t){var i=t.lookup(n[1]);if(i!=null)return i};t.prototype._escapedValue=function(t,i){var r=i.lookup(t[1]);if(r!=null)return n.escape(r)};t.prototype._rawValue=function(n){return n[1]};n.name="mustache.js";n.version="2.0.0";n.tags=["{{","}}"];f=new t;n.clearCache=function(){return f.clearCache()};n.parse=function(n,t){return f.parse(n,t)};n.render=function(n,t,i){return f.render(n,t,i)};n.to_html=function(t,i,r,f){var e=n.render(t,i,r);if(u(f))f(e);else
return e};n.escape=p;n.Scanner=r;n.Context=i;n.Writer=t});!function(){"use strict";function n(t,r){function s(n,t){return function(){return n.apply(t,arguments)}}var o;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!n.notNeeded(t)){for(var f=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],e=this,u=0,h=f.length;h>u;u++)e[f[u]]=s(e[f[u]],e);i&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0));t.addEventListener("click",this.onClick,!0);t.addEventListener("touchstart",this.onTouchStart,!1);t.addEventListener("touchmove",this.onTouchMove,!1);t.addEventListener("touchend",this.onTouchEnd,!1);t.addEventListener("touchcancel",this.onTouchCancel,!1);Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(n,i,r){var u=Node.prototype.removeEventListener;"click"===n?u.call(t,n,i.hijacked||i,r):u.call(t,n,i,r)},t.addEventListener=function(n,i,r){var u=Node.prototype.addEventListener;"click"===n?u.call(t,n,i.hijacked||(i.hijacked=function(n){n.propagationStopped||i(n)}),r):u.call(t,n,i,r)});"function"==typeof t.onclick&&(o=t.onclick,t.addEventListener("click",function(n){o(n)},!1),t.onclick=null)}}var r=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!r,t=/iP(ad|hone|od)/.test(navigator.userAgent)&&!r,u=t&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=t&&/OS [6-7]_\d/.test(navigator.userAgent),e=navigator.userAgent.indexOf("BB10")>0;n.prototype.needsClick=function(n){switch(n.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(n.disabled)return!0;break;case"input":if(t&&"file"===n.type||n.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(n.className)};n.prototype.needsFocus=function(n){switch(n.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(n.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!n.disabled&&!n.readOnly;default:return/\bneedsfocus\b/.test(n.className)}};n.prototype.sendClick=function(n,t){var r,i;document.activeElement&&document.activeElement!==n&&document.activeElement.blur();i=t.changedTouches[0];r=document.createEvent("MouseEvents");r.initMouseEvent(this.determineEventType(n),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);r.forwardedTouchEvent=!0;n.dispatchEvent(r)};n.prototype.determineEventType=function(n){return i&&"select"===n.tagName.toLowerCase()?"mousedown":"click"};n.prototype.focus=function(n){var i;t&&n.setSelectionRange&&0!==n.type.indexOf("date")&&"time"!==n.type&&"month"!==n.type?(i=n.value.length,n.setSelectionRange(i,i)):n.focus()};n.prototype.updateScrollParent=function(n){var i,t;if(i=n.fastClickScrollParent,!i||!i.contains(n)){t=n;do{if(t.scrollHeight>t.offsetHeight){i=t;n.fastClickScrollParent=t;break}t=t.parentElement}while(t)}i&&(i.fastClickLastScrollTop=i.scrollTop)};n.prototype.getTargetElementFromEventTarget=function(n){return n.nodeType===Node.TEXT_NODE?n.parentNode:n};n.prototype.onTouchStart=function(n){var r,i,f;if(n.targetTouches.length>1)return!0;if(r=this.getTargetElementFromEventTarget(n.target),i=n.targetTouches[0],t){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!u){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return n.preventDefault(),!1;this.lastTouchIdentifier=i.identifier;this.updateScrollParent(r)}}return this.trackingClick=!0,this.trackingClickStart=n.timeStamp,this.targetElement=r,this.touchStartX=i.pageX,this.touchStartY=i.pageY,n.timeStamp-this.lastClickTime<this.tapDelay&&n.preventDefault(),!0};n.prototype.touchHasMoved=function(n){var t=n.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i?!0:!1};n.prototype.onTouchMove=function(n){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(n.target)||this.touchHasMoved(n))&&(this.trackingClick=!1,this.targetElement=null),!0):!0};n.prototype.findControl=function(n){return void 0!==n.control?n.control:n.htmlFor?document.getElementById(n.htmlFor):n.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};n.prototype.onTouchEnd=function(n){var h,c,e,o,s,r=this.targetElement;if(!this.trackingClick)return!0;if(n.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(n.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=n.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(s=n.changedTouches[0],r=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||r,r.fastClickScrollParent=this.targetElement.fastClickScrollParent),e=r.tagName.toLowerCase(),"label"===e){if(h=this.findControl(r)){if(this.focus(r),i)return!1;r=h}}else if(this.needsFocus(r))return n.timeStamp-c>100||t&&window.top!==window&&"input"===e?(this.targetElement=null,!1):(this.focus(r),this.sendClick(r,n),t&&"select"===e||(this.targetElement=null,n.preventDefault()),!1);return t&&!u&&(o=r.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(r)||(n.preventDefault(),this.sendClick(r,n)),!1)};n.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};n.prototype.onMouse=function(n){return this.targetElement?n.forwardedTouchEvent?!0:n.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(n.stopImmediatePropagation?n.stopImmediatePropagation():n.propagationStopped=!0,n.stopPropagation(),n.preventDefault(),!1):!0:!0};n.prototype.onClick=function(n){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===n.target.type&&0===n.detail?!0:(t=this.onMouse(n),t||(this.targetElement=null),t)};n.prototype.destroy=function(){var n=this.layer;i&&(n.removeEventListener("mouseover",this.onMouse,!0),n.removeEventListener("mousedown",this.onMouse,!0),n.removeEventListener("mouseup",this.onMouse,!0));n.removeEventListener("click",this.onClick,!0);n.removeEventListener("touchstart",this.onTouchStart,!1);n.removeEventListener("touchmove",this.onTouchMove,!1);n.removeEventListener("touchend",this.onTouchEnd,!1);n.removeEventListener("touchcancel",this.onTouchCancel,!1)};n.notNeeded=function(n){var t,u,r,f;return"undefined"==typeof window.ontouchstart?!0:(u=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1])&&(!i||(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||u>31&&document.documentElement.scrollWidth<=window.outerWidth))?!0:e&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(t=document.querySelector("meta[name=viewport]")))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth)?!0:"none"===n.style.msTouchAction||"manipulation"===n.style.touchAction?!0:(f=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],f>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===n.style.touchAction||"manipulation"===n.style.touchAction?!0:!1)};n.attach=function(t,i){return new n(t,i)};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return n}):"undefined"!=typeof module&&module.exports?(module.exports=n.attach,module.exports.FastClick=n):window.FastClick=n}();window.Modernizr=function(n,t,i){function l(n){c.cssText=n}function at(n,t){return l(p.join(n+";")+(t||""))}function h(n,t){return typeof n===t}function v(n,t){return!!~(""+n).indexOf(t)}function ut(n,t){var u,r;for(u in n)if(r=n[u],!v(r,"-")&&c[r]!==i)return"pfx"==t?r:!0;return!1}function vt(n,t,r){var f,u;for(f in n)if(u=t[n[f]],u!==i)return r===!1?n[f]:h(u,"function")?u.bind(r||t):u;return!1}function f(n,t,i){var r=n.charAt(0).toUpperCase()+n.slice(1),u=(n+" "+st.join(r+" ")+r).split(" ");return h(t,"string")||h(t,"undefined")?ut(u,t):(u=(n+" "+ht.join(r+" ")+r).split(" "),vt(u,t,i))}function yt(){u.input=function(i){for(var r=0,u=i.length;u>r;r++)b[i[r]]=!!(i[r]in o);return b.list&&(b.list=!(!t.createElement("datalist")||!n.HTMLDataListElement)),b}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));u.inputtypes=function(n){for(var r,u,e,f=0,h=n.length;h>f;f++)o.setAttribute("type",u=n[f]),r="text"!==o.type,r&&(o.value=nt,o.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(u)&&o.style.WebkitAppearance!==i?(s.appendChild(o),e=t.defaultView,r=e.getComputedStyle&&"textfield"!==e.getComputedStyle(o,null).WebkitAppearance&&0!==o.offsetHeight,s.removeChild(o)):/^(search|tel)$/.test(u)||(r=/^(url|email)$/.test(u)?o.checkValidity&&o.checkValidity()===!1:o.value!=nt)),ct[n[f]]=!!r;return ct}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var y,d,u={},g=!0,s=t.documentElement,e="modernizr",ft=t.createElement(e),c=ft.style,o=t.createElement("input"),nt=":)",et={}.toString,p=" -webkit- -moz- -o- -ms- ".split(" "),ot="Webkit Moz O ms",st=ot.split(" "),ht=ot.toLowerCase().split(" "),w={svg:"http://www.w3.org/2000/svg"},r={},ct={},b={},tt=[],it=tt.slice,a=function(n,i,r,u){var l,a,c,v,f=t.createElement("div"),h=t.body,o=h||t.createElement("body");if(parseInt(r,10))for(;r--;)c=t.createElement("div"),c.id=u?u[r]:e+(r+1),f.appendChild(c);return l=["&#173;",'<style id="s',e,'">',n,"<\/style>"].join(""),f.id=e,(h?f:o).innerHTML+=l,o.appendChild(f),h||(o.style.background="",o.style.overflow="hidden",v=s.style.overflow,s.style.overflow="hidden",s.appendChild(o)),a=i(f,n),h?f.parentNode.removeChild(f):(o.parentNode.removeChild(o),s.style.overflow=v),!!a},pt=function(t){var i=n.matchMedia||n.msMatchMedia,r;return i?i(t)&&i(t).matches||!1:(a("@media "+t+" { #"+e+" { position: absolute; } }",function(t){r="absolute"==(n.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),r)},lt=function(){function n(n,u){u=u||t.createElement(r[n]||"div");n="on"+n;var f=n in u;return f||(u.setAttribute||(u=t.createElement("div")),u.setAttribute&&u.removeAttribute&&(u.setAttribute(n,""),f=h(u[n],"function"),h(u[n],"undefined")||(u[n]=i),u.removeAttribute(n))),u=null,f}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n}(),rt={}.hasOwnProperty,k;d=h(rt,"undefined")||h(rt.call,"undefined")?function(n,t){return t in n&&h(n.constructor.prototype[t],"undefined")}:function(n,t){return rt.call(n,t)};Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i,r;if("function"!=typeof t)throw new TypeError;return i=it.call(arguments,1),r=function(){var f,e,u;return this instanceof r?(f=function(){},f.prototype=t.prototype,e=new f,u=t.apply(e,i.concat(it.call(arguments))),Object(u)===u?u:e):t.apply(n,i.concat(it.call(arguments)))},r});r.flexbox=function(){return f("flexWrap")};r.flexboxlegacy=function(){return f("boxDirection")};r.canvas=function(){var n=t.createElement("canvas");return!(!n.getContext||!n.getContext("2d"))};r.canvastext=function(){return!(!u.canvas||!h(t.createElement("canvas").getContext("2d").fillText,"function"))};r.webgl=function(){return!!n.WebGLRenderingContext};r.touch=function(){var i;return"ontouchstart"in n||n.DocumentTouch&&t instanceof DocumentTouch?i=!0:a(["@media (",p.join("touch-enabled),("),e,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(n){i=9===n.offsetTop}),i};r.geolocation=function(){return"geolocation"in navigator};r.postmessage=function(){return!!n.postMessage};r.websqldatabase=function(){return!!n.openDatabase};r.indexedDB=function(){return!!f("indexedDB",n)};r.hashchange=function(){return lt("hashchange",n)&&(t.documentMode===i||t.documentMode>7)};r.history=function(){return!(!n.history||!history.pushState)};r.draganddrop=function(){var n=t.createElement("div");return"draggable"in n||"ondragstart"in n&&"ondrop"in n};r.websockets=function(){return"WebSocket"in n||"MozWebSocket"in n};r.rgba=function(){return l("background-color:rgba(150,255,150,.5)"),v(c.backgroundColor,"rgba")};r.hsla=function(){return l("background-color:hsla(120,40%,100%,.5)"),v(c.backgroundColor,"rgba")||v(c.backgroundColor,"hsla")};r.multiplebgs=function(){return l("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(c.background)};r.backgroundsize=function(){return f("backgroundSize")};r.borderimage=function(){return f("borderImage")};r.borderradius=function(){return f("borderRadius")};r.boxshadow=function(){return f("boxShadow")};r.textshadow=function(){return""===t.createElement("div").style.textShadow};r.opacity=function(){return at("opacity:.55"),/^0.55$/.test(c.opacity)};r.cssanimations=function(){return f("animationName")};r.csscolumns=function(){return f("columnCount")};r.cssgradients=function(){var n="background-image:";return l((n+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+n)+p.join("linear-gradient(left top,#9f9, white);"+n)).slice(0,-n.length)),v(c.backgroundImage,"gradient")};r.cssreflections=function(){return f("boxReflect")};r.csstransforms=function(){return!!f("transform")};r.csstransforms3d=function(){var n=!!f("perspective");return n&&"webkitPerspective"in s.style&&a("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){n=9===t.offsetLeft&&3===t.offsetHeight}),n};r.csstransitions=function(){return f("transition")};r.fontface=function(){var n;return a('@font-face {font-family:"font";src:url("https://")}',function(i,r){var f=t.getElementById("smodernizr"),u=f.sheet||f.styleSheet,e=u?u.cssRules&&u.cssRules[0]?u.cssRules[0].cssText:u.cssText||"":"";n=/src/i.test(e)&&0===e.indexOf(r.split(" ")[0])}),n};r.generatedcontent=function(){var n;return a(["#",e,"{font:0/0 a}#",e,':after{content:"',nt,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){n=t.offsetHeight>=3}),n};r.video=function(){var i=t.createElement("video"),n=!1;try{(n=!!i.canPlayType)&&(n=new Boolean(n),n.ogg=i.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=i.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=i.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(r){}return n};r.audio=function(){var i=t.createElement("audio"),n=!1;try{(n=!!i.canPlayType)&&(n=new Boolean(n),n.ogg=i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=i.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=i.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(r){}return n};r.localstorage=function(){try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(n){return!1}};r.sessionstorage=function(){try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(n){return!1}};r.webworkers=function(){return!!n.Worker};r.applicationcache=function(){return!!n.applicationCache};r.svg=function(){return!!t.createElementNS&&!!t.createElementNS(w.svg,"svg").createSVGRect};r.inlinesvg=function(){var n=t.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==w.svg};r.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(et.call(t.createElementNS(w.svg,"animate")))};r.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(et.call(t.createElementNS(w.svg,"clipPath")))};for(k in r)d(r,k)&&(y=k.toLowerCase(),u[y]=r[k](),tt.push((u[y]?"":"no-")+y));return u.input||yt(),u.addTest=function(n,t){if("object"==typeof n)for(var r in n)d(n,r)&&u.addTest(r,n[r]);else{if(n=n.toLowerCase(),u[n]!==i)return u;t="function"==typeof t?t():t;"undefined"!=typeof g&&g&&(s.className+=" "+(t?"":"no-")+n);u[n]=t}return u},l(""),ft=o=null,function(n,t){function v(n,t){var i=n.createElement("p"),r=n.getElementsByTagName("head")[0]||n.documentElement;return i.innerHTML="x<style>"+t+"<\/style>",r.insertBefore(i.lastChild,r.firstChild)}function s(){var n=r.elements;return"string"==typeof n?n.split(" "):n}function u(n){var t=a[n[l]];return t||(t={},o++,n[l]=o,a[o]=t),t}function h(n,r,f){if(r||(r=t),i)return r.createElement(n);f||(f=u(r));var e;return e=f.cache[n]?f.cache[n].cloneNode():b.test(n)?(f.cache[n]=f.createElem(n)).cloneNode():f.createElem(n),!e.canHaveChildren||w.test(n)||e.tagUrn?e:f.frag.appendChild(e)}function y(n,r){if(n||(n=t),i)return n.createDocumentFragment();r=r||u(n);for(var e=r.frag.cloneNode(),f=0,o=s(),h=o.length;h>f;f++)e.createElement(o[f]);return e}function p(n,t){t.cache||(t.cache={},t.createElem=n.createElement,t.createFrag=n.createDocumentFragment,t.frag=t.createFrag());n.createElement=function(i){return r.shivMethods?h(i,n,t):t.createElem(i)};n.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+s().join().replace(/[\w\-]+/g,function(n){return t.createElem(n),t.frag.createElement(n),'c("'+n+'")'})+");return n}")(r,t.frag)}function c(n){n||(n=t);var e=u(n);return!r.shivCSS||f||e.hasCSS||(e.hasCSS=!!v(n,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),i||p(n,e),n}var f,i,e=n.html5||{},w=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,b=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,l="_html5shiv",o=0,a={},r;!function(){try{var n=t.createElement("a");n.innerHTML="<xyz><\/xyz>";f="hidden"in n;i=1==n.childNodes.length||function(){t.createElement("a");var n=t.createDocumentFragment();return"undefined"==typeof n.cloneNode||"undefined"==typeof n.createDocumentFragment||"undefined"==typeof n.createElement}()}catch(r){f=!0;i=!0}}();r={elements:e.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:e.shivCSS!==!1,supportsUnknownElements:i,shivMethods:e.shivMethods!==!1,type:"default",shivDocument:c,createElement:h,createDocumentFragment:y};n.html5=r;c(t)}(this,t),u._version="2.8.3",u._prefixes=p,u._domPrefixes=ht,u._cssomPrefixes=st,u.mq=pt,u.hasEvent=lt,u.testProp=function(n){return ut([n])},u.testAllProps=f,u.testStyles=a,u.prefixed=function(n,t,i){return t?f(n,t,i):f(n,"pfx")},s.className=s.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+tt.join(" "):""),u}(this,this.document),function(n){n.belowthefold=function(t,i){var r=n(window).height()+n(window).scrollTop();return r<=n(t).offset().top-i.threshold};n.abovethetop=function(t,i){var r=n(window).scrollTop();return r>=n(t).offset().top+n(t).height()-i.threshold};n.aboveAndInViewport=function(t,i){return!n.belowthefold(t,i)};n.inviewport=function(t,i){return!n.belowthefold(t,i)&&!n.abovethetop(t,i)};n.extend(n.expr[":"],{"below-the-fold":function(t){return n.belowthefold(t,{threshold:0})},"above-the-top":function(t){return n.abovethetop(t,{threshold:0})},"above-and-in-viewport":function(t){return n.aboveAndInViewport(t,{threshold:0})},"in-viewport":function(t){return n.inviewport(t,{threshold:0})}})}(jQuery);!function(n,t){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(i){return n.Bloodhound=t(i)}):"object"==typeof exports?module.exports=t(require("jquery")):n.Bloodhound=t(jQuery)}(this,function(n){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(n){return!n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return"string"==typeof n},isNumber:function(n){return"number"==typeof n},isArray:n.isArray,isFunction:n.isFunction,isObject:n.isPlainObject,isUndefined:function(n){return"undefined"==typeof n},isElement:function(n){return!(!n||1!==n.nodeType)},isJQuery:function(t){return t instanceof n},toStr:function(n){return t.isUndefined(n)||null===n?"":n+""},bind:n.proxy,each:function(t,i){function r(n,t){return i(t,n)}n.each(t,r)},map:n.map,filter:n.grep,every:function(t,i){var r=!0;return t?(n.each(t,function(n,u){if(!(r=i.call(null,u,n,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(n.each(t,function(n,u){if((r=i.call(null,u,n,t)))return!1}),!!r):r},mixin:n.extend,identity:function(n){return n},clone:function(t){return n.extend(!0,{},t)},getIdGenerator:function(){var n=0;return function(){return n++}},templatify:function(t){function i(){return String(t)}return n.isFunction(t)?t:i},defer:function(n){setTimeout(n,0)},debounce:function(n,t,i){var r,u;return function(){var f,e,o=this,s=arguments;return f=function(){r=null;i||(u=n.apply(o,s))},e=i&&!r,clearTimeout(r),r=setTimeout(f,t),e&&(u=n.apply(o,s)),u}},throttle:function(n,t){var u,f,i,e,r,o;return r=0,o=function(){r=new Date;i=null;e=n.apply(u,f)},function(){var s=new Date,h=t-(s-r);return u=this,f=arguments,0>=h?(clearTimeout(i),i=null,r=s,e=n.apply(u,f)):i||(i=setTimeout(o,h)),e}},stringify:function(n){return t.isString(n)?n:JSON.stringify(n)},noop:function(){}}}(),u="0.11.1",f=function(){"use strict";function n(n){return n=t.toStr(n),n?n.split(/\s+/):[]}function i(n){return n=t.toStr(n),n?n.split(/\W+/):[]}function r(n){return function(i){return i=t.isArray(i)?i:[].slice.call(arguments,0),function(r){var u=[];return t.each(i,function(i){u=u.concat(n(t.toStr(r[i])))}),u}}}return{nonword:i,whitespace:n,obj:{nonword:r(i),whitespace:r(n)}}}(),i=function(){"use strict";function i(i){this.maxSize=t.isNumber(i)?i:100;this.reset();this.maxSize<=0&&(this.set=this.get=n.noop)}function r(){this.head=this.tail=null}function u(n,t){this.key=n;this.val=t;this.prev=this.next=null}return t.mixin(i.prototype,{set:function(n,t){var i,r=this.list.tail;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key],this.size--);(i=this.hash[n])?(i.val=t,this.list.moveToFront(i)):(i=new u(n,t),this.list.add(i),this.hash[n]=i,this.size++)},get:function(n){var t=this.hash[n];if(t)return(this.list.moveToFront(t),t.val)},reset:function(){this.size=0;this.hash={};this.list=new r}}),t.mixin(r.prototype,{add:function(n){this.head&&(n.next=this.head,this.head.prev=n);this.head=n;this.tail=this.tail||n},remove:function(n){n.prev?n.prev.next=n.next:this.head=n.next;n.next?n.next.prev=n.prev:this.tail=n.prev},moveToFront:function(n){this.remove(n);this.add(n)}}),i}(),e=function(){"use strict";function r(n,r){this.prefix=["__",n,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix));this.ls=r||i;!this.ls&&this._noop()}function u(){return(new Date).getTime()}function f(n){return JSON.stringify(t.isUndefined(n)?null:n)}function e(t){return n.parseJSON(t)}function o(n){for(var r,u=[],f=i.length,t=0;f>t;t++)(r=i.key(t)).match(n)&&u.push(r.replace(n,""));return u}var i;try{i=window.localStorage;i.setItem("~~~","!");i.removeItem("~~~")}catch(s){i=null}return t.mixin(r.prototype,{_prefix:function(n){return this.prefix+n},_ttlKey:function(n){return this._prefix(n)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(n,t){try{this.ls.setItem(n,t)}catch(i){"QuotaExceededError"===i.name&&(this.clear(),this._noop())}},get:function(n){return this.isExpired(n)&&this.remove(n),e(this.ls.getItem(this._prefix(n)))},set:function(n,i,r){return t.isNumber(r)?this._safeSet(this._ttlKey(n),f(u()+r)):this.ls.removeItem(this._ttlKey(n)),this._safeSet(this._prefix(n),f(i))},remove:function(n){return this.ls.removeItem(this._ttlKey(n)),this.ls.removeItem(this._prefix(n)),this},clear:function(){for(var t=o(this.keyMatcher),n=t.length;n--;)this.remove(t[n]);return this},isExpired:function(n){var i=e(this.ls.getItem(this._ttlKey(n)));return t.isNumber(i)&&u()>i?!0:!1}}),r}(),r=function(){"use strict";function r(n){n=n||{};this.cancelled=!1;this.lastReq=null;this._send=n.transport;this._get=n.limiter?n.limiter(this._get):this._get;this._cache=n.cache===!1?new i(0):o}var u=0,f={},e=6,o=new i(10);return r.setMaxPendingRequests=function(n){e=n},r.resetCache=function(){o.reset()},t.mixin(r.prototype,{_fingerprint:function(t){return t=t||{},t.url+t.type+n.param(t.data||{})},_get:function(n,t){function o(n){t(null,n);r._cache.set(i,n)}function s(){t(!0)}function c(){u--;delete f[i];r.onDeckRequestArgs&&(r._get.apply(r,r.onDeckRequestArgs),r.onDeckRequestArgs=null)}var i,h,r=this;i=this._fingerprint(n);this.cancelled||i!==this.lastReq||((h=f[i])?h.done(o).fail(s):e>u?(u++,f[i]=this._send(n).done(o).fail(s).always(c)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,r){var f,u;r=r||n.noop;i=t.isString(i)?{url:i}:i||{};u=this._fingerprint(i);this.cancelled=!1;this.lastReq=u;(f=this._cache.get(u))?r(null,f):this._get(i,r)},cancel:function(){this.cancelled=!0}}),r}(),o=window.SearchIndex=function(){"use strict";function u(i){i=i||{};i.datumTokenizer&&i.queryTokenizer||n.error("datumTokenizer and queryTokenizer are both required");this.identify=i.identify||t.stringify;this.datumTokenizer=i.datumTokenizer;this.queryTokenizer=i.queryTokenizer;this.reset()}function f(n){return n=t.filter(n,function(n){return!!n}),n=t.map(n,function(n){return n.toLowerCase()})}function e(){var n={};return n[r]=[],n[i]={},n}function o(n){for(var i={},r=[],t=0,u=n.length;u>t;t++)i[n[t]]||(i[n[t]]=!0,r.push(n[t]));return r}function s(n,t){var i=0,r=0,u=[],f,e;for(n=n.sort(),t=t.sort(),f=n.length,e=t.length;f>i&&e>r;)n[i]<t[r]?i++:n[i]>t[r]?r++:(u.push(n[i]),i++,r++);return u}var i="c",r="i";return t.mixin(u.prototype,{bootstrap:function(n){this.datums=n.datums;this.trie=n.trie},add:function(n){var u=this;n=t.isArray(n)?n:[n];t.each(n,function(n){var o,s;u.datums[o=u.identify(n)]=n;s=f(u.datumTokenizer(n));t.each(s,function(n){for(var f,t=u.trie,s=n.split("");f=s.shift();)t=t[i][f]||(t[i][f]=e()),t[r].push(o)})})},get:function(n){var i=this;return t.map(n,function(n){return i.datums[n]})},search:function(n){var e,u,h=this;return e=f(this.queryTokenizer(n)),t.each(e,function(n){var t,f,o,e;if(u&&0===u.length)return!1;for(t=h.trie,f=n.split("");t&&(o=f.shift());)t=t[i][o];return t&&0===f.length?(e=t[r].slice(0),void(u=u?s(u,e):e)):(u=[],!1)}),u?t.map(o(u),function(n){return h.datums[n]}):[]},all:function(){var n=[],t;for(t in this.datums)n.push(this.datums[t]);return n},reset:function(){this.datums={};this.trie=e()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),u}(),s=function(){"use strict";function i(n){this.url=n.url;this.ttl=n.ttl;this.cache=n.cache;this.prepare=n.prepare;this.transform=n.transform;this.transport=n.transport;this.thumbprint=n.thumbprint;this.storage=new e(n.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.mixin(i.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var i,t={};return this.cache?(t.data=this.storage.get(n.data),t.protocol=this.storage.get(n.protocol),t.thumbprint=this.storage.get(n.thumbprint),i=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!i?t.data:null):null},fromNetwork:function(n){function i(){n(!0)}function r(t){n(null,u.transform(t))}var t,u=this;n&&(t=this.prepare(this._settings()),this.transport(t).fail(i).done(r))},clear:function(){return this.storage.clear(),this}}),i}(),h=function(){"use strict";function n(n){this.url=n.url;this.prepare=n.prepare;this.transform=n.transform;this.transport=new r({cache:n.cache,limiter:n.limiter,transport:n.transport})}return t.mixin(n.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(n,t){function r(n,i){t(n?[]:u.transform(i))}var i,u=this;if(t)return n=n||"",i=this.prepare(n,this._settings()),this.transport.get(i,r)},cancelLastRequest:function(){this.transport.cancel()}}),n}(),c=function(){"use strict";function r(r){var f;return r?(f={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null},r=t.isString(r)?{url:r}:r,r=t.mixin(f,r),!r.url&&n.error("prefetch requires url to be set"),r.transform=r.filter||r.transform,r.cacheKey=r.cacheKey||r.url,r.thumbprint=u+r.thumbprint,r.transport=r.transport?i(r.transport):n.ajax,r):null}function f(r){var u;if(r)return u={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null},r=t.isString(r)?{url:r}:r,r=t.mixin(u,r),!r.url&&n.error("remote requires url to be set"),r.transform=r.filter||r.transform,r.prepare=e(r),r.limiter=o(r),r.transport=r.transport?i(r.transport):n.ajax,delete r.replace,delete r.wildcard,delete r.rateLimitBy,delete r.rateLimitWait,r}function e(n){function u(n,t){return t.url=i(t.url,n),t}function f(n,t){return t.url=t.url.replace(r,encodeURIComponent(n)),t}function e(n,t){return t}var t,i,r;return t=n.prepare,i=n.replace,r=n.wildcard,t?t:t=i?u:n.wildcard?f:e}function o(n){function f(n){return function(i){return t.debounce(i,n)}}function e(n){return function(i){return t.throttle(i,n)}}var i,u,r;return i=n.limiter,u=n.rateLimitBy,r=n.rateLimitWait,i||(i=/^throttle$/i.test(u)?e(r):f(r)),i}function i(i){return function(r){function f(n){t.defer(function(){u.resolve(n)})}function e(n){t.defer(function(){u.reject(n)})}var u=n.Deferred();return i(r,f,e),u}}return function(i){var e,u;return e={initialize:!0,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},i=t.mixin(e,i||{}),!i.datumTokenizer&&n.error("datumTokenizer is required"),!i.queryTokenizer&&n.error("queryTokenizer is required"),u=i.sorter,i.sorter=u?function(n){return n.sort(u)}:t.identity,i.local=t.isFunction(i.local)?i.local():i.local,i.prefetch=r(i.prefetch),i.remote=f(i.remote),i}}();return function(){"use strict";function i(n){n=c(n);this.sorter=n.sorter;this.identify=n.identify;this.sufficient=n.sufficient;this.local=n.local;this.remote=n.remote?new h(n.remote):null;this.prefetch=n.prefetch?new s(n.prefetch):null;this.index=new o({identify:this.identify,datumTokenizer:n.datumTokenizer,queryTokenizer:n.queryTokenizer});n.initialize!==!1&&this.initialize()}var u;return u=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=u),i},i.tokenizers=f,t.mixin(i.prototype,{__ttAdapter:function(){function t(t,i,r){return n.search(t,i,r)}function i(t,i){return n.search(t,i)}var n=this;return this.remote?t:i},_loadPrefetch:function(){function u(n,r){return n?t.reject():(i.add(r),i.prefetch.store(i.index.serialize()),void t.resolve())}var t,r,i=this;return t=n.Deferred(),this.prefetch?(r=this.prefetch.fromCache())?(this.index.bootstrap(r),t.resolve()):this.prefetch.fromNetwork(u):t.resolve(),t.promise()},_initialize:function(){function t(){n.add(n.local)}var n=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(n){return!this.initPromise||n?this._initialize():this.initPromise},add:function(n){return this.index.add(n),this},get:function(n){return n=t.isArray(n)?n:[].slice.call(arguments),this.index.get(n)},search:function(n,i,r){function e(n){var i=[];t.each(n,function(n){t.some(u,function(t){return f.identify(n)===f.identify(t)})||i.push(n)});r&&r(i)}var u,f=this;return u=this.sorter(this.index.search(n)),i(this.remote?u.slice():u),this.remote&&u.length<this.sufficient?this.remote.get(n,e):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return r.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}()}),function(n,t){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(n){return t(n)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(n){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(n){return!n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return"string"==typeof n},isNumber:function(n){return"number"==typeof n},isArray:n.isArray,isFunction:n.isFunction,isObject:n.isPlainObject,isUndefined:function(n){return"undefined"==typeof n},isElement:function(n){return!(!n||1!==n.nodeType)},isJQuery:function(t){return t instanceof n},toStr:function(n){return t.isUndefined(n)||null===n?"":n+""},bind:n.proxy,each:function(t,i){function r(n,t){return i(t,n)}n.each(t,r)},map:n.map,filter:n.grep,every:function(t,i){var r=!0;return t?(n.each(t,function(n,u){if(!(r=i.call(null,u,n,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(n.each(t,function(n,u){if((r=i.call(null,u,n,t)))return!1}),!!r):r},mixin:n.extend,identity:function(n){return n},clone:function(t){return n.extend(!0,{},t)},getIdGenerator:function(){var n=0;return function(){return n++}},templatify:function(t){function i(){return String(t)}return n.isFunction(t)?t:i},defer:function(n){setTimeout(n,0)},debounce:function(n,t,i){var r,u;return function(){var f,e,o=this,s=arguments;return f=function(){r=null;i||(u=n.apply(o,s))},e=i&&!r,clearTimeout(r),r=setTimeout(f,t),e&&(u=n.apply(o,s)),u}},throttle:function(n,t){var u,f,i,e,r,o;return r=0,o=function(){r=new Date;i=null;e=n.apply(u,f)},function(){var s=new Date,h=t-(s-r);return u=this,f=arguments,0>=h?(clearTimeout(i),i=null,r=s,e=n.apply(u,f)):i||(i=setTimeout(o,h)),e}},stringify:function(n){return t.isString(n)?n:JSON.stringify(n)},noop:function(){}}}(),e=function(){"use strict";function n(n){var e,o;return o=t.mixin({},f,n),e={css:u(),classes:o,html:i(o),selectors:r(o)},{css:e.css,html:e.html,classes:e.classes,selectors:e.selectors,mixin:function(n){t.mixin(n,e)}}}function i(n){return{wrapper:'<span class="'+n.wrapper+'"><\/span>',menu:'<div class="'+n.menu+'"><\/div>'}}function r(n){var i={};return t.each(n,function(n,t){i[t]="."+n}),i}function u(){var n={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(n.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),n}var f={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return n}(),o=function(){"use strict";function i(t){t&&t.el||n.error("EventBus initialized without el");this.$el=n(t.el)}var r,u;return r="typeahead:",u={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(i.prototype,{_trigger:function(t,i){var u;return u=n.Event(r+t),(i=i||[]).unshift(u),this.$el.trigger.apply(this.$el,i),u},before:function(n){var t,i;return t=[].slice.call(arguments,1),i=this._trigger("before"+n,t),i.isDefaultPrevented()},trigger:function(n){var t;this._trigger(n,[].slice.call(arguments,1));(t=u[n])&&this._trigger(t,[].slice.call(arguments,1))}}),i}(),r=function(){"use strict";function t(t,i,r,u){var f;if(!r)return this;for(i=i.split(n),r=u?s(r,u):r,this._callbacks=this._callbacks||{};f=i.shift();)this._callbacks[f]=this._callbacks[f]||{sync:[],async:[]},this._callbacks[f][t].push(r);return this}function r(n,i,r){return t.call(this,"async",n,i,r)}function u(n,i,r){return t.call(this,"sync",n,i,r)}function f(t){var i;if(!this._callbacks)return this;for(t=t.split(n);i=t.shift();)delete this._callbacks[i];return this}function e(t){var r,u,f,e,o;if(!this._callbacks)return this;for(t=t.split(n),f=[].slice.call(arguments,1);(r=t.shift())&&(u=this._callbacks[r]);)e=i(u.sync,this,[r].concat(f)),o=i(u.async,this,[r].concat(f)),e()&&h(o);return this}function i(n,t,i){function r(){for(var r,u=0,f=n.length;!r&&f>u;u+=1)r=n[u].apply(t,i)===!1;return!r}return r}function o(){return window.setImmediate?function(n){setImmediate(function(){n()})}:function(n){setTimeout(function(){n()},0)}}function s(n,t){return n.bind?n.bind(t):function(){n.apply(t,[].slice.call(arguments,0))}}var n=/\s+/,h=o();return{onSync:u,onAsync:r,off:f,trigger:e}}(),s=function(n){"use strict";function i(n,i,r){for(var u,f=[],e=0,o=n.length;o>e;e++)f.push(t.escapeRegExChars(n[e]));return u=r?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",i?new RegExp(u):new RegExp(u,"i")}var r={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(u){function o(t){var i,r,f;return(i=e.exec(t.data))&&(f=n.createElement(u.tagName),u.className&&(f.className=u.className),r=t.splitText(i.index),r.splitText(i[0].length),f.appendChild(r.cloneNode(!0)),t.parentNode.replaceChild(f,r)),!!i}function f(n,t){for(var i,r=0;r<n.childNodes.length;r++)i=n.childNodes[r],i.nodeType===3?r+=t(i)?1:0:f(i,t)}var e;u=t.mixin({},r,u);u.node&&u.pattern&&(u.pattern=t.isArray(u.pattern)?u.pattern:[u.pattern],e=i(u.pattern,u.caseSensitive,u.wordsOnly),f(u.node,o))}}(window.document),u=function(){"use strict";function i(i,r){i=i||{};i.input||n.error("input is missing");r.mixin(this);this.$hint=n(i.hint);this.$input=n(i.input);this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;this.$overflowHelper=e(this.$input);this._checkLanguageDirection();0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop)}function e(t){return n('<pre aria-hidden="true"><\/pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function o(n,t){return i.normalizeQuery(n)===i.normalizeQuery(t)}function f(n){return n.altKey||n.ctrlKey||n.metaKey||n.shiftKey}var u;return u={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(n){return t.toStr(n).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(i.prototype,r,{_onBlur:function(){this.resetInputValue();this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function(n){var t=u[n.which||n.keyCode];this._managePreventDefault(t,n);t&&this._shouldTrigger(t,n)&&this.trigger(t+"Keyed",n)},_onInput:function(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function(n,t){var i;switch(n){case"up":case"down":i=!f(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(n,t){var i;switch(n){case"tab":i=!f(t);break;default:i=!0}return i},_checkLanguageDirection:function(){var n=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==n&&(this.dir=n,this.$hint.attr("dir",n),this.trigger("langDirChanged",n))},_setQuery:function(n,t){var i,r;i=o(n,this.query);r=i?this.query.length!==n.length:!1;this.query=n;t||i?!t&&r&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var n,i,r,f,e=this;return n=t.bind(this._onBlur,this),i=t.bind(this._onFocus,this),r=t.bind(this._onKeydown,this),f=t.bind(this._onInput,this),this.$input.on("blur.tt",n).on("focus.tt",i).on("keydown.tt",r),!t.isMsie()||t.isMsie()>9?this.$input.on("input.tt",f):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(n){u[n.which||n.keyCode]||t.defer(t.bind(e._onInput,e,n))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(n,t){this.setInputValue(n);this._setQuery(n,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(n){this.$input.val(n);this.clearHintIfInvalid();this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(n){this.$hint.val(n)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var n,t,i,r;n=this.getInputValue();t=this.getHint();i=n!==t&&0===t.indexOf(n);r=""!==n&&i&&!this.hasOverflow();!r&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var n=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=n},isCursorAtEnd:function(){var n,i,r;return n=this.$input.val().length,i=this.$input[0].selectionStart,t.isNumber(i)?i===n:document.selection?(r=document.selection.createRange(),r.moveStart("character",-n),n===r.text.length):!0},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=n("<div>")}}),i}(),f=function(){"use strict";function u(i,r){i=i||{};i.templates=i.templates||{};i.templates.notFound=i.templates.notFound||i.templates.empty;i.source||n.error("missing source");i.node||n.error("missing node");i.name&&!h(i.name)&&n.error("invalid dataset name: "+i.name);r.mixin(this);this.highlight=!!i.highlight;this.name=i.name||f();this.limit=i.limit||5;this.displayFn=e(i.display||i.displayKey);this.templates=o(i.templates,this.displayFn);this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source;this.async=t.isUndefined(i.async)?this.source.length>2:!!i.async;this._resetLastSuggestion();this.$el=n(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function e(n){function i(t){return t[n]}return n=n||t.stringify,t.isFunction(n)?n:i}function o(i,r){function u(t){return n("<div>").text(r(t))}return{notFound:i.notFound&&t.templatify(i.notFound),pending:i.pending&&t.templatify(i.pending),header:i.header&&t.templatify(i.header),footer:i.footer&&t.templatify(i.footer),suggestion:i.suggestion||u}}function h(n){return/^[_a-zA-Z0-9-]+$/.test(n)}var i,f;return i={val:"tt-selectable-display",obj:"tt-selectable-object"},f=t.getIdGenerator(),u.extractData=function(t){var r=n(t);return r.data(i.obj)?{val:r.data(i.val)||"",obj:r.data(i.obj)||null}:null},t.mixin(u.prototype,r,{_overwrite:function(n,t){t=t||[];t.length?this._renderSuggestions(n,t):this.async&&this.templates.pending?this._renderPending(n):!this.async&&this.templates.notFound?this._renderNotFound(n):this._empty();this.trigger("rendered",this.name,t,!1)},_append:function(n,t){t=t||[];t.length&&this.$lastSuggestion.length?this._appendSuggestions(n,t):t.length?this._renderSuggestions(n,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(n);this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(n,t){var i;i=this._getSuggestionsFragment(n,t);this.$lastSuggestion=i.children().last();this.$el.html(i).prepend(this._getHeader(n,t)).append(this._getFooter(n,t))},_appendSuggestions:function(n,t){var i,r;i=this._getSuggestionsFragment(n,t);r=i.children().last();this.$lastSuggestion.after(i);this.$lastSuggestion=r},_renderPending:function(n){var t=this.templates.pending;this._resetLastSuggestion();t&&this.$el.html(t({query:n,dataset:this.name}))},_renderNotFound:function(n){var t=this.templates.notFound;this._resetLastSuggestion();t&&this.$el.html(t({query:n,dataset:this.name}))},_empty:function(){this.$el.empty();this._resetLastSuggestion()},_getSuggestionsFragment:function(r,u){var e,f=this;return e=document.createDocumentFragment(),t.each(u,function(t){var u,o;o=f._injectQuery(r,t);u=n(f.templates.suggestion(o)).data(i.obj,t).data(i.val,f.displayFn(t)).addClass(f.classes.suggestion+" "+f.classes.selectable);e.appendChild(u[0])}),this.highlight&&s({className:this.classes.highlight,node:e,pattern:r}),n(e)},_getFooter:function(n,t){return this.templates.footer?this.templates.footer({query:n,suggestions:t,dataset:this.name}):null},_getHeader:function(n,t){return this.templates.header?this.templates.header({query:n,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=n()},_injectQuery:function(n,i){return t.isObject(i)?t.mixin({_query:n},i):i},update:function(t){function f(n){u||(u=!0,n=(n||[]).slice(0,i.limit),r=n.length,i._overwrite(t,n),r<i.limit&&i.async&&i.trigger("asyncRequested",t))}function o(u){u=u||[];!e&&r<i.limit&&(i.cancel=n.noop,r+=u.length,i._append(t,u.slice(0,i.limit-r)),i.async&&i.trigger("asyncReceived",t))}var i=this,e=!1,u=!1,r=0;this.cancel();this.cancel=function(){e=!0;i.cancel=n.noop;i.async&&i.trigger("asyncCanceled",t)};this.source(t,f,o);!u&&f([])},cancel:n.noop,clear:function(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=n("<div>")}}),u}(),i=function(){"use strict";function i(i,r){function e(t){var i=u.$node.find(t.node).first();return t.node=i.length?i:n("<div>").appendTo(u.$node),new f(t,r)}var u=this;i=i||{};i.node||n.error("node is required");r.mixin(this);this.$node=n(i.node);this.query=null;this.datasets=t.map(i.datasets,e)}return t.mixin(i.prototype,r,{_onSelectableClick:function(t){this.trigger("selectableClicked",n(t.currentTarget))},_onRendered:function(n,t,i,r){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetRendered",t,i,r)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function n(n){return n.isEmpty()}return t.every(this.datasets,n)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var n=this.getActiveSelectable();n&&n.removeClass(this.classes.cursor)},_ensureVisible:function(n){var t,i,r,u;t=n.position().top;i=t+n.outerHeight(!0);r=this.$node.scrollTop();u=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);0>t?this.$node.scrollTop(r+t):i>u&&this.$node.scrollTop(r+(i-u))},bind:function(){var i,n=this;return i=t.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,i),t.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function(n){this.$node.attr("dir",n)},selectableRelativeToCursor:function(n){var i,r,u,t;return r=this.getActiveSelectable(),i=this._getSelectables(),u=r?i.index(r):-1,t=u+n,t=(t+1)%(i.length+1)-1,t=-1>t?i.length-1:t,-1===t?null:i.eq(t)},setCursor:function(n){this._removeCursor();(n=n&&n.first())&&(n.addClass(this.classes.cursor),this._ensureVisible(n))},getSelectableData:function(n){return n&&n.length?f.extractData(n):null},getActiveSelectable:function(){var n=this._getSelectables().filter(this.selectors.cursor).first();return n.length?n:null},getTopSelectable:function(){var n=this._getSelectables().first();return n.length?n:null},update:function(n){function r(t){t.update(n)}var i=n!==this.query;return i&&(this.query=n,t.each(this.datasets,r)),i},empty:function(){function n(n){n.clear()}t.each(this.datasets,n);this.query=null;this.$node.addClass(this.classes.empty)},destroy:function(){function i(n){n.destroy()}this.$node.off(".tt");this.$node=n("<div>");t.each(this.datasets,i)}}),i}(),h=function(){"use strict";function r(){i.apply(this,[].slice.call(arguments,0))}var n=i.prototype;return t.mixin(r.prototype,i.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),r}(),c=function(){"use strict";function r(r,u){var f,e,o,s,h,c,l,a,v,y,p;r=r||{};r.input||n.error("missing input");r.menu||n.error("missing menu");r.eventBus||n.error("missing event bus");u.mixin(this);this.eventBus=r.eventBus;this.minLength=t.isNumber(r.minLength)?r.minLength:1;this.input=r.input;this.menu=r.menu;this.enabled=!0;this.active=!1;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);f=i(this,"activate","open","_onFocused");e=i(this,"deactivate","_onBlurred");o=i(this,"isActive","isOpen","_onEnterKeyed");s=i(this,"isActive","isOpen","_onTabKeyed");h=i(this,"isActive","_onEscKeyed");c=i(this,"isActive","open","_onUpKeyed");l=i(this,"isActive","open","_onDownKeyed");a=i(this,"isActive","isOpen","_onLeftKeyed");v=i(this,"isActive","isOpen","_onRightKeyed");y=i(this,"_openIfActive","_onQueryChanged");p=i(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",f,this).onSync("blurred",e,this).onSync("enterKeyed",o,this).onSync("tabKeyed",s,this).onSync("escKeyed",h,this).onSync("upKeyed",c,this).onSync("downKeyed",l,this).onSync("leftKeyed",a,this).onSync("rightKeyed",v,this).onSync("queryChanged",y,this).onSync("whitespaceChanged",p,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(n){var i=[].slice.call(arguments,1);return function(){var r=[].slice.call(arguments);t.each(i,function(t){return n[t].apply(n,r)})}}return t.mixin(r.prototype,{_hacks:function(){var r,i;r=this.input.$input||n("<div>");i=this.menu.$node||n("<div>");r.on("blur.tt",function(n){var u,f,e;u=document.activeElement;f=i.is(u);e=i.has(u).length>0;t.isMsie()&&(f||e)&&(n.preventDefault(),n.stopImmediatePropagation(),t.defer(function(){r.focus()}))});i.on("mousedown.tt",function(n){n.preventDefault()})},_onSelectableClicked:function(n,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(n,t,i,r){this._updateHint();this.eventBus.trigger("render",i,r,t)},_onAsyncRequested:function(n,t,i){this.eventBus.trigger("asyncrequest",i,t)},_onAsyncCanceled:function(n,t,i){this.eventBus.trigger("asynccancel",i,t)},_onAsyncReceived:function(n,t,i){this.eventBus.trigger("asyncreceive",i,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(n,t){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&t.preventDefault()},_onTabKeyed:function(n,t){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&t.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(n,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(n,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(n){return n=t.isString(n)?n:this.input.getQuery()||"",n.length>=this.minLength},_updateHint:function(){var f,i,n,e,o,s,r;f=this.menu.getTopSelectable();i=this.menu.getSelectableData(f);n=this.input.getInputValue();!i||t.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(e=u.normalizeQuery(n),o=t.escapeRegExChars(e),s=new RegExp("^(?:"+o+")(.+$)","i"),r=s.exec(i.val),r&&this.input.setHint(n+r[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(n){this.input.setQuery(t.toStr(n))},getVal:function(){return this.input.getQuery()},select:function(n){var t=this.menu.getSelectableData(n);return t&&!this.eventBus.before("select",t.obj)?(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0):!1},autocomplete:function(n){var i,t,r;return i=this.input.getQuery(),t=this.menu.getSelectableData(n),r=t&&i!==t.val,r&&!this.eventBus.before("autocomplete",t.obj)?(this.input.setQuery(t.val),this.eventBus.trigger("autocomplete",t.obj),!0):!1},moveCursor:function(n){var u,i,t,r,f;return u=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(n),t=this.menu.getSelectableData(i),r=t?t.obj:null,f=this._minLengthMet()&&this.menu.update(u),f||this.eventBus.before("cursorchange",r)?!1:(this.menu.setCursor(i),t?this.input.setInputValue(t.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy();this.menu.destroy()}}),r}();!function(){"use strict";function r(t,i){t.each(function(){var t,r=n(this);(t=r.data(f.typeahead))&&i(t,r)})}function v(n,t){return n.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(p(n)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function y(n,t){n.data(f.attrs,{dir:n.attr("dir"),autocomplete:n.attr("autocomplete"),spellcheck:n.attr("spellcheck"),style:n.attr("style")});n.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{n.attr("dir")||n.attr("dir","auto")}catch(i){}return n}function p(n){return{backgroundAttachment:n.css("background-attachment"),backgroundClip:n.css("background-clip"),backgroundColor:n.css("background-color"),backgroundImage:n.css("background-image"),backgroundOrigin:n.css("background-origin"),backgroundPosition:n.css("background-position"),backgroundRepeat:n.css("background-repeat"),backgroundSize:n.css("background-size")}}function w(n){var r,i;r=n.data(f.www);i=n.parent().filter(r.selectors.wrapper);t.each(n.data(f.attrs),function(i,r){t.isUndefined(i)?n.removeAttr(r):n.attr(r,i)});n.removeData(f.typeahead).removeData(f.www).removeData(f.attr).removeClass(r.classes.input);i.length&&(n.detach().insertAfter(i),i.remove())}function l(i){var u,r;return u=t.isJQuery(i)||t.isElement(i),r=u?n(i).first():[],r.length?r:null}var a,f,s;a=n.fn.typeahead;f={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};s={initialize:function(r,s){function p(){var e,d,p,w,b,k,g,nt,tt,it,rt;t.each(s,function(n){n.highlight=!!r.highlight});e=n(this);d=n(a.html.wrapper);p=l(r.hint);w=l(r.menu);b=r.hint!==!1&&!p;k=r.menu!==!1&&!w;b&&(p=v(e,a));k&&(w=n(a.html.menu).css(a.css.menu));p&&p.val("");e=y(e,a);(b||k)&&(d.css(a.css.wrapper),e.css(b?a.css.input:a.css.inputWithNoHint),e.wrap(d).parent().prepend(b?p:null).append(k?w:null));rt=k?h:i;g=new o({el:e});nt=new u({hint:p,input:e},a);tt=new rt({node:w,datasets:s},a);it=new c({input:nt,menu:tt,eventBus:g,minLength:r.minLength},a);e.data(f.www,a);e.data(f.typeahead,it)}var a;return s=t.isArray(s)?s:[].slice.call(arguments,1),r=r||{},a=e(r.classNames),this.each(p)},isEnabled:function(){var n;return r(this.first(),function(t){n=t.isEnabled()}),n},enable:function(){return r(this,function(n){n.enable()}),this},disable:function(){return r(this,function(n){n.disable()}),this},isActive:function(){var n;return r(this.first(),function(t){n=t.isActive()}),n},activate:function(){return r(this,function(n){n.activate()}),this},deactivate:function(){return r(this,function(n){n.deactivate()}),this},isOpen:function(){var n;return r(this.first(),function(t){n=t.isOpen()}),n},open:function(){return r(this,function(n){n.open()}),this},close:function(){return r(this,function(n){n.close()}),this},select:function(t){var i=!1,u=n(t);return r(this.first(),function(n){i=n.select(u)}),i},autocomplete:function(t){var i=!1,u=n(t);return r(this.first(),function(n){i=n.autocomplete(u)}),i},moveCursor:function(n){var t=!1;return r(this.first(),function(i){t=i.moveCursor(n)}),t},val:function(n){var t;return arguments.length?(r(this,function(t){t.setVal(n)}),this):(r(this.first(),function(n){t=n.getVal()}),t)},destroy:function(){return r(this,function(n,t){w(t);n.destroy()}),this}};n.fn.typeahead=function(n){return s[n]?s[n].apply(this,[].slice.call(arguments,1)):s.initialize.apply(this,arguments)};n.fn.typeahead.noConflict=function(){return n.fn.typeahead=a,this}}()}),function(){"use strict";function it(){var u=!1,n;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval");u=!0;window.localStorage.removeItem("_tmptest")}catch(f){}if(u)try{window.localStorage&&(i=window.localStorage,r="localStorage",o=i.jStorage_update)}catch(e){}else if("globalStorage"in window)try{window.globalStorage&&(i=window.location.hostname=="localhost"?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],r="globalStorage",o=i.jStorage_update)}catch(s){}else if(t=document.createElement("link"),t.addBehavior){t.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(t);try{t.load("jStorage")}catch(h){t.setAttribute("jStorage","{}");t.save("jStorage");t.load("jStorage")}n="{}";try{n=t.getAttribute("jStorage")}catch(l){}try{o=t.getAttribute("jStorage_update")}catch(a){}i.jStorage=n;r="userDataBehavior"}else{t=null;return}nt();y();rt();tt();"addEventListener"in window&&window.addEventListener("pageshow",function(n){n.persisted&&c()},!1)}function g(){var n="{}";if(r=="userDataBehavior"){t.load("jStorage");try{n=t.getAttribute("jStorage")}catch(u){}try{o=t.getAttribute("jStorage_update")}catch(f){}i.jStorage=n}nt();y();tt()}function rt(){r=="localStorage"||r=="globalStorage"?"addEventListener"in window?window.addEventListener("storage",c,!1):document.attachEvent("onstorage",c):r=="userDataBehavior"&&setInterval(c,1e3)}function c(){var n;clearTimeout(k);k=setTimeout(function(){if(r=="localStorage"||r=="globalStorage")n=i.jStorage_update;else if(r=="userDataBehavior"){t.load("jStorage");try{n=t.getAttribute("jStorage_update")}catch(u){}}n&&n!=o&&(o=n,ut())},25)}function ut(){var i=f.parse(f.stringify(n.__jstorage_meta.CRC32)),r,t,u,e;g();r=f.parse(f.stringify(n.__jstorage_meta.CRC32));u=[];e=[];for(t in i)if(i.hasOwnProperty(t)){if(!r[t]){e.push(t);continue}i[t]!=r[t]&&String(i[t]).substr(0,2)=="2."&&u.push(t)}for(t in r)r.hasOwnProperty(t)&&(i[t]||u.push(t));h(u,"updated");h(e,"deleted")}function h(n,t){var i,r,o,f,e;if(n=[].concat(n||[]),t=="flushed"){n=[];for(e in u)u.hasOwnProperty(e)&&n.push(e);t="deleted"}for(i=0,o=n.length;i<o;i++){if(u[n[i]])for(r=0,f=u[n[i]].length;r<f;r++)u[n[i]][r](n[i],t);if(u["*"])for(r=0,f=u["*"].length;r<f;r++)u["*"][r](n[i],t)}}function l(){var n=(+new Date).toString();if(r=="localStorage"||r=="globalStorage")try{i.jStorage_update=n}catch(u){r=!1}else
r=="userDataBehavior"&&(t.setAttribute("jStorage_update",n),t.save("jStorage"));c()}function nt(){if(i.jStorage)try{n=f.parse(String(i.jStorage))}catch(t){i.jStorage="{}"}else
i.jStorage="{}";p=i.jStorage?String(i.jStorage).length:0;n.__jstorage_meta||(n.__jstorage_meta={});n.__jstorage_meta.CRC32||(n.__jstorage_meta.CRC32={})}function a(){et();try{i.jStorage=f.stringify(n);t&&(t.setAttribute("jStorage",i.jStorage),t.save("jStorage"));p=i.jStorage?String(i.jStorage).length:0}catch(r){}}function e(n){if(typeof n!="string"&&typeof n!="number")throw new TypeError("Key name must be string or numeric");if(n=="__jstorage_meta")throw new TypeError("Reserved key name");return!0}function y(){var u,t,i,f,r=Infinity,e=!1,o=[];if(clearTimeout(d),n.__jstorage_meta&&typeof n.__jstorage_meta.TTL=="object"){u=+new Date;i=n.__jstorage_meta.TTL;f=n.__jstorage_meta.CRC32;for(t in i)i.hasOwnProperty(t)&&(i[t]<=u?(delete i[t],delete f[t],delete n[t],e=!0,o.push(t)):i[t]<r&&(r=i[t]));r!=Infinity&&(d=setTimeout(y,Math.min(r-u,2147483647)));e&&(a(),l(),h(o,"deleted"))}}function tt(){var t,f,r,u,i;if(n.__jstorage_meta.PubSub){for(u=w,i=[],t=f=n.__jstorage_meta.PubSub.length-1;t>=0;t--)r=n.__jstorage_meta.PubSub[t],r[0]>w&&(u=r[0],i.unshift(r));for(t=i.length-1;t>=0;t--)ft(i[t][1],i[t][2]);w=u}}function ft(n,t){if(s[n])for(var i=0,r=s[n].length;i<r;i++)try{s[n][i](n,f.parse(f.stringify(t)))}catch(u){}}function et(){var i,t,r;if(n.__jstorage_meta.PubSub){for(i=+new Date-2e3,t=0,r=n.__jstorage_meta.PubSub.length;t<r;t++)if(n.__jstorage_meta.PubSub[t][0]<=i){n.__jstorage_meta.PubSub.splice(t,n.__jstorage_meta.PubSub.length-t);break}n.__jstorage_meta.PubSub.length||delete n.__jstorage_meta.PubSub}}function ot(t,i){n.__jstorage_meta||(n.__jstorage_meta={});n.__jstorage_meta.PubSub||(n.__jstorage_meta.PubSub=[]);n.__jstorage_meta.PubSub.unshift([+new Date,t,i]);a();l()}function st(n,t){for(var f=n.length,i=t^f,u=0,r;f>=4;)r=n.charCodeAt(u)&255|(n.charCodeAt(++u)&255)<<8|(n.charCodeAt(++u)&255)<<16|(n.charCodeAt(++u)&255)<<24,r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16),r^=r>>>24,r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16),i=(i&65535)*1540483477+(((i>>>16)*1540483477&65535)<<16)^r,f-=4,++u;switch(f){case 3:i^=(n.charCodeAt(u+2)&255)<<16;case 2:i^=(n.charCodeAt(u+1)&255)<<8;case 1:i^=n.charCodeAt(u)&255;i=(i&65535)*1540483477+(((i>>>16)*1540483477&65535)<<16)}return i^=i>>>13,i=(i&65535)*1540483477+(((i>>>16)*1540483477&65535)<<16),i^=i>>>15,i>>>0}var v=window.jQuery||window.$||(window.$={}),f={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(n){return String(n).evalJSON()}||v.parseJSON||v.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||v.toJSON};if(typeof f.parse!="function"||typeof f.stringify!="function")throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var n={__jstorage_meta:{CRC32:{}}},i={jStorage:"{}"},t=null,p=0,r=!1,u={},k=!1,o=0,s={},w=+new Date,d,b={isXML:function(n){var t=(n?n.ownerDocument||n:0).documentElement;return t?t.nodeName!=="HTML":!1},encode:function(n){if(!this.isXML(n))return!1;try{return(new XMLSerializer).serializeToString(n)}catch(t){try{return n.xml}catch(i){}}return!1},decode:function(n){var i="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(n){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(n),t},t;return i?(t=i.call("DOMParser"in window&&new DOMParser||window,n,"text/xml"),this.isXML(t)?t:!1):!1}};v.jStorage={version:"0.4.12",set:function(t,i,r){if(e(t),r=r||{},typeof i=="undefined")return this.deleteKey(t),i;if(b.isXML(i))i={_is_xml:!0,xml:b.encode(i)};else{if(typeof i=="function")return undefined;i&&typeof i=="object"&&(i=f.parse(f.stringify(i)))}return n[t]=i,n.__jstorage_meta.CRC32[t]="2."+st(f.stringify(i),2538058380),this.setTTL(t,r.TTL||0),h(t,"updated"),i},get:function(t,i){return(e(t),t in n)?n[t]&&typeof n[t]=="object"&&n[t]._is_xml?b.decode(n[t].xml):n[t]:typeof i=="undefined"?null:i},deleteKey:function(t){return(e(t),t in n)?(delete n[t],typeof n.__jstorage_meta.TTL=="object"&&t in n.__jstorage_meta.TTL&&delete n.__jstorage_meta.TTL[t],delete n.__jstorage_meta.CRC32[t],a(),l(),h(t,"deleted"),!0):!1},setTTL:function(t,i){var r=+new Date;return(e(t),i=Number(i)||0,t in n)?(n.__jstorage_meta.TTL||(n.__jstorage_meta.TTL={}),i>0?n.__jstorage_meta.TTL[t]=r+i:delete n.__jstorage_meta.TTL[t],a(),y(),l(),!0):!1},getTTL:function(t){var r=+new Date,i;return(e(t),t in n&&n.__jstorage_meta.TTL&&n.__jstorage_meta.TTL[t])?(i=n.__jstorage_meta.TTL[t]-r,i||0):0},flush:function(){return n={__jstorage_meta:{CRC32:{}}},a(),l(),h(null,"flushed"),!0},storageObj:function(){function t(){}return t.prototype=n,new t},index:function(){var i=[],t;for(t in n)n.hasOwnProperty(t)&&t!="__jstorage_meta"&&i.push(t);return i},storageSize:function(){return p},currentBackend:function(){return r},storageAvailable:function(){return!!r},listenKeyChange:function(n,t){e(n);u[n]||(u[n]=[]);u[n].push(t)},stopListening:function(n,t){if(e(n),u[n]){if(!t){delete u[n];return}for(var i=u[n].length-1;i>=0;i--)u[n][i]==t&&u[n].splice(i,1)}},subscribe:function(n,t){if(n=(n||"").toString(),!n)throw new TypeError("Channel not defined");s[n]||(s[n]=[]);s[n].push(t)},publish:function(n,t){if(n=(n||"").toString(),!n)throw new TypeError("Channel not defined");ot(n,t)},reInit:function(){g()},noConflict:function(n){return delete window.$.jStorage,n&&(window.jStorage=this),this}};it()}();var CONTROLLER=function(n){function l(){return $("#years a.selected:not(.more,.all)").map(function(){return this.getAttribute("data-id")}).get()}function a(){return $("#bodys a.selected:not(.more,.all)").map(function(){return this.getAttribute("data-id")}).get()}function v(){return $("#drivetrains a.selected:not(.more,.all)").map(function(){return this.getAttribute("data-id")}).get()}function y(){var n=$("#transmissions a.selected:not(.more,.all)");return!n||n.length==0?null:n[0].getAttribute("data-id")}function p(){return $("#powertrains a.selected:not(.more,.all)").map(function(){return $.map(this.getAttribute("data-id").split("_"),function(n){return parseInt(n)})}).get()}function w(){var n=$("#prices a.selected:not(.more,.all)").map(function(){return this.getAttribute("data-id")}).get();return console.log("getSelectedPrices",n),n}function b(){return $("#doors a.selected:not(.more,.all)").map(function(){return $.map(this.getAttribute("data-id").split("_"),function(n){return parseInt(n)})}).get()}function k(){return $("#features a.selected:not(.more,.all)").map(function(){return this.getAttribute("data-id")}).get()}function d(){return $("#colors a.selected:not(.more,.all)").map(function(){return this.getAttribute("data-id")}).get()}function g(){return $("#sort").attr("data-sort")}function o(){return $("#price-type").attr("data-price-type")}function nt(){var ct=l(),lt=a(),at=d(),it=g(),rt=o(),ut=v(),ft=y(),et=p(),ot=w(),st=b(),ht=k(),vt=n.getPriceSlider()!=undefined?n.getPriceSlider().result.from:null,tt=n.getPriceSlider()!=undefined?n.getPriceSlider().result.to:null,r,f,h;n.getPriceSliderOptions()&&tt==n.getPriceSliderOptions().max&&(tt=null);r=n.getHpSlider()!=undefined?n.getHpSlider().result.from:null;n.getHpSliderOptions()&&r==n.getHpSliderOptions().min&&(r=null);f=n.getMpgSlider()!=undefined?n.getMpgSlider().result.from:null;n.getMpgSliderOptions()&&f==n.getMpgSliderOptions().min&&(f=null);h=n.getMileageSlider()!=undefined?n.getMileageSlider().result.from:null;n.getMileageSliderOptions()&&h==n.getMileageSliderOptions().max&&(h=null);var yt=n.isFreeDeliveryFirst(),pt=n.isLeasingFirst(),wt=n.getShowOnSaleOnly(),bt=n.getShowLeasableOnly(),s=u.map(function(n){return n.id}),c=i.map(function(n){return n.id}),nt=e.map(function(n){return n.id});t=new SearchQuery({years:ct,bodyTypes:lt,colors:at,minPrice:vt,maxPrice:tt,maxMiles:h});it&&(t.sort=it);rt&&(t.priceType=rt);s&&(t.makeIds=s);c&&(t.modelIds=c);nt&&(t.trimIds=nt);ut&&(t.driveTrains=ut);ft&&(t.transmissionType=ft);et&&(t.powertrains=et);ot&&(t.prices=ot);st&&(t.numberOfDoors=st);ht&&(t.generalOptions=ht);r&&(t.minHorsePower=r);f&&(t.minAverageMPG=f);t.isFreeDeliveryFirst=yt;t.isLeasingFirst=pt;t.showOnSaleOnly=wt;t.showLeasableOnly=bt;s.length>0&&c.length==0&&nt.length==0?(t.makesUrl=u.map(function(n){return n.url}).join("_"),t.makeIdsUrl=null):i&&i.length==1&&s.length==0&&nt.length==0?(t.modelUrl=i[0].url,t.modelIdsUrl=null):(t.modelIdsUrl=c.join("_"),t.makeIdsUrl=s.join("_"))}function h(n){var t={sessionId:SessionTracker.getSession(),searchQueryId:n};$.ajax({type:"POST",url:"/v1/listings/recordSearch",contentType:"application/json",data:JSON.stringify(t)})}var t,u=[],i=[],e=[],c,f,s,r;return n.GetCurrentSeachQuery=function(){return t},n.SetCurrentSeachQuery=function(n){t=n},n.getUserID=function(){return t.userID},n.getMakeModelTrimFilterOptionArray=function(n){switch(n){case"Make":return u;case"Model":return i;case"Trim":return e;default:return null}},c=1,f=!0,n.getSelectedPriceType=o,n.performSearch=function(i,r){function c(){$("#input-wrapper i").hide()}function l(i){var u=Date.now()-e;t.searchResults=i;n.updateUIWithNewSearchResults(i,f);clearTimeout(s);s=setTimeout(h,5e3,i.metaData.searchQueryId);r||n.mp({action:"search",renderTime:Date.now()-e-u,responseTime:u})}function a(t){var i=Date.now()-e;console.error("performSearchError",t);n.mp({action:"error",errorname:"Search",responseTime:i})}var f=i||n.getZip(),u;f&&$("#input-wrapper i").show();nt();var o={years:t.years,bodyTypes:t.bodyTypes,colors:t.colors,minPrice:t.minPrice,maxPrice:t.maxPrice,minMiles:t.minMiles,maxMiles:t.maxMiles,makeIds:t.makeIds,modelIds:t.modelIds,trimIds:t.trimIds,sort:t.sort,priceType:t.priceType,transmissionType:t.transmissionType,powertrains:t.powertrains,prices:t.prices,driveTrains:t.driveTrains,numberOfDoors:t.numberOfDoors,generalOptions:t.generalOptions,minAverageMPG:t.minAverageMPG,minHorsePower:t.minHorsePower,isFreeDeliveryFirst:t.isFreeDeliveryFirst,isLeasingFirst:t.isLeasingFirst,showOnSaleOnly:t.showOnSaleOnly,showLeasableOnly:t.showLeasableOnly,deliveryZip:f},e=Date.now(),u="/v1/listings/carsSearch";$.ajax({type:"POST",url:u,contentType:"application/json",data:JSON.stringify(o),success:l,error:a,complete:c});u=t.getUrl();n.setHistoryPage(u)},n.recordSearch=h,r=!1,n.getIsLoadingMoreCars=function(){return r},n.getMoreCars=function(){function e(){$("footer").addClass("hidden");$(".push").addClass("hidden");$("body").addClass("loading")}function o(){$("footer").removeClass("hidden");$(".push").removeClass("hidden");$("body").removeClass("loading")}function s(u){var e,o;r=!1;t.pageId++;o=Date.now()-i;u.carsOnSale.length>=0?n.renderCars(u,!1,n.getZip()):f=!1;e=$.map(u.carsOnSale,function(n){return n.saleId+", "+n.title})}function h(){var t=Date.now()-i;r=!1;f=!1;n.mp({action:"error",errorname:"Get More Cars",renderTime:Date.now()-i-t,responseTime:t})}r=!0;var u={userID:t.userID,searchQueryId:t.searchResults.metaData.searchQueryId,pageId:t.pageId+1,isFreeDeliveryFirst:n.isFreeDeliveryFirst(),isLeasingFirst:n.isLeasingFirst(),showOnSaleOnly:n.getShowOnSaleOnly(),showLeasableOnly:n.getShowLeasableOnly(),deliveryZip:n.getZip()},i=Date.now();$.ajax({type:"POST",url:"/v1/listings/carsPageResults",contentType:"application/json",beforeSend:e,complete:o,data:JSON.stringify(u),success:s,error:h})},n.updateUrl=function(){var i=t.getUrl();n.setHistoryPage(i)},n.setHistoryPage=function(n){"pushState"in history&&n&&history.pushState(n,"",n)},n.followSearch=function(){var t=$("input.followEmailInput").val,i=n.GetCurrentSeachQuery();alert(t);alert(i)},n.askInspectorQuestion=function(){},n}({}),CONTROLLER=function(n){function s(n,t){return!(JSON.stringify(n)===JSON.stringify(t))}function e(t){$("#carList").append($(t));n.setCarImages()}function h(){var i=$("#carList .carItem.related").index(".carItem"),r=6,u;for(!n.isSmall()&&(n.isGridView||i>0&&t>i)&&(r=15),n.isSmall()&&(r=6),t<r&&(t=r),numCars=$("#carList .carItem").length;t<numCars;t+=r){if(!n.isSmall()&&i>0&&t>i)for(r=15;(t-i)%3!=0;)t++;t>i-r/2&&t<i+r/2||(u=$(Mustache.to_html(n.getMessageTemplate(),l())),t>i&&i>-1&&$(u).addClass("relatedSection"),o(t,u))}}function c(){var t=$("#carList .carItem.related").index(".carItem"),i;t>0&&$(".message.related").length===0&&(i=$(Mustache.to_html(n.getMessageTemplate(),n.getSysMessages().related)),o(t,i),$("#carList .messageContainer").not(".related").each(function(){t>0&&$(this).index(".carItem")>t-12&&$(this).index(".carItem")<t+12&&$(this).remove()}))}function o(n,t){var i=$("#carList .carItem").eq(n);$(i).before(t)}function l(){return i++,i===n.getCarMessages().length&&(i=0),n.getCarMessages()[i]}var i=0,t=0,r=n.GetCurrentSeachQuery.searchResults,u,f;return n.getCarTemplate=function(){return'{{#carsOnSale}}<div id="{{saleId}}" class="carItem loading{{#isRelated}} related{{/isRelated}}{{#isLeasable}} leasable{{/isLeasable}}{{#isOnSale}} onSale{{/isOnSale}}{{#isSalePending}} salePending{{/isSalePending}} {{carClass}}" data-price={{salePrice}} {{#shippingCost}}data-shipping-cost={{shippingCost}}{{/shippingCost}} data-vin={{vin}} data-name="{{yearMakeModel}} {{trim}}" {{#pricing}}{{#pricing.carPrice}}data-cash-dealer={{pricing.carPrice.dealerPrice}} data-cash-edmunds={{pricing.carPrice.edmundsPrice}}{{/pricing.carPrice}} {{#pricing.finance}}data-finance-down-payment={{pricing.finance.downPayment}} data-finance-apr={{pricing.finance.apr}} data-finance-monthly-payment={{pricing.finance.monthlyPayment}} data-finance-term={{pricing.finance.term}}{{/pricing.finance}} {{#pricing.lease}}data-lease-apr={{pricing.lease.apr}} data-lease-down-payment={{pricing.lease.downPayment}} data-lease-monthly-payment={{pricing.lease.monthlyPayment}} data-lease-term={{pricing.lease.term}}{{/pricing.lease}}{{/pricing}}><div class="small-12 columns"><div class="carContainer">{{{messageHtml}}}<div class="carImagesContainer"><a href="{{carPageUrl}}"><div class="carOverlay"><div class="checkMeOut"><\/div><\/div><\/a>{{^isRelated}}<div class="leftCol"><div class="first-image-container"><img onload="CONTROLLER.carImgLoaded(this)" class="loading cld-hidpr" data-src="{{carShotUrls.leftUrl}}" alt="{{yearMakeModel}} {{trim}} Left Side"/><div class="img-bg-color" style="background-color:{{carShotUrls.leftColor}}"><\/div><\/div><div style="vertical-align: bottom; bottom: 0; position: absolute;"><img onload="CONTROLLER.carImgLoaded(this)" class="loading cld-hidpr" data-src="{{carShotUrls.rightUrl}}" alt="{{yearMakeModel}} {{trim}} Right Side"/><div class="img-bg-color" style="vertical-align: bottom; bottom: 0; position: absolute;background-color:{{carShotUrls.rightColor}}"><\/div><\/div><\/div>{{/isRelated}}<div class="rightCol"><div class="banner"><\/div> <img onload="CONTROLLER.carImgLoaded(this)" class="loading cld-responsive cld-hidpr" data-src="{{carShotUrls.heroUrl}}" alt="{{yearMakeModel}} {{trim}} Hero Shot"/><div class="img-bg-color" style="background-color:{{carShotUrls.heroColor}}"><\/div><\/div><\/div><div class="carDescription"><div class="topTitle"><a class="carName" href="{{carPageUrl}}"><span class="name">{{yearMakeModel}}<\/span> <span class="trim">{{trim}}<\/span><\/a><a class="carPrice" href="{{carPageUrl}}">{{#isOnSale}}<span class="salePrice">{{formattedPreSalePrice}}<\/span> {{/isOnSale}}<span class="cash launch">{{formattedSalePrice}}<\/span><span class="lease launch">{{{formattedLeasePrice}}}<\/span><span class="finance launch">{{{formattedFinancePrice}}}<\/span>{{#formattedDelivery}}<div class="shipping">+<span class="delivery-dollar">{{formattedDelivery}} <\/span>Delivery<\/div>{{/formattedDelivery}}{{^formattedDelivery}}<div class="shipping launch">+Delivery  <span class="fa fa-pencil"><\/span><\/div>{{/formattedDelivery}}<\/a><\/div><a class="carFeatures" href="{{carPageUrl}}"><div class="features">{{#trim}}<span class="featureTrim">{{trim}}  <\/span>{{/trim}}{{formattedMileage}} miles  {{{formattedStyleName}}}<\/div>{{#formattedDelivery}}<div class="shipping">+<span class="delivery-dollar">{{formattedDelivery}} <\/span>Delivery<\/div>{{/formattedDelivery}}{{^formattedDelivery}}<div class="launch shipping">+Delivery  <span class="fa fa-pencil"><\/span><\/div>{{/formattedDelivery}}<\/a><\/div><\/div><\/div><\/div>{{/carsOnSale}}'},n.getMessageTemplate=function(){return'<div class="messageContainer {{messageClass}}"><div class="small-12 columns"><div class="message {{messageClass}}">{{#imageUrl}}<div class="image" style="background-image: url({{imageUrl}})"><\/div>{{/imageUrl}}<div class="leftPanel">{{#title}}<p class="title">{{title}}<\/p>{{/title}}{{^title}}{{#line1}}<p>{{line1}}<\/p>{{/line1}}{{/title}} {{#line2}}<p>{{{line2}}}<\/p>{{/line2}}<\/div>{{#rightText}}<p class="rightPanel">{{{rightText}}}<\/p>{{/rightText}}{{#button}}<a class="{{buttonClass}}" title="{{title}}" {{#href}} href="{{href}}"{{/href}}{{#onclick}} onclick="{{onclick}}"{{/onclick}}>{{buttonText}}<\/a>{{/button}}<\/div><\/div><\/div>'},u=Utilities.shuffleArray([{title:"listedmotors Certified Cars",imageUrl:listing_ajax.template_url+"/images/ico_hb_certified_dark.png",line2:"All listedmotors cars pass a 2 hour, 240-point inspection and&nbsp;road&nbsp;test.",buttonClass:"button",button:!0,buttonText:"Learn More",onclick:"CONTROLLER.launchModal('learnMore','inline message:listedmotors Certified Cars');return false;"},{title:"The Comfort of Your Home",imageUrl:listing_ajax.template_url+"/images/ico_hb_onlin_dark.png",line2:"No salesmen. No hassle. Just great cars, online, delivered right&nbsp;to&nbsp;you.",buttonClass:"button",button:!0,buttonText:"Learn More",onclick:"CONTROLLER.launchModal('learnMore','inline message:The Comfort of Your Home');return false;"},{title:"listedmotors Delivery",imageUrl:listing_ajax.template_url+"/images/ico_hb_delivery_dark.png",line2:"Straight to your driveway in select states.",button:!0,buttonClass:"button",buttonText:"See Coverage Area",onclick:"CONTROLLER.launchModal('listedmotorsPrime','inline message:listedmotors Delivery');return false;"},{title:"Skip the DMV",imageUrl:listing_ajax.template_url+"/images/ico_hb_dmv_dark.png",line2:"listedmotors cars are delivered fully-registered with all DMV paperwork and requirements&nbsp;completed.",buttonClass:"button",button:!0,buttonText:"Learn More",onclick:"CONTROLLER.launchModal('learnMore','inline message:Skip the DMV');return false;"},{title:"10 days to Fall in Love",imageUrl:listing_ajax.template_url+"/images/ico_hb_10days_dark.png",line2:"Take your time and fall in love. If not, we'll come pick it up, for a&nbsp;full&nbsp;refund.",buttonText:"Learn More",buttonClass:"button",button:!0,onclick:"CONTROLLER.launchModal('learnMore','inline message:10 days to Fall in Love');return false;"},{title:"listedmotors Financing",imageUrl:listing_ajax.template_url+"/images/finance_icon.png",line2:"Apply for financing during checkout, and receive great rates in&nbsp;a&nbsp;Beep!",buttonText:"Learn More",buttonClass:"button",button:!0,href:"/financing"},{title:"Everyone Gets the Bow",imageUrl:listing_ajax.template_url+"/images/ico_hb_delivery_dark.png",line2:"Every listedmotors car comes freshly detailed and wrapped in&nbsp;a&nbsp;bow.",buttonText:"Learn More",buttonClass:"button",button:!0,onclick:"CONTROLLER.launchModal('learnMore','inline message:Everyone Gets the Bow');return false;"},{title:"Peace of Mind",imageUrl:listing_ajax.template_url+"/images/ico_hb_peace_dark.png",line2:"We stand by our cars. If anything is off, we'll send a listedmotors Inspector to make&nbsp;it&nbsp;right.",buttonClass:"button",button:!0,buttonText:"Learn More",onclick:"CONTROLLER.launchModal('learnMore','inline message:Peace of Mind');return false;"},{title:"Get a price for your car!",imageUrl:listing_ajax.template_url+"/images/money_grey.png",line2:"Get a guaranteed price and sale in 30 days, or well buy it from you.",button:!0,buttonClass:"button listedmotorsGreen",buttonText:"Learn More",href:"/sell"},{title:"Add your car here",imageUrl:listing_ajax.template_url+"/images/plus_icon.png",line2:"Get a guaranteed price and sale in 30 days, or well buy it from you.",button:!0,buttonClass:"button listedmotorsGreen",buttonText:"Add My Car",href:"/sell"},{title:"Sell your car with listedmotors!",imageUrl:listing_ajax.template_url+"/images/hand_car_green.png",line2:"Get a guaranteed price and sale in 30 days, or well buy it from you.",button:!0,buttonClass:"button listedmotorsGreen",buttonText:"Learn More",href:"/sell"},{title:"listedmotors Leasing",imageUrl:listing_ajax.template_url+"/images/finance_icon.png",line2:"Apply for leasing during checkout, and receive great rates in&nbsp;a&nbsp;Beep!",buttonText:"Learn More",buttonClass:"button",button:!0,href:"/leasing"},]),n.getCarMessages=function(){return u},f={related:{title:"Other listedmotorsn Great Cars",imageUrl:listing_ajax.template_url+"/images/notifications_bell_top.png",messageClass:"related",button:!0,buttonClass:"getNotified button",line2:"Want to know when more cars are added to&nbsp;your&nbsp;list?"},pending:{title:"The following are pending cars",messageClass:"pending"}},n.getSysMessages=function(){return f},n.updateUIWithNewSearchResults=function(t,i){if(n.renderCars(t,!0,i),i&&!t.shippingCostError)n.showZipMessage("success");else if(t.shippingCostError)switch(t.shippingCostError.errorCode){case 1:case 2:case 5:n.showZipMessage("not_deliverable");break;case 6:n.showZipMessage("invalid_zip");break;default:n.showZipMessage("generic_error")}else
n.showZipMessage("none")},n.renderCars=function(t,i,u){var o,h,a=!!__listedmotorsProperties&&__listedmotorsProperties.imageSource==="cloudinary"&&!!$.cloudinary,f={width:"auto",crop:"limit",dpr:"auto",secure:window.location.protocol==="https:",fetch_format:"auto",flags:"progressive"},c;if(t&&t.carsOnSale&&$.each(t.carsOnSale,function(n,t){t.carClass=t.carClass||"";t.carShotUrls.leftColor="red";t.carShotUrls.rightColor="green";t.carShotUrls.heroColor="blue";a?(o="cars/"+t.saleId,h=(t.title+"-"+t.shortStyleName).replace(/[\.\(\)\/]/g,"").replace(/\s+/g,"-").toLowerCase(),f.version=t.carShotUrls.carPhotosVersion,f.url_suffix=h+"-left",t.carShotUrls.leftUrl=$.cloudinary.url((o+"/"+t.carShotUrls.leftSideImg).split(".")[0],f)+".jpg",f.url_suffix=h+"-right",t.carShotUrls.rightUrl=$.cloudinary.url((o+"/"+t.carShotUrls.rightSideImg).split(".")[0],f)+".jpg",f.url_suffix=h+"-hero",t.carShotUrls.heroUrl=$.cloudinary.url((o+"/"+t.carShotUrls.heroImg).split(".")[0],f)+".jpg"):(t.carShotUrls.leftUrl="//static.listedmotors.com/images/CarPhotos/"+t.saleId+"/450/"+t.carShotUrls.leftSideImg+"?v="+t.carShotUrls.carPhotosVersion,t.carShotUrls.rightUrl="//static.listedmotors.com/images/CarPhotos/"+t.saleId+"/450/"+t.carShotUrls.rightSideImg+"?v="+t.carShotUrls.carPhotosVersion,t.carShotUrls.heroUrl="//static.listedmotors.com/images/CarPhotos/"+t.saleId+"/600/"+t.carShotUrls.heroImg+"?v="+t.carShotUrls.carPhotosVersion);t.saleAmount>0&&(t.formattedPreSalePrice="$"+Utilities.numberWithCommas(t.salePrice+t.saleAmount));t.pricing&&(t.formattedLeasePrice=t.pricing.lease?"$"+Utilities.numberWithCommas(t.pricing.lease.monthlyPayment)+' /<span class="month"> MONTH<\/span>':"Leasing N/A",t.formattedFinancePrice=t.pricing.finance?"$"+Utilities.numberWithCommas(t.pricing.finance.monthlyPayment)+' /<span class="month"> MONTH<\/span>':"NA",t.pricing.lease||(t.messageHtml='<div class="carMessage non-leasable"><div class="highlight">Financing Available <span class="launch finance info"><\/span><\/div><div>Est. $'+Utilities.numberWithCommas(t.pricing.finance.monthlyPayment)+"/Month<\/div><\/div>"));t.shippingCost>0?t.formattedDelivery="$"+Utilities.numberWithCommas(t.shippingCost):t.shippingCost===0?(t.formattedDelivery="FREE",t.carClass+=" freeShipping"):t.shippingCost===null&&u&&(t.carClass+=" hideShipping")}),c=$(Mustache.to_html(n.getCarTemplate(),t)),i&&s(t,r)){var v=$(window).scrollTop(),l=$("#stickyFiller").offset().top-1,y=$("#carList>div");$("#carList").css("min-height",$("#carList").height());n.updateNumCars(t);e(c);$("#carList").addClass("blurFade");!$("#filter-dropdown").hasClass("open")&&v>l&&$("html, body").animate({scrollTop:l},400);setTimeout(function(){$(y).remove();$("#carList").removeClass("blurFade");$("#carList").css("min-height","");n.clearMessages();n.insertMessages()},200)}else
i||(e(c),n.insertMessages());n.updateUserSubscribedSearch();r=t},n.setCarImages=function(){$("#carList .rightCol img.cld-responsive:not([src])").cloudinary_update();n.areSmallImagesHidden()?$("#carList .leftCol img").removeClass("cld-responsive cld-hidpr"):($("#carList .leftCol img").addClass("cld-responsive cld-hidpr"),$("#carList img.cld-responsive").cloudinary_update())},n.areSmallImagesHidden=function(){return n.isGridView||n.isSmall()},n.insertMessages=function(){c();h()},n.clearMessages=function(){$("#carList .messageContainer").remove();t=0;relatedIndex=0},n}(CONTROLLER),CONTROLLER=function(n){function i(n,t){return $.grep(n,function(n){return n.category==t})}function h(n,t){n===""?t(u):f.search(n,t)}function c(n){switch(n.category){case"Make":return{url:n.makeUrl,id:n.makeId};case"Model":return{url:n.makeUrl+"/"+n.modelUrl,id:n.modelId};case"Trim":return{id:n.modelId+"$"+n.style};default:return null}}function l(n,t){var i=n.category,u=n.label,f=c(n);r(i,u,f,t)}function r(t,i,r,u){n.addMakeModelTrimSearchOptionToState(t,i,r);n.addSearchOption(t,r.id,i,u)}var u=[{category:"Make",label:"Audi",year:null,make:"Audi",makeUrl:"audi",model:null,modelUrl:null,makeId:200000001,modelId:null,style:null},{category:"Make",label:"BMW",year:null,make:"BMW",makeUrl:"bmw",model:null,modelUrl:null,makeId:200000081,modelId:null,style:null},{category:"Make",label:"Ford",year:null,make:"Ford",makeUrl:"ford",model:null,modelUrl:null,makeId:200005143,modelId:null,style:null},{category:"Make",label:"Honda",year:null,make:"Honda",makeUrl:"honda",model:null,modelUrl:null,makeId:200001444,modelId:null,style:null},{category:"Make",label:"Mercedes-Benz",year:null,make:"Mercedes-Benz",makeUrl:"mercedes-benz",model:null,modelUrl:null,makeId:200000130,modelId:null,style:null},{category:"Make",label:"MINI",year:null,make:"MINI",makeUrl:"mini",model:null,modelUrl:null,makeId:200002305,modelId:null,style:null},{category:"Make",label:"Toyota",year:null,make:"Toyota",makeUrl:"toyota",model:null,modelUrl:null,makeId:200003381,modelId:null,style:null},{category:"Make",label:"Volkswagen",year:null,make:"Volkswagen",makeUrl:"volkswagen",model:null,modelUrl:null,makeId:200000238,modelId:null,style:null},],t="/v1/listings/buyAutoComplete";n.SetAutocompeteApiUrl=function(i){t=i+t;n.initAutocomplete()};var f=new Bloodhound({datumTokenizer:function(n){return Bloodhound.tokenizers.whitespace(n.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(n){return n.makeId},local:[{category:"Make",label:"Audi",year:null,make:"Audi",makeUrl:"audi",model:null,modelUrl:null,makeId:200000001,modelId:null,style:null},{category:"Make",label:"BMW",year:null,make:"BMW",makeUrl:"bmw",model:null,modelUrl:null,makeId:200000081,modelId:null,style:null},{category:"Make",label:"Infiniti",year:null,make:"Infiniti",makeUrl:"infiniti",model:null,modelUrl:null,makeId:200000089,modelId:null,style:null},{category:"Make",label:"Mercedes-Benz",year:null,make:"Mercedes-Benz",makeUrl:"mercedes-benz",model:null,modelUrl:null,makeId:200000130,modelId:null,style:null},{category:"Make",label:"Nissan",year:null,make:"Nissan",makeUrl:"nissan",model:null,modelUrl:null,makeId:200000201,modelId:null,style:null},{category:"Make",label:"Volkswagen",year:null,make:"Volkswagen",makeUrl:"volkswagen",model:null,modelUrl:null,makeId:200000238,modelId:null,style:null},{category:"Make",label:"Chevrolet",year:null,make:"Chevrolet",makeUrl:"chevrolet",model:null,modelUrl:null,makeId:200000404,modelId:null,style:null},{category:"Make",label:"Porsche",year:null,make:"Porsche",makeUrl:"porsche",model:null,modelUrl:null,makeId:200000886,modelId:null,style:null},{category:"Make",label:"Hyundai",year:null,make:"Hyundai",makeUrl:"hyundai",model:null,modelUrl:null,makeId:200001398,modelId:null,style:null},{category:"Make",label:"Honda",year:null,make:"Honda",makeUrl:"honda",model:null,modelUrl:null,makeId:200001444,modelId:null,style:null},{category:"Make",label:"Jeep",year:null,make:"Jeep",makeUrl:"jeep",model:null,modelUrl:null,makeId:200001510,modelId:null,style:null},{category:"Make",label:"Lexus",year:null,make:"Lexus",makeUrl:"lexus",model:null,modelUrl:null,makeId:200001623,modelId:null,style:null},{category:"Make",label:"Cadillac",year:null,make:"Cadillac",makeUrl:"cadillac",model:null,modelUrl:null,makeId:200001663,modelId:null,style:null},{category:"Make",label:"Aston Martin",year:null,make:"Aston Martin",makeUrl:"aston-martin",model:null,modelUrl:null,makeId:200001769,modelId:null,style:null},{category:"Make",label:"Lincoln",year:null,make:"Lincoln",makeUrl:"lincoln",model:null,modelUrl:null,makeId:200001777,modelId:null,style:null},{category:"Make",label:"Suzuki",year:null,make:"Suzuki",makeUrl:"suzuki",model:null,modelUrl:null,makeId:200001853,modelId:null,style:null},{category:"Make",label:"Acura",year:null,make:"Acura",makeUrl:"acura",model:null,modelUrl:null,makeId:200002038,modelId:null,style:null},{category:"Make",label:"MINI",year:null,make:"MINI",makeUrl:"mini",model:null,modelUrl:null,makeId:200002305,modelId:null,style:null},{category:"Make",label:"Pontiac",year:null,make:"Pontiac",makeUrl:"pontiac",model:null,modelUrl:null,makeId:200002634,modelId:null,style:null},{category:"Make",label:"Mitsubishi",year:null,make:"Mitsubishi",makeUrl:"mitsubishi",model:null,modelUrl:null,makeId:200002915,modelId:null,style:null},{category:"Make",label:"Kia",year:null,make:"Kia",makeUrl:"kia",model:null,modelUrl:null,makeId:200003063,modelId:null,style:null},{category:"Make",label:"Jaguar",year:null,make:"Jaguar",makeUrl:"jaguar",model:null,modelUrl:null,makeId:200003196,modelId:null,style:null},{category:"Make",label:"Toyota",year:null,make:"Toyota",makeUrl:"toyota",model:null,modelUrl:null,makeId:200003381,modelId:null,style:null},{category:"Make",label:"Chrysler",year:null,make:"Chrysler",makeUrl:"chrysler",model:null,modelUrl:null,makeId:200003644,modelId:null,style:null},{category:"Make",label:"HUMMER",year:null,make:"HUMMER",makeUrl:"hummer",model:null,modelUrl:null,makeId:200004021,modelId:null,style:null},{category:"Make",label:"Mazda",year:null,make:"Mazda",makeUrl:"mazda",model:null,modelUrl:null,makeId:200004100,modelId:null,style:null},{category:"Make",label:"Saturn",year:null,make:"Saturn",makeUrl:"saturn",model:null,modelUrl:null,makeId:200004446,modelId:null,style:null},{category:"Make",label:"Subaru",year:null,make:"Subaru",makeUrl:"subaru",model:null,modelUrl:null,makeId:200004491,modelId:null,style:null},{category:"Make",label:"Rolls-Royce",year:null,make:"Rolls-Royce",makeUrl:"rolls-royce",model:null,modelUrl:null,makeId:200005044,modelId:null,style:null},{category:"Make",label:"Ford",year:null,make:"Ford",makeUrl:"ford",model:null,modelUrl:null,makeId:200005143,modelId:null,style:null},{category:"Make",label:"Fisker",year:null,make:"Fisker",makeUrl:"fisker",model:null,modelUrl:null,makeId:200005745,modelId:null,style:null},{category:"Make",label:"Bentley",year:null,make:"Bentley",makeUrl:"bentley",model:null,modelUrl:null,makeId:200005848,modelId:null,style:null},{category:"Make",label:"Lamborghini",year:null,make:"Lamborghini",makeUrl:"lamborghini",model:null,modelUrl:null,makeId:200005922,modelId:null,style:null},{category:"Make",label:"Ferrari",year:null,make:"Ferrari",makeUrl:"ferrari",model:null,modelUrl:null,makeId:200006023,modelId:null,style:null},{category:"Make",label:"Lotus",year:null,make:"Lotus",makeUrl:"lotus",model:null,modelUrl:null,makeId:200006242,modelId:null,style:null},{category:"Make",label:"Scion",year:null,make:"Scion",makeUrl:"scion",model:null,modelUrl:null,makeId:200006515,modelId:null,style:null},{category:"Make",label:"Land-Rover",year:null,make:"Land-Rover",makeUrl:"land-rover",model:null,modelUrl:null,makeId:200006582,modelId:null,style:null},{category:"Make",label:"Buick",year:null,make:"Buick",makeUrl:"buick",model:null,modelUrl:null,makeId:200006659,modelId:null,style:null},{category:"Make",label:"GMC",year:null,make:"GMC",makeUrl:"gmc",model:null,modelUrl:null,makeId:200007302,modelId:null,style:null},{category:"Make",label:"Mercury",year:null,make:"Mercury",makeUrl:"mercury",model:null,modelUrl:null,makeId:200007711,modelId:null,style:null},{category:"Make",label:"Dodge",year:null,make:"Dodge",makeUrl:"dodge",model:null,modelUrl:null,makeId:200009788,modelId:null,style:null},{category:"Make",label:"Volvo",year:null,make:"Volvo",makeUrl:"volvo",model:null,modelUrl:null,makeId:200010382,modelId:null,style:null},{category:"Make",label:"Tesla",year:null,make:"Tesla",makeUrl:"tesla",model:null,modelUrl:null,makeId:200018920,modelId:null,style:null},{category:"Make",label:"Maserati",year:null,make:"Maserati",makeUrl:"maserati",model:null,modelUrl:null,makeId:200028029,modelId:null,style:null},{category:"Make",label:"Bugatti",year:null,make:"Bugatti",makeUrl:"bugatti",model:null,modelUrl:null,makeId:200030397,modelId:null,style:null},{category:"Make",label:"FIAT",year:null,make:"FIAT",makeUrl:"fiat",model:null,modelUrl:null,makeId:200033022,modelId:null,style:null},{category:"Make",label:"smart",year:null,make:"smart",makeUrl:"smart",model:null,modelUrl:null,makeId:200038885,modelId:null,style:null},{category:"Make",label:"Maybach",year:null,make:"Maybach",makeUrl:"maybach",model:null,modelUrl:null,makeId:200043087,modelId:null,style:null},{category:"Make",label:"Spyker",year:null,make:"Spyker",makeUrl:"spyker",model:null,modelUrl:null,makeId:200046567,modelId:null,style:null},{category:"Make",label:"McLaren",year:null,make:"McLaren",makeUrl:"mclaren",model:null,modelUrl:null,makeId:200051397,modelId:null,style:null},{category:"Make",label:"Saab",year:null,make:"Saab",makeUrl:"saab",model:null,modelUrl:null,makeId:200074504,modelId:null,style:null},{category:"Make",label:"Isuzu",year:null,make:"Isuzu",makeUrl:"isuzu",model:null,modelUrl:null,makeId:200110731,modelId:null,style:null},{category:"Make",label:"Panoz",year:null,make:"Panoz",makeUrl:"panoz",model:null,modelUrl:null,makeId:200194838,modelId:null,style:null},{category:"Make",label:"Oldsmobile",year:null,make:"Oldsmobile",makeUrl:"oldsmobile",model:null,modelUrl:null,makeId:200249342,modelId:null,style:null},{category:"Make",label:"Daewoo",year:null,make:"Daewoo",makeUrl:"daewoo",model:null,modelUrl:null,makeId:200312185,modelId:null,style:null},{category:"Make",label:"Plymouth",year:null,make:"Plymouth",makeUrl:"plymouth",model:null,modelUrl:null,makeId:200339126,modelId:null,style:null},{category:"Make",label:"AM General",year:null,make:"AM General",makeUrl:"am-general",model:null,modelUrl:null,makeId:200347864,modelId:null,style:null},{category:"Make",label:"Eagle",year:null,make:"Eagle",makeUrl:"eagle",model:null,modelUrl:null,makeId:200347865,modelId:null,style:null},{category:"Make",label:"Geo",year:null,make:"Geo",makeUrl:"geo",model:null,modelUrl:null,makeId:200347866,modelId:null,style:null},{category:"Make",label:"Ram",year:null,make:"Ram",makeUrl:"ram",model:null,modelUrl:null,makeId:200393150,modelId:null,style:null},{category:"Make",label:"Alfa Romeo",year:null,make:"Alfa Romeo",makeUrl:"alfa-romeo",model:null,modelUrl:null,makeId:200464140,modelId:null,style:null}],remote:{url:t+"?q=%QUERY",filter:function(n){return i(n,"Make")},wildcard:"%QUERY",rateLimitWait:100}}),e=new Bloodhound({datumTokenizer:function(n){return Bloodhound.tokenizers.whitespace(n.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(n){return n.modelId},remote:{url:t+"?q=%QUERY",filter:function(n){return i(n,"Model")},wildcard:"%QUERY",rateLimitWait:100}}),o=new Bloodhound({datumTokenizer:function(n){return Bloodhound.tokenizers.whitespace(n.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(n){return n.makeId+""+n.modelId+n.style},remote:{url:t+"?q=%QUERY",filter:function(n){return i(n,"Trim")},wildcard:"%QUERY",rateLimitWait:100}}),s;return s=function(){return'<div class="notFound">Hmm... not seeing any makes or models that match<\/div>'},header=function(n){return'<div class="header">'+n.dataset.substring(0,n.dataset.length-1)+" suggestions<\/div>"},n.initAutocomplete=function(){function i(t,i){var u=$("#searchBar a.searchOptionText").map(function(n,t){return $(t).text().toLowerCase()}).get(),r;$.inArray(i.label.toLowerCase(),u)>-1?(r=$("#searchBar a.searchOptionText").filter(function(){return $(this).text().toLowerCase()===i.label.toLowerCase()}),$(r).parent().css({backgroundColor:"#009bff",borderColor:"white"}),$(r).css({color:"white"}),setTimeout(function(){$(r).parent().css({backgroundColor:"",borderColor:""});$(r).css({color:""})},600)):(l(i,"autocomplete"),n.performSearch());$("#searchInput").typeahead("val","");setTimeout(function(){$("#searchInput").typeahead("close")},1)}var t;$("#searchInput").typeahead({hint:!0,highlight:!0,minLength:0},{name:"makes",source:h,limit:30,display:"label",templates:{header:header}},{name:"models",source:e,limit:30,display:"label",templates:{header:header}},{name:"trims",source:o,limit:30,display:"label",templates:{header:header}}).on("typeahead:select",i);$("#searchInput").bind("typeahead:render",function(){t=!0});$("#searchInput").bind("typeahead:cursorchange",function(){t=!1});$("#searchInput").keydown(function(n){var u=n.keyCode||n.which,r,i;keyCode==13&&t&&$(this).val().length&&(r=new RegExp($(this).val().trim(),"i"),i=$("#searchInputContainer .tt-suggestion").first(),r.test($(i).text())&&$(i).click())})},n.initMakeModelTrimSearchOption=function(n,t,i,u){r(n,t,i,u)},n.addMakeModelTrimSearchOptionToState=function(t,i,r){var u=n.getMakeModelTrimFilterOptionArray(t);u&&u.push(r)},n.removeMakeModelTrimSearchOptionFromState=function(){var r=$(this).closest("li").data("type"),u=$(this).closest("li").data("id"),i=n.getMakeModelTrimFilterOptionArray(r),t;if(i)for(t=i.length-1;t>=0;t--)i[t].id==u&&i.splice(t,1)},n.removeMakeModelTrimSearchOption=function(t){n.removeMakeModelTrimSearchOptionFromState.call($(this));var i=$(this).closest("li"),r=i.attr("data-type"),u=i.attr("data-id"),f=i.text();return i.css({opacity:0}),setTimeout(function(){$(i).hide(typeof t!="undefined"?t/2:200,function(){$(i).remove();n.setSearchPlaceHolder();n.setClearFilterOpacity()})},typeof t!="undefined"?t/2:400),n.performSearch(),!1},n}(CONTROLLER),CONTROLLER=function(n){function b(){$("#zip-message").slideUp(200);$("#price-zip-wrapper").removeClass("success")}function k(t,i){var r=$("#zipcode-wrapper input#location-input").val().trim(),u=Utilities.validateZip(r),e=$('#zipcode-wrapper input[type="checkbox"]').is(":checked"),f;$("#zipcode-wrapper").toggleClass("validZip",u);e&&u?(n.setZip(r),$("body").addClass("zipEntered"),i||n.performSearch(r),b(),t!=="pageLoad"&&n.mp({action:"enter_zipcode",zipcode:r})):($("body").removeClass("zipEntered"),f=!!y,n.setZip(null),!i&&f&&n.performSearch())}function hi(n){return n/12}function d(t,i){pricingValues=i.data();var r=$("#cashLeaseFinance"),u=["cash","lease","finance"];u.indexOf(t)>-1&&(n.launchModal("cashLeaseFinance"),pricingValues.cashDealer?(r.find("#cash-dealer").text("$"+Utilities.numberWithCommas(pricingValues.cashDealer)),r.find(".tile1").removeClass("hidden")):r.find(".tile1").addClass("hidden"),pricingValues.cashEdmunds?(r.find("#cash-edmunds").text("$"+Utilities.numberWithCommas(pricingValues.cashEdmunds)),r.find(".tile2").removeClass("hidden")):r.find(".tile2").addClass("hidden"),r.find(".cash-price").text("$"+Utilities.numberWithCommas(pricingValues.price)),r.find(".finance-apr").text(pricingValues.financeApr),r.find(".finance-term").text(pricingValues.financeTerm),r.find(".finance-downPayment").text("$"+Utilities.numberWithCommas(pricingValues.financeDownPayment)),r.find(".finance-monthlyPayment").text("$"+Utilities.numberWithCommas(pricingValues.financeMonthlyPayment)),i.hasClass("leasable")?(r.find(".lease-downPayment, .lease-dueOnDelivery").text("$"+Utilities.numberWithCommas(pricingValues.leaseDownPayment)),r.find(".lease-term").text(pricingValues.leaseTerm+" months"),r.find(".lease-monthlyPayment").text("$"+Utilities.numberWithCommas(pricingValues.leaseMonthlyPayment)),r.find(".lease-years").text(hi(pricingValues.leaseTerm)),r.addClass("leasable")):r.removeClass("leasable"),r.removeClass(u.join(" ")),r.addClass(t),r.data("saleId",i.attr("id")))}function ci(){$("#filter-dropdown").hasClass("open")||$('a[data-dropdown="filter-dropdown"]').trigger("click");$("#shipping-zipcode").is(":checked")||setTimeout(function(){$("#shipping-zipcode").trigger("click");$("#shipping-zipcode").prop("checked",!0)},300)}function li(){i&&r?nt(i,r):console.error("update search error");tt(i,n.GetCurrentSeachQuery().searchResults.metaData.searchQueryId)}function g(t){var r=n.GetCurrentSeachQuery().searchResults.metaData.searchQueryId;i=t||$("#followSearch input.followEmailInput").val().trim();Utilities.validateEmail(i)?tt(i,r):$("#followSearch").addClass("emailError")}function nt(t,i,u){var f={method:"POST",url:"/v1/searches/unfollowSearch",error:ai,complete:u,success:function(){r=null;n.updateUserSubscribedSearch()},data:{email:t,searchQueryId:i}};t&&i?$.ajax(f):console.error("email or searchid not available")}function ai(n){console.error("follow error",n)}function tt(t,i,u){var f={method:"POST",url:"/v1/searches/followSearch",beforeSend:function(){$("#followSearch").addClass("loading")},complete:[function(){$("#followSearch").removeClass("loading")},u],error:vi,success:function(){r=i;n.updateUserSubscribedSearch()},data:{email:t,searchQueryId:i}};$.ajax(f);n.mp({action:"save_search"})}function vi(n){console.error("follow error",n)}function bt(t){if(Utilities.isMobile()||n.isSmall()){var r=$(window).scrollTop(),i=$("#stickyFiller").offset().top-20;$("html, body").animate({scrollTop:i},300,t)}}function yi(){if(v&&(n.isSmall()||Utilities.isMobile())){var i=$("#stickyBar").height()+$("#dropDownHeader").height(),t=window.innerHeight?window.innerHeight:$(window).height();$(".dropdown-filter-section").css("max-height",t-i+1)}else
$(".dropdown-filter-section").css("max-height",.75*t)}function kt(){$("#videoContainer").removeClass("no-opacity");$("#headingContainer").removeClass("loading")}function pi(){pt||(pt=!0,n.setSearchPlaceHolder(),er(),setTimeout(function(){or();sr();ur()},400),setTimeout(function(){rt();fr()},800))}function wi(){var r=$.jStorage.get("gvVersion"),t=$.jStorage.get("gv"),i="pageLoad";(r!=wt||t===null)&&($.jStorage.deleteKey("gv"),$.jStorage.set("gvVersion",wt),t=null);t==null?(n.isGridView=!0,i+=":default",$.jStorage.storageAvailable()&&(n.initialView=n.getCurrentViewName(),$.jStorage.set("gvInitial",n.initialView))):(n.isGridView=t,i+=":fromCache",n.initialView=$.jStorage.get("gvInitial"));$.jStorage.set("gv",n.isGridView);it(null,n.isGridView,i)}function bi(){$("body").toggleClass("advanced");n.mp({action:"filter_dropdown_change",dropdown_name:"advanced "+($("body").hasClass("advanced")?"opened":"closed")})}function s(n){var t;oi||($("body").hasClass("hideResultsBar")||(t=$("#bottomSection").outerHeight(!0)-4,$("#dropDownHeader").css({"min-height":t})),(n>t+1||n<t-1)&&setTimeout(function(){s(t)},200),yi())}function ki(){var t=$(document).height(),i=$(window).height()||600,r=$(window).scrollTop();return t-3*i<r&&!n.getIsLoadingMoreCars()}function di(){var n=$("#searchBar li.searchOption:not(.disabled)").map(function(){return $(this).find(".searchOptionText").text()}),t=$("#resultsBar li.filterOption:not(.disabled)").map(function(){return $(this).find(".filterOptionText").text()});$("#followSearch").removeClass("subscribed");$("#followSearch .searchOptions").empty();$.each(n,function(n,t){$("<div>").addClass("option").text(t).appendTo("#followSearch .searchOptions")});$("#followSearch .filterOptions").empty();$.each(t,function(n,t){$("<div>").addClass("option").text(t).appendTo("#followSearch .filterOptions")})}function it(t,i,r){var u,f,e=!1;r||(r="user toggle");typeof i=="boolean"?(e=n.isGridView!=i,n.isGridView=i):(n.isGridView=!n.isGridView,e=!0);e&&(u=$("#carList .carItem:in-viewport"),f=$(u)[Math.floor($(u).length/2)],n.clearMessages(),n.insertMessages(),$(window).scrollTop()>$("#carList").offset().top&&setTimeout(function(){$("html, body").animate({scrollTop:$(f).offset().top-$(window).height()/2+$(f).height()/2},300)},450));$.jStorage.set("gv",n.isGridView==!0);$("#carList").toggleClass("grid-view",n.isGridView);$("#normalViewToggle").toggleClass("selected",!n.isGridView);$("#gridViewToggle").toggleClass("selected",n.isGridView);setTimeout(function(){n.setCarImages()},1e3);r.indexOf("pageLoad")!=0&&n.mp({context:r,action:"click_view",firstRandomView:n.initialView})}function gi(){return parseFloat(getComputedStyle(document.documentElement).fontSize)}function nr(n){return n*gi()}function tr(){if(Utilities.isMobile())return!1;var t=!1,n=document.createElement("video");return n.canPlayType&&(n.canPlayType("video/mp4").replace(/no/,"")||n.canPlayType("video/webm").replace(/no/,"")||n.canPlayType("video/ogg").replace(/no/,""))&&(t=!0),t}function dt(){$("#videoContainer").addClass("image");$("#videoContainer video").remove();$("#headingContainer").removeClass("loading")}function ir(){if(tr()){$("#videoContainer").removeClass("image");return}dt();return;var n,t}function rr(){var n,r=$("#videoContainer").offset().top,u=$("#searchBar").height(),i=1,t={height:600,width:1450},f=$(window).height(),e=$(window).width(),o=$(window).scrollTop();return n=o+f-r-u-120,n>t.height*i&&(n=t.height*i),typeof __listedmotors_banner_data!="undefined"&&__listedmotors_banner.show_conditions_met()&&(n-=60),n<180&&(n=180),100*(n*t.width/t.height)/e}function ur(){$("#carList").removeClass("no-opacity")}function fr(){$("body").removeClass("hideSearch")}function er(){$("#headingContainer .title").removeClass("no-opacity")}function or(){$("header").addClass("reveal")}function sr(){$("footer").addClass("reveal")}function hr(){n.setSearchPlaceHolder("Developed at listedmotors by...");setTimeout(function(){n.setSearchPlaceHolder("Steve Zimmerman, Andrei Khylkouski and Sergio Iastrebner")},2500);setTimeout(function(){n.setSearchPlaceHolder()},7e3);ee.position=0}function cr(t){if(keyCode=t.keyCode||t.which,keyCode===ee.sequence[ee.position]?ee.position===ee.sequence.length-1?hr():ee.position++:ee.position=0,keyCode===8&&$(this).val()===""&&ti().length>0){var i=$(this).closest("li").prev("li");n.removeMakeModelTrimSearchOption.call(i,0)}keyCode===13&&$(this).val()===""&&$(this).blur()}function gt(){bt(function(){$("body").toggleClass("lockScroll",n.isSmall()&&Utilities.isMobile())});$("body").addClass("dropDownVisible");v=!0;$("#refineButton").addClass("enabled");ut(0);s();n.mp({action:"filter_dropdown_change",stateChange:"opened"})}function lr(){return years=$("#years a:not(.more,.all)").map(function(n,t){return $(t).text()}).get()}function c(t,i,r){var u,s=$("li.filterOption[data-filtertype="+t+"]"),e=!1,o="dropdown",f;switch(t){case"mileageSliderMax":e=n.getMileageSliderOptions().max===i;u=i+","+r;f="Max "+i/1e3+"k miles";break;case"priceSliderMax":e=n.getPriceSliderOptions().max===r;u=r;f="Max $"+r/1e3+"k";break;case"priceSliderMin":e=n.getPriceSliderOptions().min===i;u=i;f="Min $"+i/1e3+"k";break;case"hpSliderMin":e=n.getHpSliderOptions().min===i;u=i;f="Min "+i+" HP";break;case"mpgSliderMin":e=n.getMpgSliderOptions().min===i;u=i;f="Min "+i+" MPG"}if(e){a(t,u,o);return}s.length?ni(s,u,f,o):l(t,u,f,o)}function ni(n,t,i){$(n).attr("data-filtervalue",t);$(n).find("a.filterOptionText").text(i);$(n).removeClass("disabled")}function w(){Foundation.libs.dropdown.close($("#filter-dropdown"))}function ar(){Foundation.libs.dropdown.close($("#sort-dropdown"))}function vr(){Foundation.libs.dropdown.close($("#price-type-dropdown"))}function yr(){return $("#resultsBar li.filterOption").each(function(){var n=this.getAttribute("data-filtertype"),t=this.getAttribute("data-filtervalue");a(n,t,"resultsBar:clear-all")}),n.setClearFilterOpacity($("#resultsBar li.filterOption").length),u(t),u(f),u(e),u(o),n.performSearch(),!1}function u(n){n.options.type==="single"?n.update({from:n.options.max}):n.update({to:n.options.max,from:n.options.min})}function ti(){return $(".searchOption").map(function(n,t){return $(t).text()}).get()}function rt(){$("body").hasClass("hideSearchControls")&&($("body").removeClass("hideSearchControls"),n.isSmall()||($("#refineButton").addClass("enabled"),setTimeout(function(){$("#refineButton").removeClass("enabled")},1e3)))}function ut(n){var f=$("#colors").width(),e=$("#colors li:has(.color)").outerWidth()+2,o=Math.floor(f/e)-2,u=$("#colors li:has(.color)"),i=$(u).filter(":has(.selected)"),r=$(u).filter(":has(:not(.selected))"),t=o-i.length;$(r.get().slice(t).reverse()).each(function(){$(this).addClass("hiddenColor")});n>0?setTimeout(function(){$("#colors li:has(.more)").removeClass("hiddenColor");$(i).removeClass("hiddenColor");t>0&&r.slice(0,t).removeClass("hidden");$("#colors").css("min-height","")},400):($("#colors li:has(.more)").removeClass("hiddenColor"),$(i).removeClass("hiddenColor"),t>0&&r.slice(0,t).removeClass("hidden"),$("#colors").css("min-height",""))}function pr(){$("#colors li.hiddenColor").each(function(n){$(this).delay(n*40).removeClass("hiddenColor")});$("#colors li:has(.more)").addClass("hiddenColor");setTimeout(function(){$("#colors").css("min-height",$("#colors").outerHeight(!0)+"px")},500)}function ii(t){var i=$(this).attr("data-type");if(by=$(this).attr("data-"+i),byText=$(this).closest("a").text().toLowerCase(),by==="leasingfirst")return n.setIsLeasingFirst(!$("#sort").hasClass("leasing-first")),n.performSearch(),n.mp({action:"click_sort"}),!1;if(by==="freedelivery")return y&&(n.setIsFreeDeliveryFirst(!$("#sort").hasClass("free-delivery")),n.performSearch(),n.mp({action:"click_sort"})),!1;$("#"+i+'-dropdown a[data-type="'+i+'"].selected').removeClass("selected");$(this).addClass("selected");$("#"+i).removeClass("upArrow dnArrow").attr("data-"+i,by).find("a").text(byText);$(this)[0].classList&&$("#"+i).addClass($(this)[0].classList[0]);i==="price-type"?n.setPriceType(by,byText,!0,!0):n.performSearch();n.mp({action:"click_sort"});t&&t.preventDefault&&t.preventDefault()}function l(t,i,r){var u=$('#resultsBar li.filterOption[data-filtertype="'+t+'"][data-filtervalue="'+i+'"]'),f;u.length?$(u).removeClass("disabled"):(f=$('<li class="filterOption" data-filtertype="'+t+'" data-filtervalue="'+i+'"><a class="filterOptionText" href="#">'+r+'<\/a><a class="filterOptionClose" href="#"><\/a><\/li>'),$(f).css("opacity",0).hide().insertBefore("#resultsBarContainer #filter-clear").show(200,function(){$(this).css({opacity:1});setTimeout(function(){s()},200)}));n.setClearFilterOpacity()}function wr(n,t){return $("#"+n+" li a[data-id="+t+"]").text()}function br(i){if(i.preventDefault(),Utilities.isMobile()&&n.isDropDownVisible())return ri.call(this),!1;var s=$(this).parent(),u=$(s).attr("data-filtertype"),h=$(s).attr("data-filtervalue"),r=[];return $(s).toggleClass("disabled"),u==="priceSliderMin"?(r[0]=$(s).hasClass("disabled")?n.getPriceSliderOptions().min:h,t.update({from:r[0]})):u==="hpSliderMin"?(r[0]=$(s).hasClass("disabled")?n.getHpSliderOptions().min:h,e.update({from:r[0]})):u==="mpgSliderMin"?(r[0]=$(s).hasClass("disabled")?n.getMpgSliderOptions().min:h,o.update({from:r[0]})):u==="priceSliderMax"?(r[1]=$(s).hasClass("disabled")?n.getPriceSliderOptions().max:h,t.update({to:r[1]})):u==="mileageSliderMax"?($(s).hasClass("disabled")?(r[0]=n.getMileageSliderOptions().max,r[1]=n.getMileageSliderOptions().max):r=h.split(","),f.update({from:r[0],to:r[1]})):($("#"+u+' a[data-id="'+h+'"]').toggleClass("selected"),selectedOptions=$("#"+u+" a.selected:not(.all,.more)"),selectedOptions.length===0?$("#"+u+" .all").addClass("selected"):$("#"+u+" a.all").removeClass("selected")),n.setClearFilterOpacity(),n.performSearch(),!1}function ri(){var t=$(this).parent().attr("data-filtertype"),i=$(this).parent().attr("data-filtervalue");return $(this).parent().addClass("removing"),a(t,i,"ResultsBar"),n.performSearch(),!1}function a(i,r){var h="#resultsBar li.filterOption[data-filtertype='"+i+"']",c;return i==="priceSlider"?u(t):i==="priceSliderMin"?t.update({from:t.options.min}):i==="priceSliderMax"?t.update({to:t.options.max}):i==="mileageSliderMax"?u(f):i==="hpSliderMin"?u(e):i==="mpgSliderMin"?u(o):i!="priceSliderMin"&&i!="priceSliderMax"&&(h+="[data-filtervalue='"+r+"']",$("#"+i+" li a[data-id='"+r+"']").removeClass("selected"),c=$("#"+i+" a.selected"),c.length===0&&$("#"+i+" li a.all").addClass("selected")),$(h).css("opacity",0),n.setClearFilterOpacity(1),setTimeout(function(){$(h).hide(200,function(){$(h).remove();s()})},400),!1}function kr(n){var t=$('<li><a class="circle" data-id="'+n+'" href="#">'+n+"<\/a><\/li>").hide().insertBefore("#years li:has(#newYearForm)");t.children("a").addClass("selected");t.show(400)}function dr(t){var i=parseInt($(this).val()),u,r;clearTimeout(ct);ct=setTimeout(function(){ot()},3e3);t.which===13&&i>1885&&i<=(new Date).getFullYear()?(u=$.inArray(i.toString(),lr()),u>-1?(r=$("#years a:contains("+i.toString()+")"),r.hasClass("selected")||(r.addClass("selected"),l("years",i,i),$("#years .all").removeClass("selected"))):($("#years .all").removeClass("selected"),kr(i),l("years",i,i)),n.performSearch(),$(this).val(""),$(this).select()):t.which===13&&$(this).val("")}function ot(){$("#years li:has(#newYearForm)").fadeOut(300,function(){$("#years li:has(.more)").show(400)})}function gr(){$("#years li:has(.more)").fadeOut(300,function(){$("#years li:has(#newYearForm)").fadeIn(400,function(){$("#newYearInput").select()})})}function nu(t){var i,r,e,f,u,o,s,h,c,v;if(t.preventDefault(),i=$(this).closest("ul").attr("id"),r="dropdown",$(this).hasClass("more")){switch(i){case"years":$("#years li:has(#newYearForm)").is(":visible")?ot():gr();break;case"colors":pr()}return}if(e=$("#"+i+" .selected:not(.all)"),$(this).hasClass("all")){r+=":"+i+":all";i==="years"&&ot();e.length&&($.each(e,function(){a(i,this.getAttribute("data-id"),r)}),n.setClearFilterOpacity(e.length),n.performSearch());$(this).addClass("selected");return}if(i==="transmissions"){$(this).hasClass("selected")?$(this).removeClass("selected"):($("#transmissions a.selected").removeClass("selected"),$(this).addClass("selected"));f=$('li.filterOption[data-filtertype="transmissions"]');u=$("#transmissions li a.selected");f.length&&u.length?(o=$(u).text(),s=$(u).attr("data-id"),ni(f,s,o,r)):u.length&&!f.length?(h=$(u).attr("data-id"),c=$(u).text(),l(i,h,c,r)):!u.length&&f.length&&a(i,$(f).attr("data-filtervalue"),r);n.performSearch();return}$(this).toggleClass("selected");$(this).hasClass("selected")?(v=this.getAttribute("data-text")||this.text,l(i,this.getAttribute("data-id"),v,r),$("#"+i+" .all").removeClass("selected")):(a(i,this.getAttribute("data-id"),r),e.length<1&&$("#"+i+" .all").addClass("selected"));n.performSearch()}var h={},t,f,e,o,v=!1,st=$(window).scrollTop(),ui=2*$(window).height()||1600,ht,ct,i=null,lt,at,vt,fi,yt,y,ei,oi=!1,pt=!1,wt=2,r=null,si=[listing_ajax.template_url+"/images/leasing_icon_grey2.svg",listing_ajax.template_url+"/images/financing_icon_grey2.svg",listing_ajax.template_url+"/images/cash_icon_grey2.svg",listing_ajax.template_url+"/images/notifications_bell_top.png",listing_ajax.template_url+"/images/learn_more_icon_darkblue.png",listing_ajax.template_url+"/images/sortby-arrow.png",listing_ajax.template_url+"/images/view_list_dark_2.png",listing_ajax.template_url+"/images/view_grid_dark.png",listing_ajax.template_url+"/images/sort_icon.png",listing_ajax.template_url+"/images/arrow_down_dark2.png",listing_ajax.template_url+"/images/arrow_up_dark2.png",listing_ajax.template_url+"/images/shipping_box_open3.png",listing_ajax.template_url+"/images/info_icon_white.svg",listing_ajax.template_url+"/images/info_icon.svg",listing_ajax.template_url+"/images/checkmark.svg",listing_ajax.template_url+"/images/check1_white_colors.svg",listing_ajax.template_url+"/images/shipping_box_filled3.png",listing_ajax.template_url+"/images/shipping_box_open3.png",listing_ajax.template_url+"/images/arrow_up_light2.png",listing_ajax.template_url+"/images/arrow_down_light2.png",listing_ajax.template_url+"/images/mail_bell.png",listing_ajax.template_url+"/images/search_icon_dark.png",listing_ajax.template_url+"/images/close_icon.png"],p,ft,et;return h.options=["I want to find a..."],h.add="or a...",n.init=function(){ir();wi();n.initPriceView();pi();n.initMixPanel();n.setClearFilterOpacity();n.setContainerWidth();n.initSliders();n.insertMessages();n.initPomModals();setTimeout(function(){Utilities.preloadImages(si)},200)},n.googleTags=function(){var n;if(initialLoad){var t=initialLoad.carsOnSale,r=Math.min(3,t.length),i=[];for(n=0;n<r;n++)i.push(t[n].saleId);GoogleTagManager.push({PageType:"Listingpage",UserType:"Buy",ProductIDList:i})}},n.initPomModals=function(){$("#listedmotorsPOM .modal").addClass("in");$("#warranModal .modal-body.epom").hide();$("#warranModal .modal-body.pom").show();$("#warranModal .close").addClass("close-reveal-modal");$("#warranModal .learnmore.to-epom").click(function(n){n.preventDefault();$("#warranModal .modal-body.pom").hide();$("#warranModal .modal-body.epom").show();$("#warranModal").animate({scrollTop:0},200)});$("#warranModal .learnmore.to-pom").click(function(n){n.preventDefault();$("#warranModal .modal-body.epom").hide();$("#warranModal .modal-body.pom").show();$("#warranModal").animate({scrollTop:0},200)})},n.isSmall=function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},p=n.isSmall(),n.isMedium=function(){return matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches},n.isLarge=function(){return matchMedia(Foundation.media_queries.large).matches},n.imgLoaded=function(n){$(n).removeClass("loading");$(n).removeAttr("onload")},n.carImgLoaded=function(n){$(n).removeClass("loading").closest(".carItem").removeClass("loading");$(n).removeAttr("onload")},n.bindEvents=function(){function u(n){return function(){n.attr("href")&&(window.location=n.attr("href"))}}var t="click tap";$(window).on("resize",Foundation.utils.debounce(function(){v&&(Utilities.isMobile()?(ut(),s()):w());p&&(n.isMedium()||n.isLarge())?(n.clearMessages(),n.insertMessages(),p=!1):!p&&n.isSmall()&&(n.clearMessages(),n.insertMessages(),p=!0);n.setCarImages();n.setContainerWidth()},100));$(window).on("scroll.stickyBar",Foundation.utils.throttle(function(){n.setStickyBarTop();var t=$(window).scrollTop();t>lt?($("#stickyFiller").height(at),$("#stickyBar").addClass("test")):($("#stickyBar.test").removeClass("test"),$("#stickyFiller").height(0))},10));$(window).on("scroll.loadCars",Foundation.utils.throttle(function(){ar();vr();var t=n.GetCurrentSeachQuery();t&&t.searchResults&&t.pageId<t.searchResults.metaData.pageCounts&&ki()&&n.getMoreCars()},300));$(window).on("scroll.engagement",Foundation.utils.throttle(function(){var t=$(window).scrollTop();Math.abs(t-st)>ui&&(n.mp({action:"scroll",scroll_position:t}),st=t)},2e3));$("#zipcode-wrapper input#location-input").on("keydown",function(n){if((n.keyCode==13||n.which==13)&&Utilities.validateZip($("#location-input").val()))return w(),!1});$("#zipcode-wrapper input#location-input").on("input",function(){k()});$('#zipcode-wrapper input[type="checkbox"]').on("change",function(){k()});$("#zipcode-wrapper #input-wrapper").on("click",function(){return!1});$("#cashLeaseFinance").on("click","[data-modal-toggle]",function(){$("#cashLeaseFinance").removeClass("cash lease finance").addClass($(this).attr("data-modal-toggle"))});$("#searchInput").focus(function(){bt();Utilities.isMobile()&&$("#stickyBar").addClass("focus");$("li.searchOption").length&&$("#searchInput").typeahead("close")});$("#mixpanel-buyBtn-priceModal").click(function(){var n=$("#cashLeaseFinance").data("saleId");$("#"+n).find("a").trigger("click")});$("#mainVideo").on("beforeunload error",function(){$("#videoContainer").addClass("image")});$("#filter-dropdown").on("opened.fndtn.dropdown",gt);$(".meshim_widget_components_chatButton_Button").on(t,function(){return!1});$(document).on("opened.fndtn.reveal","[data-reveal]",function(){var u=$(window).scrollTop(),n=$(this),t=$(window).height(),f=t,i=$(this)[0].offsetTop-300,r=$(this)[0].offsetTop+$(this)[0].offsetHeight-200;$(window).on("scroll.modal",Foundation.utils.throttle(function(){($(window).scrollTop()<i||$(window).scrollTop()>r)&&($(n).foundation("reveal","close"),$(window).off("scroll.modal"))},200))});$(document).on("close.fndtn.reveal","[data-reveal]",function(){var n={stateChange:"closed",type:$(this).attr("id")};Foundation.libs.tooltip.hide($(".has-tip"))});$("#filter-dropdown").on("closed.fndtn.dropdown",function(){v=!1;$("body").removeClass("lockScroll");$("#refineButton").removeClass("enabled");$("body").removeClass("dropDownVisible");n.setClearFilterOpacity();n.mp({action:"filter_dropdown_change",stateChange:"closed"})});$("#carList").on(t,"a",function(n){$("body").hasClass("lockScroll")&&n.preventDefault()});$("body").on("blur","html.touch #searchInput",function(){$("#stickyBar").removeClass("focus")});$("#stickyBar").on("touchstart touchmove",function(n){$(n.target).hasClass("irs-slider")||n.stopPropagation()});$("body").on("touchstart touchmove",function(n){$("body").hasClass("lockScroll")&&n.preventDefault()});$("#filter-dropdown").on(t,"a.close-dd, a.doneButton, a.applyFilters",w);$("#filter-dropdown").on(t,".dd-container",function(n){n.stopPropagation()});$("#normalViewToggle, #gridViewToggle").on(t,it);$("#filter-dropdown").on(t,w);$("#years,#bodys,#colors,#drivetrains,#doors,#features,#transmissions,#prices,#powertrains").on(t,"li a",nu);$("#sort-dropdown").on(t,"a[data-sort], a[data-sortb]",ii);$("#price-type-dropdown").on(t,"a[data-price-type]",ii);$("#newYearInput").keydown(dr);$(".colLeft").mouseleave(function(){ht=setTimeout(function(){ut(400)},2e3)});$(".colLeft").mouseenter(function(){clearTimeout(ht)});$("#stickyBar a.getNotified").mouseenter(function(){n.animateBell()});$("body").on(t,"a.learnMore",function(t){t.preventDefault();n.launchModal("learnMore","from title")});$("body").on(t,"a.getNotified",function(t){t.preventDefault();$(this).hasClass("subscribed")?nt(i,r):$(this).hasClass("update")?li():i?g(i):n.launchModal("followSearch","from link")});$("#followSearch a.submitFollowEmail").on(t,function(n){n.preventDefault();g()});$("#followSearch input.followEmailInput").keyup(function(n){var t=$("#followSearch input.followEmailInput").val();$("#followSearch").toggleClass("validEmail",Utilities.validateEmail(t));$("#followSearch").removeClass("emailError");n.keyCode==13&&g()});$("#learnMoreModal a.listedmotorsPrime").on(t,function(t){n.launchModal("listedmotorsPrime","from learnMore Modal");t.preventDefault()});$("#zip-message").on(t,"a.listedmotorsPrime",function(t){n.launchModal("listedmotorsPrime","zip-code");t.preventDefault()});$("#learnMoreModal a.listedmotorsPOM").on(t,function(t){n.launchModal("listedmotorsPOM","from learnMore Modal");t.preventDefault()});$("#filter-dropdown .advancedButton").on(t,bi);$("#filter-dropdown, #searchControl, #resultsBarContainer, #searchBar, #refineButton").on(t,"a",function(n){n.preventDefault()});$("ul#searchBar").on(t,function(n){$(n.target).is("a")||$(n.target).attr("id")=="refineButton"||$(n.target).attr("id")=="searchInput"||$("#searchInput").select()});$("#searchInput").on("keydown",cr);$(".sticky.contain-to-grid").one("mouseenter",rt);$(window).one("scroll",rt);$("#searchBar").on(t,"a.searchOptionClose",function(t){t.preventDefault();$(this).parent().addClass("removing");n.removeMakeModelTrimSearchOption.call(this);n.setClearFilterOpacity()});$("#searchBar").on(t,"a.searchOptionText",function(t){var r;t.preventDefault();var i=$(this).parent(),f=i.attr("data-type"),e=parseInt(i.attr("data-id")),u=i.text();$(i).toggleClass("disabled");n.setClearFilterOpacity();$(i).hasClass("disabled")?n.removeMakeModelTrimSearchOptionFromState.call($(this)):(r={},r.id=e,r.url=u.toLowerCase(),n.addMakeModelTrimSearchOptionToState(f,u,r));n.performSearch()});$("#resultsBar").on(t,"li a.filterOptionClose",ri);$("#resultsBar").on(t,"li a.filterOptionText",br);$(window).on("beforeunload unload",function(){$(".carItem.clicked").removeClass("clicked");clearTimeout(fi);clearTimeout(yt)});$("#carList").on(t,".carItem",function(t){var i,r;if(t.preventDefault(),i=$(this).closest(".carItem"),console.log(t),$(t.target).hasClass("launch")||$(t.target).parent().hasClass("launch"))return $(t.target).hasClass("shipping")||$(t.target).parent().hasClass("shipping")?ci():$(t.target).hasClass("cash")||$(t.target).parent().hasClass("cash")?d("cash",i):$(t.target).hasClass("lease")||$(t.target).parent().hasClass("lease")?i.hasClass("leasable")&&d("lease",i):($(t.target).hasClass("finance")||$(t.target).parent().hasClass("finance"))&&d("finance",i),!1;$(i).addClass("clicked");r=u($(this).find("a"));n.mp($.extend({action:"click_result"},n.getCarProperties(i)));r()});$("#carList").on(t,".message a.button",function(t){var i=u($(this));t.preventDefault();n.mp({action:"inline_message_cta",message_name:$(this).attr("title")},i);yt=setTimeout(i,300)})},n.setStickyBarTop=function(){lt=$("#stickyFiller").offset().top;at=$("#stickyBar").outerHeight(!0)},n.initUser=function(){vt=new listedmotorsUser},n.setZip=function(n){y=n;Cookies.set("deliveryZip",n,{expires:90,path:"/"})},n.getZip=function(){return y},n.initDelivery=function(){var t=Cookies.get("deliveryZip");t!=="null"&&Utilities.validateZip(t)||(t=null,Cookies.remove("deliveryZip",{path:"/"}));t&&($("#zipcode-wrapper input#location-input").val(t),$("#shipping-zipcode").prop("checked",!0),k(null,!0),$("#zipcode-wrapper #input-wrapper").slideDown(200),$("#zipcode-wrapper #input-wrapper").toggleClass("open",!0));n.updateUIWithNewSearchResults(CONTROLLER.GetCurrentSeachQuery().searchResults,t)},n.setPriceType=function(t,i,r,u){if($("body").attr("class",function(n,t){return t.replace(/(^|\s)price-type-\S+/g,"")}),t&&$("body").addClass("price-type-"+t),$("#price-type").addClass("selected").attr("data-price-type",t).find("a").text(i),$("#price-type-dropdown [data-price-type].selected").removeClass("selected"),$('#price-type-dropdown [data-price-type="'+t+'"]').addClass("selected"),u){var f=n.getSelectedPriceType();f&&(n.GetCurrentSeachQuery().priceType=f);n.updateUrl()}n.mp_add_event_properties({payment_option:t});r&&Cookies.set("price-view",t,{expires:30,path:"/"})},n.getpriceView=function(){return ei},n.initPriceView=function(){var t=Utilities.getQueryParameters().priceview||Cookies.get("price-view");t==="null"&&(t=null,Cookies.remove("price-type",{path:"/"}));t&&n.setPriceType(t,t,!1,!1)},n.user=function(){return vt.details},n.showZipMessage=function(n){var t;switch(n){case"none":b();break;case"invalid_zip":t="Please enter a valid zip&nbsp;code.";break;case"not_deliverable":t="We are not currently delivering to your area. <a class='listedmotorsPrime'>See&nbsp;Coverage<\/a>";break;case"generic_error":t="Hmm something went wrong. Please try again&nbsp;later.";break;case"success":b();$("#price-zip-wrapper").addClass("success")}t&&($("#zip-message").html(t),$("#zip-message").slideDown(200))},n.launchUnfollowSearch=function(t,r){n.launchModal("unfollowSearch");i=t;nt(i,r);$("#followSearch a.undoFollow").on("click.undo tap.undo",function(){tt(t,r,function(){$("#followSearch a.undoFollow").off(".undo");$("#followSearch a.undoFollow").parent().empty().html("You've successfully changed your mind! <a class='close'>Browse Cars<\/a>");$("#followSearch a.close").on("click tap",function(){$("#followSearch").foundation("reveal","close")})})})},n.animateBell=function(n){n=n||0;$("#stickyBar a.getNotified").hasClass("update")||$("#stickyBar a.getNotified").hasClass("subscribed")||(setTimeout(function(){$("#stickyBar a.getNotified .bell").addClass("animated swing ")},n),setTimeout(function(){$("#stickyBar a.getNotified .bell").removeClass("animated swing ")},n+1e3))},n.updateUserSubscribedSearch=function(){r?($("a.getNotified").toggleClass("subscribed",r==n.GetCurrentSeachQuery().searchResults.metaData.searchQueryId),$("#followSearch").toggleClass("subscribed",r==n.GetCurrentSeachQuery().searchResults.metaData.searchQueryId),$("a.getNotified").toggleClass("update",r!==n.GetCurrentSeachQuery().searchResults.metaData.searchQueryId)):($("a.getNotified").removeClass("subscribed"),$("a.getNotified").removeClass("update"),$("#followSearch").removeClass("subscribed"))},n.isDropDownVisible=function(){return v},n.launchModal=function(t,i){t=="listedmotorsPrime"||t=="learnMore"||t=="followSearch"||t=="unfollowSearch"||t=="cashLeaseFinance"||t=="listedmotorsPOM"||t=="listedmotorsEPOM"?(t=="unfollowSearch"?($("#followSearch").addClass("unfollow"),t="followSearch"):t=="followSearch"&&$("#followSearch").removeClass("unfollow"),t=="followSearch"&&di(),t=="listedmotorsEPOM"?($("#warranModal .modal-body.pom").hide(),$("#warranModal .modal-body.epom").show(),t="listedmotorsPOM"):t=="listedmotorsPOM"&&($("#warranModal .modal-body.pom").show(),$("#warranModal .modal-body.epom").hide()),$(window).off("scroll.modal"),$("#"+t).foundation("reveal","open",{animation:"fade",animationspeed:0}),n.mp({stateChange:"opened",action:"modal_change",modal_name:t,context:i})):console.error("no modal of type: "+t)},n.toggleGridView=it,n.setContainerWidth=function(){var t=$(window).height(),n=62.5*(t/800);n<50?n=50:n>68&&(n=68);nr(n)!==parseInt($("#carList").css("max-width"))&&$("#carList, .dd-container, .top-bar, .message.row, #stickyBar").css("max-width",n+"rem")},n.getPriceSlider=function(){return t},n.getMileageSlider=function(){return f},n.getHpSlider=function(){return e},n.getMpgSlider=function(){return o},n.updateNumCars=function(t){var r,i=t.metaData.totalExactMatch+t.metaData.totalPending,u=$(".numChances").text();$("body").toggleClass("showExactMatch",!t.metaData.isExactMatch);$("body").toggleClass("hideViewSortControls",t.metaData.totalExactMatch==0&&t.metaData.totalRelated>0);i>0&&(r=i===1?"One chance":i>200?"Many chances":i+" chances",r!==u&&($(".numChances").addClass("blurSmall"),setTimeout(function(){$(".numChances").text(r);$(".numChances").removeClass("blurSmall")},200)));s();(!t.metaData.isExactMatch||$("body").hasClass("hideResultsBar"))&&n.animateBell(400);$("body").removeClass("hideResultsBar")},ee={},ee.sequence=[38,38,40,40,38,38,40,40],ee.position=0,n.initDropdown=gt,n.initSliders=function(){$("#price-slider").ionRangeSlider(n.getPriceSliderOptions());t=$("#price-slider").data("ionRangeSlider");$("#mileage-slider").ionRangeSlider(n.getMileageSliderOptions());f=$("#mileage-slider").data("ionRangeSlider");$("#hp-slider").ionRangeSlider(n.getHpSliderOptions());e=$("#hp-slider").data("ionRangeSlider");$("#mpg-slider").ionRangeSlider(n.getMpgSliderOptions());o=$("#mpg-slider").data("ionRangeSlider")},n.sliderChange=function(){var i,r=this.name;switch(this.name){case"mileageSlider":i=f;r="mileageSliderMax";break;case"priceSlider":i=t;i.target==="from"?r="priceSliderMin":i.target==="to"&&(r="priceSliderMax");break;case"hpSlider":i=e;r="hpSliderMin";break;case"mpgSlider":i=o;r="mpgSliderMin"}c(r,i.result.from,i.result.to);s();n.performSearch()},n.setSearchPlaceHolderOptions=function(n){$.extend(h,n)},n.setSearchPlaceHolder=function(n){var t;typeof n=="string"?t=n:ti().length>0?(t=h.add,$("body").removeClass("noSearch")):($("body").addClass("noSearch"),t=h.options[Math.floor(Math.random()*h.options.length)]);$("#searchInput").attr("placeholder",t)},n.initSort=function(n){var t=$("#sort-dropdown a[data-sort='"+n+"']");n!=""&&($(t).addClass("selected"),$("#sort").removeClass().find("a").text($(t).text()),$(t).length>0&&$(t)[0].classList&&$("#sort").addClass($(t)[0].classList[0]),$("#sort").attr("data-sort",$(t).attr("data-sort")))},n.setIsLeasingFirst=function(n){n?($("#sort").removeClass().addClass("leasing-first"),$("#sort-dropdown a.free-delivery").removeClass("selected"),$("#sort-dropdown a.leasing-first").addClass("selected")):($("#sort").removeClass("leasing-first"),$("#sort-dropdown a.leasing-first").removeClass("selected"))},n.setIsFreeDeliveryFirst=function(n){n?($("#sort").removeClass().addClass("free-delivery"),$("#sort-dropdown a.leasing-first").removeClass("selected"),$("#sort-dropdown a.free-delivery").addClass("selected")):($("#sort").removeClass("free-delivery"),$("#sort-dropdown a.free-delivery").removeClass("selected"))},ft=!1,n.setShowOnSaleOnly=function(n){ft=n},n.getShowOnSaleOnly=function(){return ft},et=!1,n.setShowLeasableOnly=function(n){et=n},n.getShowLeasableOnly=function(){return et},n.isFreeDeliveryFirst=function(){return!!y&&$("#sort").hasClass("free-delivery")},n.isLeasingFirst=function(){return $("#sort").hasClass("leasing-first")},n.setClearFilterOpacity=function(n){n=n||0;var t=$("#resultsBar li.filterOption").length;$("body").toggleClass("noOptions",t<=n);$("body").toggleClass("hideGetNotifiedText",t>n)},n.addSearchOption=function(t,i,r){var u=$('<li class="searchOption noBorder" data-type="'+t+'" data-id="'+i+'"><a class="searchOptionText" href="#">'+r+'<\/a><a class="searchOptionClose" href="#"><\/a><\/li>');$(u).insertBefore("ul#searchBar li:has(#searchInput)");setTimeout(function(){$(u).removeClass("noBorder")},10);n.setSearchPlaceHolder()},n.addFilterOption=function(n,t,i,r){n==="doors"&&parseInt(t)>=4&&(t="4_5_6",i="4+");i||(i=wr(n,t));n==="doors"&&(i+=" doors");$("#"+n+" li a[data-id="+t+"]").addClass("selected");l(n,t,i,r);$("#"+n+" li a.all").removeClass("selected")},n.setMinPrice=function(n,i){t.update({from:n});c("priceSliderMin",n,null,i)},n.setMaxPrice=function(n,i){t.update({to:n});c("priceSliderMax",null,n,i)},n.setMaxMiles=function(n,t){f.update({from:n});c("mileageSliderMax",n,n,t)},n.setMinMpg=function(n,t){o.update({from:n});c("mpgSliderMin",n,n,t)},n.setMinHp=function(n,t){e.update({from:n});c("hpSliderMin",n,n,t)},n}(CONTROLLER),CONTROLLER=function(n){function t(){return $("#searchBar li.searchOption:not(.disabled)").map(function(){return $(this).children(".searchOptionText").text().trim().toLowerCase()}).get()}function i(){return $("#resultsBar li.filterOption:not(.disabled)").map(function(){return $(this).children(".filterOptionText").text()}).get()}return n.getCurrentState=function(){var r=$('#sortby a[data-sortedby!=""]'),u;return r&&(u=r.text()+": "+r.attr("class")),{version:1,searchOptions:t(),filterOptions:i(),sortedBy:u,url:window.location.href,view:n.getCurrentViewName(),firstRandomView:n.initialView,isFilterDropDownVisible:n.isDropDownVisible(),isAdvancedOptionsVisible:n.isDropDownVisible()&&$("#filter-dropdown .advancedButton").text()=="hide advanced filters"}},n.initMixPanel=function(){n.mp("LP: Page Load",{})},n.mp=function(t,i,r){(i.context!="pageLoad"||t!="Filter Option Change"&&t!="Search Option Change")&&listedmotorsMixPanel_track(t,$.extend(n.getCurrentState(),i),r)},n.getCarProperties=function(n){var t={};return t.previousCars=$(n).prevAll(".carItem").map(function(n,t){return t.id+", "+$(t).find(".carName").text()}).get().reverse(),t.index=t.previousCars.length+1,t.selectedCarId=parseInt($(n).attr("id")),t.selectedCarPrice=parseInt($(n).find(".carPrice").text().replace(/\D/g,"")),t.selectedCarName=t.selectedCarId+", "+$(n).find(".carName").text(),t},n.getCurrentViewName=function(){return n.isGridView?"gridView":"threeImgList"},n}(CONTROLLER),CONTROLLER=function(n){function r(){var n=$("#searchBar li.searchOption:not(.disabled,.removing)").map(function(){return $(this).children(".searchOptionText").text().trim().toLowerCase()}).get();return n.length?n:[]}function u(){var n=$("#resultsBar li.filterOption:not(.disabled,.removing)").map(function(){return $(this).children(".filterOptionText").text().trim().toLowerCase()}).get();return n.length?n:null}var t;return $(document).ready(function(){t=new listedmotorsAnalytics("mixpanelV2","buy_browse",{AB_imageSource:__listedmotorsProperties.imageSource})}),n.getCurrentState=function(){var t={},i=$("#sort");return i.hasClass("leasing-first")?t.sort_order_2="leasing_first":i.hasClass("free-delivery")&&(t.sort_order_2="delivery_first"),t={listingPageVersion:3,search_term:r(),search_filters:u(),sort_order:i.attr("data-sort")||"relevance",view_mode:n.getCurrentViewName(),first_initial_view:n.initialView},n&&n.GetCurrentSeachQuery()&&n.GetCurrentSeachQuery().searchResults&&(t=$.extend(t,{results_exact_match:n.GetCurrentSeachQuery().searchResults.metaData.totalExactMatch,results_related:n.GetCurrentSeachQuery().searchResults.metaData.totalRelated,results:n.GetCurrentSeachQuery().searchResults.metaData.totalResults,searchQueryId:n.GetCurrentSeachQuery().searchResults.metaData.searchQueryId})),t},n.initMixPanel=function(){n.mp({action:"start"})},n.mp_add_event_properties=function(n){t.add_event_properties(n)},n.mp=function(i,r){t.track($.extend(n.getCurrentState(),i),r)},n.getCarProperties=function(n){var t={},f=$("#carList .carItem"),r=$(n).data(),u=$(n).attr("class").match(/\S+/g);for(t.result_types=[],u.indexOf("salePending")==-1&&t.result_types.push("available"),i=0;i<u.length;i++)u[i]!=="carItem"&&u[i]!=="clicked"&&t.result_types.push(u[i]);return t.cars_impression=f.slice(0,50).map(function(n,t){return parseInt(t.id)}).get(),t.result_position=f.index(n),t.car_id=parseInt($(n).attr("id")),t.price_listed=r.price,t.car_name=r.name,t.vin=r.vin,r.shippingCost&&(t.shippingCost=r.shippingCost),t},n.getCurrentViewName=function(){return n.isGridView?"gridView":"threeImgList"},n}(CONTROLLER),CONTROLLER=function(n){var u={type:"double",min:0,max:1e5,from:0,to:1e5,step:5e3,hide_min_max:!1,min_interval:5e3,prettify_enabled:!0,force_edges:!0,onFinish:n.sliderChange,name:"priceSlider",prettify:function(n){return n===this.max?"NO LIMIT":n===this.min?"FREE":"$"+Utilities.numberWithCommas(n)}},t,i,r;return n.getPriceSliderOptions=function(){return u},t={type:"single",min:0,max:6e4,from:6e4,from_min:1e3,step:5e3,hide_min_max:!1,prettify_enabled:!0,force_edges:!0,onFinish:n.sliderChange,name:"mileageSlider",prettify:function(n){return n===this.min?"NEW":Utilities.numberWithCommas(n)+" MILES"}},n.getMileageSliderOptions=function(){return t},i={type:"double",min:100,max:400,from:100,to:400,step:10,to_fixed:!0,hide_min_max:!1,min_interval:0,prettify_enabled:!0,force_edges:!0,onFinish:n.sliderChange,name:"hpSlider",prettify:function(n){return n===this.min?"golf cart":n===this.max?"Tank":Utilities.numberWithCommas(n)+" HP"}},n.getHpSliderOptions=function(){return i},r={type:"double",min:10,max:80,from:10,to:80,step:5,to_fixed:!0,hide_min_max:!1,values_seperator:"to",min_interval:0,prettify_enabled:!0,force_edges:!0,onFinish:n.sliderChange,name:"mpgSlider",prettify:function(n){return n===this.min?"HUMMER":n===this.max?"Hyper loop":Utilities.numberWithCommas(n)+" MPG"}},n.getMpgSliderOptions=function(){return r},n}(CONTROLLER);(function(){$(document).ready(function(){$('#zipcode-wrapper input[type="checkbox"]').on("change",function(){var n=$(this).is(":checked");n?($("#zipcode-wrapper #input-wrapper").slideDown(200),Utilities.isMobile()||$("#zipcode-wrapper #input-wrapper input").select()):($("#zipcode-wrapper #input-wrapper").slideUp(200),$("#zipcode-wrapper #input-wrapper input").blur());$("#zipcode-wrapper #input-wrapper").toggleClass("open",n)})})})();listedmotorsUser=function(n){this.details=$.jStorage.get("listedmotorsUser",{});this.update(n)};listedmotorsUser.prototype.save=function(){$.jStorage.set("listedmotorsUser",this.details)};listedmotorsUser.prototype.update=function(n){this.details=$.extend(this.details,n);this.save()};listedmotorsUser.prototype.destroy=function(){this.details={};$.jStorage.deleteKey("listedmotorsUser")};extend=function(n,t){function r(){this.constructor=n}for(var i in t)hasProp.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};hasProp={}.hasOwnProperty,function(n,t){return typeof define=="function"&&define.amd?define(["jquery"],t):typeof exports=="object"?module.exports=t(require("jquery")):(n.cloudinary||(n.cloudinary={}),n.cloudinary=t(jQuery))}(this,function(n){var y,u,e,h,c,l,p,i,w,b,r,it,k,t,d,rt,ut,ft,et,ot,g,a,v,st,ht,ct,lt,at,vt,yt,pt,wt,o,nt,bt,kt,dt,gt,ni,tt,s,f,ti;return lt=function(t,i){return n(t).data(i)},gt=function(t,i,r){return n(t).data(i,r)},ct=function(t,i){return n(t).attr(i)},kt=function(t,i,r){return n(t).attr(i,r)},bt=function(t,i){return n(t).removeAttr(i)},dt=function(t,i){return n(t).attr(i)},at=function(t,i){return n(t).hasClass(i)},rt=function(t,i){return n(t).addClass(i)},f=function(t){return n(t).width()},yt=function(i){return i==null||(n.isArray(i)||t.isString(i))&&i.length===0||n.isPlainObject(i)&&n.isEmptyObject(i)},ut=function(n){for(var r,i=0,u=n.length;i<u;i++)if(r=n[i],!t.isString(r))return!1;return!0},pt=function(n){return typeof n=="string"||(n!=null?n.toString():void 0)==="[object String]"},wt=function(){var t,i;return t=function(){var n,r,t;for(t=[],n=0,r=arguments.length;n<r;n++)i=arguments[n],t.push(i);return t}.apply(this,arguments),t.unshift(!0),n.extend.apply(this,t)},nt=function(){var t,n;return n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(n+"+(?="+n+t+")|"+n+"?"+t+"|"+n+"+|[0-9]+","g")}(),ft=function(n){var r,t,i;return i=n.match(nt),i=function(){var u,f,n;for(n=[],r=u=0,f=i.length;u<f;r=++u)t=i[r],t=t.toLocaleLowerCase(),r?n.push(t.charAt(0).toLocaleUpperCase()+t.slice(1)):n.push(t);return n}(),i.join("")},ni=function(n){var i,r,t;return t=n.match(nt),t=function(){var n,f,u;for(u=[],i=n=0,f=t.length;n<f;i=++n)r=t[i],u.push(r.toLocaleLowerCase());return u}(),t.join("_")},ot=function(n){var i,t,u,r;for(r=[],t=0,u=n.length;t<u;t++)i=n[t],i&&r.push(i);return r},et=function(){var t;return t=n.makeArray(arguments),t.unshift({}),t.unshift(!0),n.extend.apply(this,t)},g=function(n,t){for(var r,i=0,u=n.length;i<u;i++)if(r=n[i],r===t)return!0;return!1},v=function(){var r,t,u,i,f;if(t=[],arguments.length===1)return arguments[0];for(i=0,f=arguments.length;i<f;i++)r=arguments[i],t.unshift(r);return u=t.pop(),t.unshift(u),n.extend.apply(this,t)},st=function(n,t){var r,i,f,u;for(u=[],i=0,f=n.length;i<f;i++)r=n[i],g(t,r)||u.push(r);return u},ht=function(t){var i,r=[];for(i in t)n.isFunction(t[i])&&r.push(i);return r},vt=function(n){return n},ti=function(n,t){var i,u,r;for(r=[],i=-1,u=n.length;++i<u;)n[i]!==t&&r.push(n[i]);return r},t={hasClass:at,addClass:rt,getAttribute:ct,setAttribute:kt,removeAttribute:bt,setAttributes:dt,getData:lt,setData:gt,width:f,allStrings:ut,isString:pt,isArray:n.isArray,isEmpty:yt,assign:n.extend,merge:wt,camelCase:ft,snakeCase:ni,cloneDeep:et,compact:ot,contains:g,defaults:v,difference:st,isFunction:n.isFunction,functions:ht,identity:vt,isPlainObject:n.isPlainObject,trim:n.trim,without:ti},tt=function(n){var t,o,i,u,r,f,s,e;if(n===null||typeof n=="undefined")return"";for(f=n+"",e="",r=void 0,i=void 0,s=0,r=i=0,s=f.length,u=0;u<s;)t=f.charCodeAt(u),o=null,t<128?i++:o=t>127&&t<2048?String.fromCharCode(t>>6|192,t&63|128):String.fromCharCode(t>>12|224,t>>6&63|128,t&63|128),o!==null&&(i>r&&(e+=f.slice(r,i)),e+=o,r=i=u+1),u++;return i>r&&(e+=f.slice(r,s)),e},a=function(n){var t,i,f,e,r,u;for(n=tt(n),e="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",t=0,r=0,u=0,t=t^-1,i=0,f=n.length;i<f;)u=(t^n.charCodeAt(i))&255,r="0x"+e.substr(u*9,8),t=t>>>8^r,i++;return t=t^-1,t<0&&(t+=4294967296),t},i=function(){function n(n,i,r){r==null&&(r=t.identity);this.name=n;this.short=i;this.process=r}return n.prototype.set=function(n){return this.origValue=n,this},n.prototype.serialize=function(){var n,i;return n=this.value(),i=t.isArray(n)||t.isPlainObject(n)||t.isString(n)?!t.isEmpty(n):n!=null,this.short!=null&&i?this.short+"_"+n:""},n.prototype.value=function(){return this.process(this.origValue)},n.norm_color=function(n){if(n!=null)return n.replace(/^#/,"rgb:")},n.prototype.build_array=function(n){return n==null&&(n=[]),t.isArray(n)?n:[n]},n.process_video_params=function(n){var t;switch(n.constructor){case Object:return t="","codec"in n&&(t=n.codec,"profile"in n&&(t+=":"+n.profile,"level"in n&&(t+=":"+n.level))),t;case String:return n;default:return null}},n}(),y=function(n){function i(n,t,r,u){r==null&&(r=".");this.sep=r;i.__super__.constructor.call(this,n,t,u)}return extend(i,n),i.prototype.serialize=function(){var i,r,n;return this.short!=null?(i=this.value(),t.isEmpty(i)?"":(r=function(){var i,f,u,r;for(u=this.value(),r=[],i=0,f=u.length;i<f;i++)n=u[i],t.isFunction(n.serialize)?r.push(n.serialize()):r.push(n);return r}.call(this),this.short+"_"+r.join(this.sep))):""},i.prototype.set=function(n){return n==null||t.isArray(n)?i.__super__.set.call(this,n):i.__super__.set.call(this,[n])},i}(i),k=function(n){function i(n,t,r,u){t==null&&(t="t");r==null&&(r=".");this.sep=r;i.__super__.constructor.call(this,n,t,u)}return extend(i,n),i.prototype.serialize=function(){var i,u,n;return t.isEmpty(this.value())?"":t.allStrings(this.value())?(i=this.value().join(this.sep),t.isEmpty(i)?"":this.short+"_"+i):(u=function(){var u,e,f,i;for(f=this.value(),i=[],u=0,e=f.length;u<e;u++)n=f[u],n!=null&&(t.isString(n)&&!t.isEmpty(n)?i.push(this.short+"_"+n):t.isFunction(n.serialize)?i.push(n.serialize()):t.isPlainObject(n)&&!t.isEmpty(n)?i.push(new r(n).serialize()):i.push(void 0));return i}.call(this),t.compact(u))},i.prototype.set=function(n){return this.origValue=n,t.isArray(this.origValue)?i.__super__.set.call(this,this.origValue):i.__super__.set.call(this,[this.origValue])},i}(i),w=function(n){function t(n,i,r){r==null&&(r=this.norm_range_value);t.__super__.constructor.call(this,n,i,r)}return extend(t,n),t.norm_range_value=function(n){var i,t;return t=String(n).match(new RegExp("^"+offset_any_pattern+"$")),t&&(i=t[5]!=null?"p":"",n=(t[1]||t[4])+i),n},t}(i),b=function(n){function i(n,r,u){u==null&&(u=t.identity);i.__super__.constructor.call(this,n,r,u)}return extend(i,n),i.prototype.serialize=function(){return this.value()},i}(i),o={},o.Param=i,o.ArrayParam=y,o.RangeParam=w,o.RawParam=b,o.TransformationParam=k,h=function(){function n(n){this.predicate_list=[];n!=null&&this.predicate_list.push(this.normalize(n))}return n.OPERATORS={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or"},n.PARAMETERS={width:"w",height:"h",aspect_ratio:"ar",aspectRatio:"ar",page_count:"pc",pageCount:"pc",face_count:"fc",faceCount:"fc"},n.BOUNDRY="[ _]+",n["new"]=function(n){return new this(n)},n.prototype.normalize=function(t){var i;return i=new RegExp("("+Object.keys(n.PARAMETERS).join("|")+"|[=<>&|!]+)","g"),t=t.replace(i,function(t){return n.OPERATORS[t]||n.PARAMETERS[t]}),t.replace(/[ _]+/g,"_")},n.prototype.getParent=function(){return this.parent},n.prototype.setParent=function(n){return this.parent=n,this},n.prototype.toString=function(){return this.predicate_list.join("_")},n.prototype.predicate=function(t,i,r){return n.OPERATORS[i]!=null&&(i=n.OPERATORS[i]),this.predicate_list.push(t+"_"+i+"_"+r),this},n.prototype.and=function(){return this.predicate_list.push("and"),this},n.prototype.or=function(){return this.predicate_list.push("or"),this},n.prototype.then=function(){return this.getParent()["if"](this.toString())},n.prototype.height=function(n,t){return this.predicate("h",n,t)},n.prototype.width=function(n,t){return this.predicate("w",n,t)},n.prototype.aspectRatio=function(n,t){return this.predicate("ar",n,t)},n.prototype.pageCount=function(n,t){return this.predicate("pc",n,t)},n.prototype.faceCount=function(n,t){return this.predicate("fc",n,t)},n}(),it=function(){function n(f){var s,o,e;f==null&&(f={});o=void 0;e={};this.toOptions||(this.toOptions=function(n){var i,f,r,o,s,u;n==null&&(n=!0);r={};for(i in e)u=e[i],r[i]=u.origValue;o=this.otherOptions;for(i in o)u=o[i],u!==void 0&&(r[i]=u);return n&&!t.isEmpty(this.chained)&&(f=function(){var n,r,t,i;for(t=this.chained,i=[],n=0,r=t.length;n<r;n++)s=t[n],i.push(s.toOptions());return i}.call(this),f.push(r),r={transformation:f}),r});this.setParent||(this.setParent=function(n){return o=n,n!=null&&this.fromOptions(typeof n.toOptions=="function"?n.toOptions():void 0),this});this.getParent||(this.getParent=function(){return o});this.param||(this.param=function(n,r,u,f,o){return o==null&&(o=t.isFunction(f)?f:t.identity),e[r]=new i(r,u,o).set(n),this});this.rawParam||(this.rawParam=function(n,i,r,f,o){return o==null&&(o=t.identity),o=u(arguments),e[i]=new b(i,r,o).set(n),this});this.rangeParam||(this.rangeParam=function(n,i,r,f,o){return o==null&&(o=t.identity),o=u(arguments),e[i]=new w(i,r,o).set(n),this});this.arrayParam||(this.arrayParam=function(n,i,r,f,o,s){return f==null&&(f=":"),o==null&&(o=[]),s==null&&(s=t.identity),s=u(arguments),e[i]=new y(i,r,f,s).set(n),this});this.transformationParam||(this.transformationParam=function(n,i,r,f,o,s){return f==null&&(f="."),s==null&&(s=t.identity),s=u(arguments),e[i]=new k(i,r,f,s).set(n),this});this.getValue||(this.getValue=function(n){var t,i;return(t=(i=e[n])!=null?i.value():void 0)!=null?t:this.otherOptions[n]});this.get||(this.get=function(n){return e[n]});this.remove||(this.remove=function(n){var t;switch(!1){case e[n]==null:return t=e[n],delete e[n],t.origValue;case this.otherOptions[n]==null:return t=this.otherOptions[n],delete this.otherOptions[n],t;default:return null}});this.keys||(this.keys=function(){var n;return function(){var i=[];for(n in e)i.push(t.snakeCase(n));return i}().sort()});this.toPlainObject||(this.toPlainObject=function(){var n,i,r,u;n={};for(i in e)n[i]=e[i].value(),t.isPlainObject(n[i])&&(n[i]=t.cloneDeep(n[i]));return t.isEmpty(this.chained)||(r=function(){var n,r,t,i;for(t=this.chained,i=[],n=0,r=t.length;n<r;n++)u=t[n],i.push(u.toPlainObject());return i}.call(this),r.push(n),n={transformation:r}),n});this.chain||(this.chain=function(){var n,t;return n=Object.getOwnPropertyNames(e),n.length!==0&&(t=new this.constructor(this.toOptions(!1)),this.resetTransformations(),this.chained.push(t)),this});this.resetTransformations||(this.resetTransformations=function(){return e={},this});this.otherOptions||(this.otherOptions={});this.methods||(this.methods=t.difference(t.functions(r.prototype),t.functions(n.prototype)));this.PARAM_NAMES||(this.PARAM_NAMES=function(){var n,u,i,r;for(i=this.methods,r=[],n=0,u=i.length;n<u;n++)s=i[n],r.push(t.snakeCase(s));return r}.call(this).concat(c.CONFIG_PARAMS));this.chained=[];t.isEmpty(f)||this.fromOptions(f)}var u;return n.prototype.trans_separator="/",n.prototype.param_separator=",",u=function(n){var i;return i=n!=null?n[n.length-1]:void 0,t.isFunction(i)?i:void 0},n.prototype.fromOptions=function(i){var r,u;if(i instanceof n)this.fromTransformation(i);else{i||(i={});(t.isString(i)||t.isArray(i))&&(i={transformation:i});i=t.cloneDeep(i,function(t){if(t instanceof n)return new t.constructor(t.toOptions())});for(r in i)u=i[r],this.set(r,u)}return this},n.prototype.fromTransformation=function(t){var i,r,f,u;if(t instanceof n)for(u=t.keys(),i=0,f=u.length;i<f;i++)r=u[i],this.set(r,t.get(r).origValue);return this},n.prototype.set=function(n,i){var r;return r=t.camelCase(n),t.contains(this.methods,r)?this[r](i):this.otherOptions[n]=i,this},n.prototype.hasLayer=function(){return this.getValue("overlay")||this.getValue("underlay")},n.prototype.serialize=function(){var r,u,s,h,f,c,l,n,o,e,i;f=function(){var n,r,t,i;for(t=this.chained,i=[],n=0,r=t.length;n<r;n++)l=t[n],i.push(l.serialize());return i}.call(this);u=this.keys();e=(s=this.get("transformation"))!=null?s.serialize():void 0;r=(h=this.get("if"))!=null?h.serialize():void 0;u=t.difference(u,["transformation","if"]);n=function(){var n,i,r,t;for(t=[],n=0,i=u.length;n<i;n++)c=u[n],t.push((r=this.get(c))!=null?r.serialize():void 0);return t}.call(this);switch(!1){case!t.isString(e):n.push(e);break;case!t.isArray(e):f=f.concat(e)}return n=function(){var r,f,u;for(u=[],r=0,f=n.length;r<f;r++)i=n[r],(t.isArray(i)&&!t.isEmpty(i)||!t.isArray(i)&&i)&&u.push(i);return u}().sort(),r==="if_end"?n.push(r):t.isEmpty(r)||n.unshift(r),o=n.join(this.param_separator),t.isEmpty(o)||f.push(o),t.compact(f).join(this.trans_separator)},n.prototype.listNames=function(){return this.methods},n.prototype.toHtmlAttributes=function(){var s,u,r,n,h,i,e,o,c,l,a;i={};e=this.otherOptions;for(n in e)(a=e[n],t.contains(this.PARAM_NAMES,n))||(s=/^html_/.test(n)?n.slice(5):n,i[s]=a);for(o=this.keys(),r=0,h=o.length;r<h;r++)n=o[r],/^html_/.test(n)&&(i[n.slice(5)]=this.getValue(n));return this.hasLayer()||this.getValue("angle")||t.contains(["fit","limit","lfill"],this.getValue("crop"))||(f=(c=this.get("width"))!=null?c.origValue:void 0,u=(l=this.get("height"))!=null?l.origValue:void 0,parseFloat(f)>=1&&i.width==null&&(i.width=f),parseFloat(u)>=1&&i.height==null&&(i.height=u)),i},n.prototype.isValidParamName=function(n){return this.methods.indexOf(t.camelCase(n))>=0},n.prototype.toHtml=function(){var n;if((n=this.getParent())!=null)return typeof n.toHtml=="function"?n.toHtml():void 0},n.prototype.toString=function(){return this.serialize()},n}(),r=function(n){function r(n){n==null&&(n={});r.__super__.constructor.call(this,n)}return extend(r,n),r["new"]=function(n){return new r(n)},r.prototype.angle=function(n){return this.arrayParam(n,"angle","a",".")},r.prototype.audioCodec=function(n){return this.param(n,"audio_codec","ac")},r.prototype.audioFrequency=function(n){return this.param(n,"audio_frequency","af")},r.prototype.aspectRatio=function(n){return this.param(n,"aspect_ratio","ar")},r.prototype.background=function(n){return this.param(n,"background","b",i.norm_color)},r.prototype.bitRate=function(n){return this.param(n,"bit_rate","br")},r.prototype.border=function(n){return this.param(n,"border","bo",function(n){return t.isPlainObject(n)?(n=t.assign({},{color:"black",width:2},n),n.width+"px_solid_"+i.norm_color(n.color)):n})},r.prototype.color=function(n){return this.param(n,"color","co",i.norm_color)},r.prototype.colorSpace=function(n){return this.param(n,"color_space","cs")},r.prototype.crop=function(n){return this.param(n,"crop","c")},r.prototype.defaultImage=function(n){return this.param(n,"default_image","d")},r.prototype.delay=function(n){return this.param(n,"delay","l")},r.prototype.density=function(n){return this.param(n,"density","dn")},r.prototype.duration=function(n){return this.rangeParam(n,"duration","du")},r.prototype.dpr=function(n){return this.param(n,"dpr","dpr",function(n){return n=n.toString(),n==="auto"?"1.0":(n!=null?n.match(/^\d+$/):void 0)?n+".0":n})},r.prototype.effect=function(n){return this.arrayParam(n,"effect","e",":")},r.prototype["else"]=function(){return this["if"]("else")},r.prototype.endIf=function(){return this["if"]("end")},r.prototype.endOffset=function(n){return this.rangeParam(n,"end_offset","eo")},r.prototype.fallbackContent=function(n){return this.param(n,"fallback_content")},r.prototype.fetchFormat=function(n){return this.param(n,"fetch_format","f")},r.prototype.format=function(n){return this.param(n,"format")},r.prototype.flags=function(n){return this.arrayParam(n,"flags","fl",".")},r.prototype.gravity=function(n){return this.param(n,"gravity","g")},r.prototype.height=function(n){return this.param(n,"height","h",function(t){return function(){return t.getValue("crop")||t.getValue("overlay")||t.getValue("underlay")?n:null}}(this))},r.prototype.htmlHeight=function(n){return this.param(n,"html_height")},r.prototype.htmlWidth=function(n){return this.param(n,"html_width")},r.prototype["if"]=function(n){var t,i,u,o,f,e;n==null&&(n="");switch(n){case"else":return this.chain(),this.param(n,"if","if");case"end":for(this.chain(),t=u=o=this.chained.length-1;u>=0;t=u+=-1)if(i=this.chained[t].getValue("if"),i==="end")break;else if(i!=null&&(f=r["new"]()["if"](i),this.chained[t].remove("if"),e=this.chained[t],this.chained[t]=r["new"]().transformation([f,e]),i!=="else"))break;return this.param(n,"if","if");case"":return h["new"]().setParent(this);default:return this.param(n,"if","if",function(n){return h["new"](n).toString()})}},r.prototype.offset=function(n){var i,r,u;return r=t.isFunction(n!=null?n.split:void 0)?n.split(".."):t.isArray(n)?n:[null,null],u=r[0],i=r[1],u!=null&&this.startOffset(u),i!=null?this.endOffset(i):void 0},r.prototype.opacity=function(n){return this.param(n,"opacity","o")},r.prototype.overlay=function(n){return this.param(n,"overlay","l")},r.prototype.page=function(n){return this.param(n,"page","pg")},r.prototype.poster=function(n){return this.param(n,"poster")},r.prototype.prefix=function(n){return this.param(n,"prefix","p")},r.prototype.quality=function(n){return this.param(n,"quality","q")},r.prototype.radius=function(n){return this.param(n,"radius","r")},r.prototype.rawTransformation=function(n){return this.rawParam(n,"raw_transformation")},r.prototype.size=function(n){var r,i;if(t.isFunction(n!=null?n.split:void 0))return i=n.split("x"),f=i[0],r=i[1],this.width(f),this.height(r)},r.prototype.sourceTypes=function(n){return this.param(n,"source_types")},r.prototype.sourceTransformation=function(n){return this.param(n,"source_transformation")},r.prototype.startOffset=function(n){return this.rangeParam(n,"start_offset","so")},r.prototype.transformation=function(n){return this.transformationParam(n,"transformation","t")},r.prototype.underlay=function(n){return this.param(n,"underlay","u")},r.prototype.videoCodec=function(n){return this.param(n,"video_codec","vc",i.process_video_params)},r.prototype.videoSampling=function(n){return this.param(n,"video_sampling","vs")},r.prototype.width=function(n){return this.param(n,"width","w",function(t){return function(){return t.getValue("crop")||t.getValue("overlay")||t.getValue("underlay")?n:null}}(this))},r.prototype.x=function(n){return this.param(n,"x","x")},r.prototype.y=function(n){return this.param(n,"y","y")},r.prototype.zoom=function(n){return this.param(n,"zoom","z")},r}(it),c=function(){function n(n){n==null&&(n={});this.configuration=t.cloneDeep(n);t.defaults(this.configuration,i)}var i,r;return i={responsive_class:"cld-responsive",responsive_use_breakpoints:!0,round_dpr:!0,secure:(typeof window!="undefined"&&window!==null?(r=window.location)!=null?r.protocol:void 0:void 0)==="https:"},n.CONFIG_PARAMS=["api_key","api_secret","cdn_subdomain","cloud_name","cname","private_cdn","protocol","resource_type","responsive_class","responsive_use_breakpoints","responsive_width","round_dpr","secure","secure_cdn_subdomain","secure_distribution","shorten","type","url_suffix","use_root_path","version"],n.prototype.init=function(){return this.fromEnvironment(),this.fromDocument(),this},n.prototype.set=function(n,t){return this.configuration[n]=t,this},n.prototype.get=function(n){return this.configuration[n]},n.prototype.merge=function(n){return n==null&&(n={}),t.assign(this.configuration,t.cloneDeep(n)),this},n.prototype.fromDocument=function(){var i,n,r,t;if(t=typeof document!="undefined"&&document!==null?document.querySelectorAll('meta[name^="cloudinary_"]'):void 0,t)for(n=0,r=t.length;n<r;n++)i=t[n],this.configuration[i.getAttribute("name").replace("cloudinary_","")]=i.getAttribute("content");return this},n.prototype.fromEnvironment=function(){var t,i,u,r,n,f;if(t=typeof process!="undefined"&&process!==null?(u=process.env)!=null?u.CLOUDINARY_URL:void 0:void 0,t!=null&&(n=require("url").parse(t,!0),this.configuration={cloud_name:n.host,api_key:n.auth&&n.auth.split(":")[0],api_secret:n.auth&&n.auth.split(":")[1],private_cdn:n.pathname!=null,secure_distribution:n.pathname&&n.pathname.substring(1)},n.query!=null)){r=n.query;for(i in r)f=r[i],this.configuration[i]=f}return this},n.prototype.config=function(n,i){switch(!1){case i===void 0:return this.set(n,i),this.configuration;case!t.isString(n):return this.get(n);case!t.isPlainObject(n):return this.merge(n),this.configuration;default:return this.configuration}},n.prototype.toOptions=function(){return t.cloneDeep(this.configuration)},n}(),l=function(){function n(n,i,u){var f;this.name=n;this.publicId=i;u==null&&(t.isPlainObject(i)?(u=i,this.publicId=void 0):u={});f=new r(u);f.setParent(this);this.transformation=function(){return f}}var i;return n["new"]=function(n,t,i){return new this(n,t,i)},i=function(n,t){if(t)return t===!0?n:n+'="'+t+'"'},n.prototype.htmlAttrs=function(n){var t,r;return function(){var u=[];for(t in n)r=n[t],r&&u.push(i(t,r));return u}().sort().join(" ")},n.prototype.getOptions=function(){return this.transformation().toOptions()},n.prototype.getOption=function(n){return this.transformation().getValue(n)},n.prototype.attributes=function(){return this.transformation().toHtmlAttributes()},n.prototype.setAttr=function(n,t){return this.transformation().set("html_"+n,t),this},n.prototype.getAttr=function(n){return this.attributes()["html_"+n]||this.attributes()[n]},n.prototype.removeAttr=function(n){var t;return(t=this.transformation().remove("html_"+n))!=null?t:this.transformation().remove(n)},n.prototype.content=function(){return""},n.prototype.openTag=function(){return"<"+this.name+" "+this.htmlAttrs(this.attributes())+">"},n.prototype.closeTag=function(){return"<\/"+this.name+">"},n.prototype.toHtml=function(){return this.openTag()+this.content()+this.closeTag()},n.prototype.toDOM=function(){var n,i,r,u;if(!t.isFunction(typeof document!="undefined"&&document!==null?document.createElement:void 0))throw"Can't create DOM if document is not present!";n=document.createElement(this.name);r=this.attributes();for(i in r)u=r[i],n[i]=u;return n},n}(),p=function(n){function t(n,i){i==null&&(i={});t.__super__.constructor.call(this,"img",n,i)}return extend(t,n),t.prototype.closeTag=function(){return""},t.prototype.attributes=function(){var n;return n=t.__super__.attributes.call(this)||[],n.src==null&&(n.src=new u(this.getOptions()).url(this.publicId)),n},t}(l),d=function(n){function i(n,r){r==null&&(r={});r=t.defaults({},r,u.DEFAULT_VIDEO_PARAMS);i.__super__.constructor.call(this,"video",n.replace(/\.(mp4|ogv|webm)$/,""),r)}var r,e,f;return extend(i,n),f=["source_types","source_transformation","fallback_content","poster"],e=["webm","mp4","ogv"],r={format:"jpg",resource_type:"video"},i.prototype.setSourceTransformation=function(n){return this.transformation().sourceTransformation(n),this},i.prototype.setSourceTypes=function(n){return this.transformation().sourceTypes(n),this},i.prototype.setPoster=function(n){return this.transformation().poster(n),this},i.prototype.setFallbackContent=function(n){return this.transformation().fallbackContent(n),this},i.prototype.content=function(){var f,e,r,o,s,i,h,n,c,l;return i=this.transformation().getValue("source_types"),s=this.transformation().getValue("source_transformation"),e=this.transformation().getValue("fallback_content"),t.isArray(i)?(f=new u(this.getOptions()),r=function(){var r,e,u;for(u=[],r=0,e=i.length;r<e;r++)n=i[r],c=s[n]||{},h=f.url(""+this.publicId,t.defaults({},c,{resource_type:"video",format:n})),l=n==="ogv"?"ogg":n,o="video/"+l,u.push("<source "+this.htmlAttrs({src:h,type:o})+">");return u}.call(this)):r=[],r.join("")+e},i.prototype.attributes=function(){var h,e,o,c,n,l,a,s;for(s=this.getOption("source_types"),n=(l=this.getOption("poster"))!=null?l:{},t.isPlainObject(n)&&(v=n.public_id!=null?u.DEFAULT_IMAGE_PARAMS:r,n=new u(this.getOptions()).url((a=n.public_id)!=null?a:this.publicId,t.defaults({},n,v))),e=i.__super__.attributes.call(this)||[],o=0,c=e.length;o<c;o++)h=e[o],t.contains(f)||(e=h);return t.isArray(s)||(e.src=new u(this.getOptions()).url(this.publicId,{resource_type:"video",format:s})),n!=null&&(e.poster=n),e},i}(l),u=function(){function n(n){var t;this.devicePixelRatioCache={};this.responsiveConfig={};this.responsiveResizeInitialized=!1;t=new c(n);this.config=function(n,i){return t.config(n,i)};this.fromDocument=function(){return t.fromDocument(),this};this.fromEnvironment=function(){return t.fromEnvironment(),this};this.init=function(){return t.init(),this}}var u,g,i,f,e,o,nt,s,h,l,v,y,w,b,k;return nt="2.0.8",g="d3jpl91pxevbkh.cloudfront.net",e="cloudinary-a.akamaihd.net",u="res.cloudinary.com",o=u,i={format:"jpg",resource_type:"video"},f=["webm","mp4","ogv"],n.DEFAULT_IMAGE_PARAMS={resource_type:"image",transformation:[],type:"upload"},n.DEFAULT_VIDEO_PARAMS={fallback_content:"",resource_type:"video",source_transformation:{},source_types:f,transformation:[],type:"upload"},n["new"]=function(n){return new this(n)},b=function(n,i,r,u,f){var e;if(t.isPlainObject(n)&&(e=n,n=e.resource_type,i=e.type,r=e.url_suffix,u=e.use_root_path,f=e.shorten),i==null&&(i="upload"),r!=null)if(n==="image"&&i==="upload")n="images",i=null;else if(n==="raw"&&i==="upload")n="files",i=null;else
throw new Error("URL Suffix only supported for image/upload and raw/upload");if(u)if(n==="image"&&i==="upload"||n==="images")n=null,i=null;else
throw new Error("Root path only supported for image/upload");return f&&n==="image"&&i==="upload"&&(n="iu",i=null),[n,i].join("/")},s=function(n){var t;return n.match(/^https?:\//)||(t=document.location.protocol+"//"+document.location.host,n[0]==="?"?t+=document.location.pathname:n[0]!=="/"&&(t+=document.location.pathname.replace(/\/[^\/]*$/,"/")),n=t+n),n},n.prototype.url=function(i,u){var f,e,o,h,c,l,a;if(u==null&&(u={}),!i)return i;if(u instanceof r&&(u=u.toOptions()),u=t.defaults({},u,this.config(),n.DEFAULT_IMAGE_PARAMS),u.type==="fetch"&&(u.fetch_format=u.fetch_format||u.format,i=s(i)),h=new r(u),c=h.serialize(),!u.cloud_name)throw"Unknown cloud_name";if(u.url_suffix&&!u.private_cdn)throw"URL Suffix only supported in private CDN";if(!(i.search("/")>=0)||i.match(/^v[0-9]+/)||i.match(/^https?:\//)||((e=u.version)!=null?e.toString():void 0)||(u.version=1),i.match(/^https?:/))u.type==="upload"||u.type==="asset"?l=i:i=encodeURIComponent(i).replace(/%3A/g,":").replace(/%2F/g,"/");else{if(i=encodeURIComponent(decodeURIComponent(i)).replace(/%3A/g,":").replace(/%2F/g,"/"),u.url_suffix){if(u.url_suffix.match(/[\.\/]/))throw"url_suffix should not include . or /";i=i+"/"+u.url_suffix}u.format&&(u.trust_public_id||(i=i.replace(/\.(jpg|png|gif|webp)$/,"")),i=i+"."+u.format)}return f=y(i,u),o=b(u.resource_type,u.type,u.url_suffix,u.use_root_path,u.shorten),a=u.version?"v"+u.version:"",l||t.compact([f,o,c,a,i]).join("/").replace(/([^:])\/+/g,"$1/")},n.prototype.video_url=function(n,i){return i=t.assign({resource_type:"video"},i),this.url(n,i)},n.prototype.video_thumbnail_url=function(n,r){return r=t.assign({},i,r),this.url(n,r)},n.prototype.transformation_string=function(n){return new r(n).serialize()},n.prototype.image=function(n,i){var r;return i==null&&(i={}),r=this.imageTag(n,i),i.src==null&&r.setAttr("src",""),r=r.toDOM(),t.setData(r,"src-cache",this.url(n,i)),this.cloudinary_update(r,i),r},n.prototype.imageTag=function(n,t){var i;return i=new p(n,this.config()),i.transformation().fromOptions(t),i},n.prototype.video_thumbnail=function(n,r){return this.image(n,t.merge({},i,r))},n.prototype.facebook_profile_image=function(n,i){return this.image(n,t.assign({type:"facebook"},i))},n.prototype.twitter_profile_image=function(n,i){return this.image(n,t.assign({type:"twitter"},i))},n.prototype.twitter_name_profile_image=function(n,i){return this.image(n,t.assign({type:"twitter_name"},i))},n.prototype.gravatar_image=function(n,i){return this.image(n,t.assign({type:"gravatar"},i))},n.prototype.fetch_image=function(n,i){return this.image(n,t.assign({type:"fetch"},i))},n.prototype.video=function(n,t){return t==null&&(t={}),this.videoTag(n,t).toHtml()},n.prototype.videoTag=function(n,i){return i=t.defaults({},i,this.config()),new d(n,i)},n.prototype.sprite_css=function(n,i){return i=t.assign({type:"sprite"},i),n.match(/.css$/)||(i.format="css"),this.url(n,i)},n.prototype.responsive=function(n,i){var f,e,o,u,s,r;return i==null&&(i=!0),this.responsiveConfig=t.merge(this.responsiveConfig||{},n),u=(f=this.responsiveConfig.responsive_class)!=null?f:this.config("responsive_class"),i&&this.cloudinary_update("img."+u+", img.cld-hidpi",this.responsiveConfig),s=(e=(o=this.responsiveConfig.responsive_resize)!=null?o:this.config("responsive_resize"))!=null?e:!0,s&&!this.responsiveResizeInitialized?(this.responsiveConfig.resizing=this.responsiveResizeInitialized=!0,r=null,window.addEventListener("resize",function(n){return function(){var t,e,o,i,f,s,h;return t=(e=(o=n.responsiveConfig.responsive_debounce)!=null?o:n.config("responsive_debounce"))!=null?e:100,i=function(){if(r)return clearTimeout(r),r=null},f=function(){return n.cloudinary_update("img."+u,n.responsiveConfig)},h=function(){return i(),f()},s=function(){return i(),r=setTimeout(h,t)},t?s():f()}}(this))):void 0},n.prototype.calc_breakpoint=function(n,i){var r,u;return r=t.getData(n,"breakpoints")||t.getData(n,"stoppoints")||this.config("breakpoints")||this.config("stoppoints")||w,t.isFunction(r)?r(i):(t.isString(r)&&(r=function(){var n,f,t,i;for(t=r.split(","),i=[],n=0,f=t.length;n<f;n++)u=t[n],i.push(parseInt(u));return i}().sort(function(n,t){return n-t})),v(r,i))},n.prototype.calc_stoppoint=n.prototype.calc_breakpoint,n.prototype.device_pixel_ratio=function(n){var t,i;return n==null&&(n=!0),t=(typeof window!="undefined"&&window!==null?window.devicePixelRatio:void 0)||1,n&&(t=Math.ceil(t)),(t<=0||t===NaN)&&(t=1),i=t.toString(),i.match(/^\d+$/)&&(i+=".0"),i},w=function(n){return 100*Math.ceil(n/100)},v=function(n,t){for(var i=n.length-2;i>=0&&n[i]>=t;)i--;return n[i+1]},l=function(n){return a(n)%5+1},y=function(n,t){var r,f,s,u,h,i;return((h=t.cloud_name)!=null?h.indexOf("/"):void 0)===0?"/res"+t.cloud_name:(u="http://",r="",i="res",f=".cloudinary.com",s="/"+t.cloud_name,t.protocol&&(u=t.protocol+"//"),t.private_cdn&&(r=t.cloud_name+"-",s=""),t.cdn_subdomain&&(i="res-"+l(n)),t.secure?(u="https://",t.secure_cdn_subdomain===!1&&(i="res"),t.secure_distribution!=null&&t.secure_distribution!==e&&t.secure_distribution!==o&&(r="",i="",f=t.secure_distribution)):t.cname&&(u="http://",r="",i=t.cdn_subdomain?"a"+(a(n)%5+1)+".":"",f=t.cname),[u,r,i,f,s].join(""))},n.prototype.processImageTags=function(n,i){var e,u,f,o,s;return i==null&&(i={}),i=t.defaults({},i,this.config()),e=function(){var e,c,l,h;for(h=[],e=0,c=n.length;e<c;e++)(f=n[e],((l=f.tagName)!=null?l.toUpperCase():void 0)==="IMG")&&(u=t.assign({width:f.getAttribute("width"),height:f.getAttribute("height"),src:f.getAttribute("src")},i),o=u.source||u.src,delete u.source,delete u.src,s=this.url(o,u),u=new r(u).toHtmlAttributes(),t.setData(f,"src-cache",s),f.setAttribute("width",u.width),h.push(f.setAttribute("height",u.height)));return h}.call(this),this.cloudinary_update(e,i),this},h=function(n,t,i){var u,f,e,r;return r=(u=(f=(e=i.responsive_use_breakpoints)!=null?e:i.responsive_use_stoppoints)!=null?f:this.config("responsive_use_breakpoints"))!=null?u:this.config("responsive_use_stoppoints"),r&&(r!=="resize"||i.resizing)?this.calc_breakpoint(n,t):t},k=function(n){for(var r,i=0;(n=n!=null?n.parentNode:void 0)instanceof Element&&!i;)r=window.getComputedStyle(n),/^inline/.test(r.display)||(i=t.width(n));return i},n.prototype.cloudinary_update=function(n,i){var s,f,e,a,v,y,p,w,o,c,b,l,u,r;for(i==null&&(i={}),n=function(){switch(!1){case!t.isArray(n):return n;case n.constructor.name!=="NodeList":return n;case!t.isString(n):return document.querySelectorAll(n);default:return[n]}}(),c=(v=(y=this.responsiveConfig.responsive_class)!=null?y:i.responsive_class)!=null?v:this.config("responsive_class"),b=(p=i.round_dpr)!=null?p:this.config("round_dpr"),e=0,a=n.length;e<a;e++)(r=n[e],(w=r.tagName)!=null?w.match(/img/i):void 0)&&(l=!0,i.responsive&&t.addClass(r,c),u=t.getData(r,"src-cache")||t.getData(r,"src"),t.isEmpty(u)||(u=u.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+this.device_pixel_ratio(b)),t.hasClass(r,c)&&/\bw_auto\b/.exec(u)&&(s=k(r),s!==0?(o=h.call(this,r,s,i),f=t.getData(r,"width")||0,o>f&&(f=o,t.setData(r,"width",o)),u=u.replace(/\bw_auto\b/g,"w_"+f),t.removeAttribute(r,"width"),i.responsive_preserve_height||t.removeAttribute(r,"height")):l=!1),l&&t.setAttribute(r,"src",u)));return this},n.prototype.transformation=function(n){return r["new"](this.config()).fromOptions(n).setParent(this)},n}(),e=function(i){function r(n){r.__super__.constructor.call(this,n)}return extend(r,i),r.prototype.image=function(i,r){var u,f,e;return r==null&&(r={}),f=t.merge({src:""},r),u=this.imageTag(i,f).toHtml(),e=this.url(i,r),n(u).data("src-cache",e).cloudinary_update(r)},r.prototype.responsive=function(t){var f,e,o,u,i,s,h,r;if(i=n.extend(i||{},t),u=(f=this.responsiveConfig.responsive_class)!=null?f:this.config("responsive_class"),n("img."+u+", img.cld-hidpi").cloudinary_update(i),h=(e=(o=i.responsive_resize)!=null?o:this.config("responsive_resize"))!=null?e:!0,h&&!s){i.resizing=s=!0;r=null;return n(window).on("resize",function(t){return function(){var f,s,h,e,o,c;return f=(s=(h=i.responsive_debounce)!=null?h:t.config("responsive_debounce"))!=null?s:100,e=function(){if(r)return clearTimeout(r),r=null},o=function(){return n("img."+u).cloudinary_update(i)},c=function(){return e(),setTimeout(function(){return e(),o()},f)},f?c():o()}}(this))}},r}(u),n.fn.cloudinary=function(t){return this.filter("img").each(function(){var i,u,f;return i=n.extend({width:n(this).attr("width"),height:n(this).attr("height"),src:n(this).attr("src")},n(this).data(),t),u=i.source||i.src,delete i.source,delete i.src,f=n.cloudinary.url(u,i),i=new r(i).toHtmlAttributes(),n(this).data("src-cache",f).attr({width:i.width,height:i.height})}).cloudinary_update(t),this},n.fn.cloudinary_update=function(t){return t==null&&(t={}),n.cloudinary.cloudinary_update(this.filter("img").toArray(),t),this},s=null,n.fn.webpify=function(t,i){var u,r;return t==null&&(t={}),u=this,i=i!=null?i:t,s||(s=n.Deferred(),r=new Image,r.onerror=s.reject,r.onload=s.resolve,r.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"),n(function(){return s.done(function(){return n(u).cloudinary(n.extend({},i,{format:"webp"}))}).fail(function(){return n(u).cloudinary(t)})}),this},n.fn.fetchify=function(t){return this.cloudinary(n.extend(t,{type:"fetch"}))},n.cloudinary=new e,n.cloudinary.fromDocument(),e.prototype.delete_by_token=function(t,i){var u,f,r;return i=i||{},r=i.url,r||(u=i.cloud_name||n.cloudinary.config().cloud_name,r="https://api.cloudinary.com/v1_1/"+u+"/delete_by_token"),f=n.support.xhrFileUpload?"json":"iframe json",n.ajax({url:r,method:"POST",data:{token:t},headers:{"X-Requested-With":"XMLHttpRequest"},dataType:f})},e.prototype.unsigned_upload_tag=function(t,i,r){return n("<input/>").attr({type:"file",name:"file"}).unsigned_cloudinary_upload(t,i,r)},n.fn.cloudinary_fileupload=function(i){var u,r,f,e,o;return t.isFunction(n.fn.fileupload)?(r=!this.data("blueimpFileupload"),r&&(i=n.extend({maxFileSize:2e7,dataType:"json",headers:{"X-Requested-With":"XMLHttpRequest"}},i)),this.fileupload(i),r&&(this.bind("fileuploaddone",function(t,i){var r,u,e,f;if(!i.result.error)return i.result.path=["v",i.result.version,"/",i.result.public_id,i.result.format?"."+i.result.format:""].join(""),i.cloudinaryField&&i.form.length>0&&(f=[i.result.resource_type,i.result.type,i.result.path].join("/")+"#"+i.result.signature,e=n(t.target).prop("multiple"),r=function(){return n("<input/>").attr({type:"hidden",name:i.cloudinaryField}).val(f).appendTo(i.form)},e?r():(u=n(i.form).find('input[name="'+i.cloudinaryField+'"]'),u.length>0?u.val(f):r())),n(t.target).trigger("cloudinarydone",i)}),this.bind("fileuploadsend",function(n,t){return t.headers=$.extend({},t.headers,{"X-Unique-Upload-Id":(Math.random()*1e10).toString(16)}),!0}),this.bind("fileuploadstart",function(t){return n(t.target).trigger("cloudinarystart")}),this.bind("fileuploadstop",function(t){return n(t.target).trigger("cloudinarystop")}),this.bind("fileuploadprogress",function(t,i){return n(t.target).trigger("cloudinaryprogress",i)}),this.bind("fileuploadprogressall",function(t,i){return n(t.target).trigger("cloudinaryprogressall",i)}),this.bind("fileuploadfail",function(t,i){return n(t.target).trigger("cloudinaryfail",i)}),this.bind("fileuploadalways",function(t,i){return n(t.target).trigger("cloudinaryalways",i)}),this.fileupload("option").url||(u=i.cloud_name||n.cloudinary.config().cloud_name,f=i.resource_type||"auto",e=i.type||"upload",o="https://api.cloudinary.com/v1_1/"+u+"/"+f+"/"+e,this.fileupload("option","url",o))),this):this},n.fn.cloudinary_upload_url=function(i){return t.isFunction(n.fn.fileupload)?(this.fileupload("option","formData").file=i,this.fileupload("add",{files:[i]}),delete this.fileupload("option","formData").file,this):this},n.fn.unsigned_cloudinary_upload=function(i,r,u){var e,c,o,s,h,f;for(r==null&&(r={}),u==null&&(u={}),r=t.cloneDeep(r),u=t.cloneDeep(u),c=["cloud_name","resource_type","type"],s=0;s<c.length;)e=c[s],r[e]&&(u[e]=r[e],delete r[e]),s++;for(h in r)f=r[h],t.isPlainObject(f)?r[h]=n.map(f,function(n,t){return t+"="+n}).join("|"):t.isArray(f)&&(r[h]=f.length>0&&n.isArray(f[0])?n.map(f,function(n){return n.join(",")}).join("|"):f.join(","));return r.callback||(r.callback="/cloudinary_cors.html"),r.upload_preset=i,u.formData=r,u.cloudinary_field&&(u.cloudinaryField=u.cloudinary_field,delete u.cloudinary_field),o=u.html||{},o["class"]=t.trim("cloudinary_fileupload "+(o["class"]||"")),u.multiple&&(o.multiple=!0),this.attr(o).cloudinary_fileupload(u),this},n.cloudinary=new e,{utf8_encode:tt,crc32:a,Util:t,Condition:h,Transformation:r,Configuration:c,HtmlTag:l,ImageTag:p,VideoTag:d,Cloudinary:u,VERSION:"2.0.8",CloudinaryJQuery:e}})
$(document).foundation({topbar:{scrolltop:false,dropdown_autoclose:false,is_hover:false},dropdown:{scrolltop:true}});$(document).ready(function(){$('.my-dropdown input[type="radio"]').each(function(){var self=$(this),label=self.next(),label_text=label.text();label.remove();self.iCheck({checkboxClass:'icheckbox_line',radioClass:'iradio_line',insert:'<div class="icheck_line-icon"></div>'+label_text});});var items=$("ul#resultsBar li.filterOption").length;if(items>0){$('body').removeClass('noOptions');}else{$('body').addClass('noOptions');}$('.my-dropdown input[type="radio"]').on('ifChecked',function(event){var chose=$(this).val();var type=$(this).data("sort");var key=$(this).data("key");var safe_type=$.trim(type.replace(/ /g,"-"));var items=$("ul#resultsBar li").length;if(items==1&&$("ul#resultsBar li").eq(0).data("filter")=="All"){$("ul#resultsBar li").eq(0).remove();$("ul#resultsBar").html('<li id="filter-clear"><a class="clear-all" href="#">Clear Filters</a></li>');}if(chose!='all'){var span='<a class="filterOptionText" data-type="'+safe_type+'" data-val="'+chose+'" href="javascript:void(0);">'+chose+'</a><a data-type="'+safe_type+'" class="filterOptionClose" href="javascript:void(0);"></a>';if($("ul#resultsBar li[data-type='"+safe_type+"']").length){$("ul#resultsBar li[data-type='"+safe_type+"']").html(span).fadeIn();}else{$("<li class='filterOption' data-type='"+safe_type+"'>"+span+"</li>").prependTo("ul#resultsBar").hide().fadeIn();}update_results(1);}else{$("ul#resultsBar li[data-type='"+safe_type+"']").remove();update_results(1);}var items=$("ul#resultsBar li.filterOption").length;if(items>0){$('body').removeClass('noOptions');}else{$('body').addClass('noOptions');}});$(document).on("click",".clear-all",function(e){e.preventDefault();$("ul#resultsBar li.filterOption").each(function(){$(this).fadeOut(400,function(){var name=($(this).data("type")=="year"?"yr":$(this).data("type")).replace(/-/g,'_');$(this).remove();});});$('body').addClass('noOptions');$("ul#resultsBar").html("<li class='no_filter_applied' data-type='All' data-filter='All'>No filter applied!</li>");update_results(1);$(".current_page").text("1");$('.my-dropdown input[type="radio"][value="all"]').iCheck('check');$('#price_slider').data("ionRangeSlider").update({from:0});$('#price_slider').data("ionRangeSlider").reset();$('#mileage_slider').data("ionRangeSlider").update({from:0});$('#mileage_slider').data("ionRangeSlider").reset();});$(document).on("click","ul#resultsBar li.filterOption",function(e){e.preventDefault();if($(this).data('type')=="All"){return false;}$(this).fadeOut(400,function(){var name=$(this).data("type");$(this).remove();if(name=='year'){name='yr';}$('.my-dropdown input[type="radio"][name="'+name+'"][value="all"]').iCheck('check');if(name=='price'){$('#price_slider').data("ionRangeSlider").update({from:0});$('#price_slider').data("ionRangeSlider").reset();}if(name=='mileage'){$('#mileage_slider').data("ionRangeSlider").update({from:0});$('#mileage_slider').data("ionRangeSlider").reset();}var items=$("ul#resultsBar li.filterOption").length;if(items>0){$('body').removeClass('noOptions');}else{$('body').addClass('noOptions');}update_results();});});});$(window).load(function(){$('.color-dropdown input[value="all"]').parent('.iradio_line').addClass('color-all');var color_holder=$('.color-dropdown input[type="radio"]');color_holder.each(function(){var color_=$(this).val();if(color_!='all'){$(this).parent('.iradio_line').css('background',color_);$(this).parent('.iradio_line').css('border-color',color_);}});});setStickyBarTop=function(){lt=$("#stickyFiller").offset().top;at=$("#stickyBar").outerHeight(!0)}
$(window).on("scroll.stickyBar",Foundation.utils.throttle(function(){setStickyBarTop();var t=$(window).scrollTop();t>lt?($("#stickyFiller").height(at),$("#stickyBar").addClass("test")):($("#stickyBar.test").removeClass("test"),$("#stickyFiller").height(0));},10));$("#filter-dropdown").on("closed.fndtn.dropdown",function(){$("body").removeClass("lockScroll");$("#refineButton").removeClass("enabled");$("body").removeClass("dropDownVisible");});$("#filter-dropdown").on("opened.fndtn.dropdown",gt);function gt(){bt(function(){$("body").toggleClass("lockScroll",Utilities.isMobile())});$("body").addClass("dropDownVisible");v=!0;$("#refineButton").addClass("enabled");}function bt(t){if(Utilities.isMobile()){var r=$(window).scrollTop(),i=$("#stickyFiller").offset().top;$("html, body").animate({scrollTop:i},300,t)}}function w(){Foundation.libs.dropdown.close($("#filter-dropdown"));}$("#filter-dropdown").on('click tap',"a.close-dd",w);function update_results(next_page){var next_page=(typeof next_page==="undefined")?false:next_page;$(".loading_results").css("display","inline-block");if(next_page=="prev"){next_page=parseInt($(".page_of").data("page"))-1;}else if(next_page=="next"){next_page=parseInt($(".page_of").data("page"))+1;}jQuery.ajax({type:"post",url:listing_ajax.ajaxurl,data:filter_results(next_page),dataType:"json",success:function(response){var listings=response.number;if(listings==0){$('body').addClass('showExactMatch');}else{$('body').removeClass('showExactMatch');}$(".car_listings").html(response.content);var grammar=(listings==1?listing_ajax.singular_vehicles:listing_ajax.plural_vehicles);$(".numChances").html(listings+' '+grammar);var current_page_number=$(".current_page").text();$(".page_of").data("page",current_page_number);push_url_vars(current_page_number);var current_page_on=$(".page_of").data("page");$(".page_of").parent().html(response.top_page);$("div.pagination_container").replaceWith(response.bottom_page);$(".loading_results").hide();},error:function(response){console.log(response);}});}function filter_results(page){var parameters="action=filter_listing";parameters=parameters+"&layout="+$("#searchControl").data("layout");$("ul#resultsBar li.filterOption").each(function(index,element){var type=$(this).data("type");var span=$(this).find('a.filterOptionText');var translated_option=span.data("val");if(translated_option){var value=translated_option;}else{var value=span.text();}value=encodeURIComponent(value);if(type.slice(-2)=="[]"){var min=$(this).data('min');var max=$(this).data('max');parameters=parameters+"&"+type+"="+min+"&"+type+"="+max;}else{parameters=parameters+"&"+type+"="+value;}});if(page!==false){parameters=parameters+"&paged="+page;$(".page_of").data("page",page);$(".current_page").text(page);}var order=$("select[name='price_order']").val();var numeric='';var order_param="&order="+order;return parameters+order_param+numeric;}function push_url_vars(current_page_number){if(!$(".page_of").data("page")&&$(".page_of").attr("data-page")){$(".page_of").data("page",$(".page_of").attr("data-page"));}var query_vars=window.location.search;if(listing_ajax.permalink_set=="true"){var parameters="?";}else{var parameters=(query_vars.charAt(0)=="?"?"&":"?");}var current_page=parseInt($(".page_of").data("page"));var total=0;$("ul#resultsBar li.filterOption").each(function(index,element){var type=$(this).data('type');var span=$(this).find("a.filterOptionText");var translated_option=span.data("val");if(translated_option){var text=translated_option;}else{var text=span.text();}if($(this).data('filter')!="All"){total+=1;var type=$.trim(type).replace(/\s+/g,'-').toLowerCase();var text=$.trim(text).replace(/-/g,'--').toLowerCase();text=$.trim(text).replace(/\s+/g,'-').toLowerCase();text=encodeURIComponent(text);if(type.slice(-2)=="[]"){var min=$(this).data('min');var max=$(this).data('max');parameters+=type+"="+$.trim(min)+"&"+type+"="+$.trim(max)+"&";}else if(type=="keywords"){parameters+=type+"="+$.trim(text)+"&";}else{text.replace(/\s+/g,'-').toLowerCase();parameters+=(type=="year"?"yr":type)+"="+text+"&";}}});if($("select[name='price_order']").val()){var order_category=$("select[name='price_order']").val();var selected_index=$("select[name='price_order']")[0].selectedIndex;var orderby=$("select[name='price_order'] option").eq(selected_index).data("orderby");if(order_category!="none"){parameters+="order="+$("select[name='price_order']").val()+"&";total+=1;}}parameters+=(current_page==1?"":"paged="+current_page+"&");history.pushState('','',listing_ajax.current_url+parameters.slice(0,-1));}var sliderChange=function(data){var name=this.name;switch(this.name){case"mileageSlider":var chose=data.from;var type='mileage';var safe_type=$.trim(type.replace(/ /g,"-"));var items=$("ul#resultsBar li").length;if(items==1&&$("ul#resultsBar li").eq(0).data("filter")=="All"){$("ul#resultsBar li").eq(0).remove();$("ul#resultsBar").html('<li id="filter-clear"><a class="clear-all" href="#">Clear Filters</a></li>');}if(chose==0){chose='all';}if(chose!='all'){var chose_as=chose>999?'Max '+(chose/1000).toFixed(0)+'k miles':'max '+chose+' miles';var span='<a class="filterOptionText" data-type="'+safe_type+'" data-val="'+chose+'" href="javascript:void(0);">'+chose_as+'</a><a data-type="'+safe_type+'" class="filterOptionClose" href="javascript:void(0);"></a>';if($("ul#resultsBar li[data-type='"+safe_type+"']").length){$("ul#resultsBar li[data-type='"+safe_type+"']").html(span).fadeIn();}else{$("<li class='filterOption' data-type='"+safe_type+"'>"+span+"</li>").prependTo("ul#resultsBar").hide().fadeIn();}update_results(1);}else{$("ul#resultsBar li[data-type='"+safe_type+"']").remove();update_results(1);}var items=$("ul#resultsBar li.filterOption").length;if(items>0){$('body').removeClass('noOptions');}else{$('body').addClass('noOptions');}break;case"priceSlider":var chose=data.from;var type='price';var safe_type=$.trim(type.replace(/ /g,"-"));var items=$("ul#resultsBar li").length;if(items==1&&$("ul#resultsBar li").eq(0).data("filter")=="All"){$("ul#resultsBar li").eq(0).remove();$("ul#resultsBar").html('<li id="filter-clear"><a class="clear-all" href="#">Clear Filters</a></li>');}if(chose==0){chose='all';}if(chose!='all'){var chose_as=chose>999?'max $'+(chose/1000).toFixed(0)+'K':'$'+chose;var span='<a class="filterOptionText" data-type="'+safe_type+'" data-val="'+chose+'" href="javascript:void(0);">'+chose_as+'</a><a data-type="'+safe_type+'" class="filterOptionClose" href="javascript:void(0);"></a>';if($("ul#resultsBar li[data-type='"+safe_type+"']").length){$("ul#resultsBar li[data-type='"+safe_type+"']").html(span).fadeIn();}else{$("<li class='filterOption' data-type='"+safe_type+"'>"+span+"</li>").prependTo("ul#resultsBar").hide().fadeIn();}update_results(1);}else{$("ul#resultsBar li[data-type='"+safe_type+"']").remove();update_results(1);}var items=$("ul#resultsBar li.filterOption").length;if(items>0){$('body').removeClass('noOptions');}else{$('body').addClass('noOptions');}}}